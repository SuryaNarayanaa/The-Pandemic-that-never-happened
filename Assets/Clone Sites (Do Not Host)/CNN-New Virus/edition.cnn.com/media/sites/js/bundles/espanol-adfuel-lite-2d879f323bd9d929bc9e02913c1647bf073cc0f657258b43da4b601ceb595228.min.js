(()=>{var I=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(w,e)=>(typeof require<"u"?require:w)[e]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var A=(a,w)=>()=>(w||a((w={exports:{}}).exports,w),w.exports);var $=A((Sf,It)=>{var xs=Array.isArray;It.exports=xs});var We=A((If,Tt)=>{var Gs=typeof window=="object"&&window&&window.Object===Object&&window;Tt.exports=Gs});var z=A((Tf,Pt)=>{var Ws=We(),js=typeof self=="object"&&self&&self.Object===Object&&self,Vs=Ws||js||Function("return this")();Pt.exports=Vs});var pe=A((Pf,Ut)=>{var Hs=z(),qs=Hs.Symbol;Ut.exports=qs});var kt=A((Uf,Nt)=>{var Dt=pe(),Rt=Object.prototype,Bs=Rt.hasOwnProperty,$s=Rt.toString,fe=Dt?Dt.toStringTag:void 0;function zs(a){var w=Bs.call(a,fe),e=a[fe];try{a[fe]=void 0;var i=!0}catch{}var l=$s.call(a);return i&&(w?a[fe]=e:delete a[fe]),l}Nt.exports=zs});var Gt=A((Df,xt)=>{var Js=Object.prototype,Ys=Js.toString;function Ks(a){return Ys.call(a)}xt.exports=Ks});var K=A((Rf,Vt)=>{var Wt=pe(),Qs=kt(),Zs=Gt(),Xs="[object Null]",el="[object Undefined]",jt=Wt?Wt.toStringTag:void 0;function tl(a){return a==null?a===void 0?el:Xs:jt&&jt in Object(a)?Qs(a):Zs(a)}Vt.exports=tl});var Q=A((Nf,Ht)=>{function ol(a){return a!=null&&typeof a=="object"}Ht.exports=ol});var Oe=A((kf,qt)=>{var nl=K(),rl=Q(),il="[object Symbol]";function sl(a){return typeof a=="symbol"||rl(a)&&nl(a)==il}qt.exports=sl});var Fe=A((xf,Bt)=>{var ll=$(),al=Oe(),ul=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dl=/^\w*$/;function cl(a,w){if(ll(a))return!1;var e=typeof a;return e=="number"||e=="symbol"||e=="boolean"||a==null||al(a)?!0:dl.test(a)||!ul.test(a)||w!=null&&a in Object(w)}Bt.exports=cl});var Le=A((Gf,$t)=>{function gl(a){var w=typeof a;return a!=null&&(w=="object"||w=="function")}$t.exports=gl});var je=A((Wf,zt)=>{var pl=K(),fl=Le(),hl="[object AsyncFunction]",ml="[object Function]",yl="[object GeneratorFunction]",vl="[object Proxy]";function wl(a){if(!fl(a))return!1;var w=pl(a);return w==ml||w==yl||w==hl||w==vl}zt.exports=wl});var Yt=A((jf,Jt)=>{var _l=z(),bl=_l["__core-js_shared__"];Jt.exports=bl});var Zt=A((Vf,Qt)=>{var Ve=Yt(),Kt=function(){var a=/[^.]+$/.exec(Ve&&Ve.keys&&Ve.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function El(a){return!!Kt&&Kt in a}Qt.exports=El});var He=A((Hf,Xt)=>{var Ml=Function.prototype,Al=Ml.toString;function Cl(a){if(a!=null){try{return Al.call(a)}catch{}try{return a+""}catch{}}return""}Xt.exports=Cl});var to=A((qf,eo)=>{var Ol=je(),Fl=Zt(),Ll=Le(),Sl=He(),Il=/[\\^$.*+?()[\]{}|]/g,Tl=/^\[object .+?Constructor\]$/,Pl=Function.prototype,Ul=Object.prototype,Dl=Pl.toString,Rl=Ul.hasOwnProperty,Nl=RegExp("^"+Dl.call(Rl).replace(Il,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kl(a){if(!Ll(a)||Fl(a))return!1;var w=Ol(a)?Nl:Tl;return w.test(Sl(a))}eo.exports=kl});var no=A((Bf,oo)=>{function xl(a,w){return a==null?void 0:a[w]}oo.exports=xl});var oe=A(($f,ro)=>{var Gl=to(),Wl=no();function jl(a,w){var e=Wl(a,w);return Gl(e)?e:void 0}ro.exports=jl});var he=A((zf,io)=>{var Vl=oe(),Hl=Vl(Object,"create");io.exports=Hl});var ao=A((Jf,lo)=>{var so=he();function ql(){this.__data__=so?so(null):{},this.size=0}lo.exports=ql});var co=A((Yf,uo)=>{function Bl(a){var w=this.has(a)&&delete this.__data__[a];return this.size-=w?1:0,w}uo.exports=Bl});var po=A((Kf,go)=>{var $l=he(),zl="__lodash_hash_undefined__",Jl=Object.prototype,Yl=Jl.hasOwnProperty;function Kl(a){var w=this.__data__;if($l){var e=w[a];return e===zl?void 0:e}return Yl.call(w,a)?w[a]:void 0}go.exports=Kl});var ho=A((Qf,fo)=>{var Ql=he(),Zl=Object.prototype,Xl=Zl.hasOwnProperty;function ea(a){var w=this.__data__;return Ql?w[a]!==void 0:Xl.call(w,a)}fo.exports=ea});var yo=A((Zf,mo)=>{var ta=he(),oa="__lodash_hash_undefined__";function na(a,w){var e=this.__data__;return this.size+=this.has(a)?0:1,e[a]=ta&&w===void 0?oa:w,this}mo.exports=na});var wo=A((Xf,vo)=>{var ra=ao(),ia=co(),sa=po(),la=ho(),aa=yo();function ie(a){var w=-1,e=a==null?0:a.length;for(this.clear();++w<e;){var i=a[w];this.set(i[0],i[1])}}ie.prototype.clear=ra;ie.prototype.delete=ia;ie.prototype.get=sa;ie.prototype.has=la;ie.prototype.set=aa;vo.exports=ie});var bo=A((eh,_o)=>{function ua(){this.__data__=[],this.size=0}_o.exports=ua});var qe=A((th,Eo)=>{function da(a,w){return a===w||a!==a&&w!==w}Eo.exports=da});var me=A((oh,Mo)=>{var ca=qe();function ga(a,w){for(var e=a.length;e--;)if(ca(a[e][0],w))return e;return-1}Mo.exports=ga});var Co=A((nh,Ao)=>{var pa=me(),fa=Array.prototype,ha=fa.splice;function ma(a){var w=this.__data__,e=pa(w,a);if(e<0)return!1;var i=w.length-1;return e==i?w.pop():ha.call(w,e,1),--this.size,!0}Ao.exports=ma});var Fo=A((rh,Oo)=>{var ya=me();function va(a){var w=this.__data__,e=ya(w,a);return e<0?void 0:w[e][1]}Oo.exports=va});var So=A((ih,Lo)=>{var wa=me();function _a(a){return wa(this.__data__,a)>-1}Lo.exports=_a});var To=A((sh,Io)=>{var ba=me();function Ea(a,w){var e=this.__data__,i=ba(e,a);return i<0?(++this.size,e.push([a,w])):e[i][1]=w,this}Io.exports=Ea});var ye=A((lh,Po)=>{var Ma=bo(),Aa=Co(),Ca=Fo(),Oa=So(),Fa=To();function se(a){var w=-1,e=a==null?0:a.length;for(this.clear();++w<e;){var i=a[w];this.set(i[0],i[1])}}se.prototype.clear=Ma;se.prototype.delete=Aa;se.prototype.get=Ca;se.prototype.has=Oa;se.prototype.set=Fa;Po.exports=se});var Se=A((ah,Uo)=>{var La=oe(),Sa=z(),Ia=La(Sa,"Map");Uo.exports=Ia});var No=A((uh,Ro)=>{var Do=wo(),Ta=ye(),Pa=Se();function Ua(){this.size=0,this.__data__={hash:new Do,map:new(Pa||Ta),string:new Do}}Ro.exports=Ua});var xo=A((dh,ko)=>{function Da(a){var w=typeof a;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?a!=="__proto__":a===null}ko.exports=Da});var ve=A((ch,Go)=>{var Ra=xo();function Na(a,w){var e=a.__data__;return Ra(w)?e[typeof w=="string"?"string":"hash"]:e.map}Go.exports=Na});var jo=A((gh,Wo)=>{var ka=ve();function xa(a){var w=ka(this,a).delete(a);return this.size-=w?1:0,w}Wo.exports=xa});var Ho=A((ph,Vo)=>{var Ga=ve();function Wa(a){return Ga(this,a).get(a)}Vo.exports=Wa});var Bo=A((fh,qo)=>{var ja=ve();function Va(a){return ja(this,a).has(a)}qo.exports=Va});var zo=A((hh,$o)=>{var Ha=ve();function qa(a,w){var e=Ha(this,a),i=e.size;return e.set(a,w),this.size+=e.size==i?0:1,this}$o.exports=qa});var Ie=A((mh,Jo)=>{var Ba=No(),$a=jo(),za=Ho(),Ja=Bo(),Ya=zo();function le(a){var w=-1,e=a==null?0:a.length;for(this.clear();++w<e;){var i=a[w];this.set(i[0],i[1])}}le.prototype.clear=Ba;le.prototype.delete=$a;le.prototype.get=za;le.prototype.has=Ja;le.prototype.set=Ya;Jo.exports=le});var Qo=A((yh,Ko)=>{var Yo=Ie(),Ka="Expected a function";function Be(a,w){if(typeof a!="function"||w!=null&&typeof w!="function")throw new TypeError(Ka);var e=function(){var i=arguments,l=w?w.apply(this,i):i[0],u=e.cache;if(u.has(l))return u.get(l);var r=a.apply(this,i);return e.cache=u.set(l,r)||u,r};return e.cache=new(Be.Cache||Yo),e}Be.Cache=Yo;Ko.exports=Be});var Xo=A((vh,Zo)=>{var Qa=Qo(),Za=500;function Xa(a){var w=Qa(a,function(i){return e.size===Za&&e.clear(),i}),e=w.cache;return w}Zo.exports=Xa});var tn=A((wh,en)=>{var eu=Xo(),tu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ou=/\\(\\)?/g,nu=eu(function(a){var w=[];return a.charCodeAt(0)===46&&w.push(""),a.replace(tu,function(e,i,l,u){w.push(l?u.replace(ou,"$1"):i||e)}),w});en.exports=nu});var nn=A((_h,on)=>{function ru(a,w){for(var e=-1,i=a==null?0:a.length,l=Array(i);++e<i;)l[e]=w(a[e],e,a);return l}on.exports=ru});var dn=A((bh,un)=>{var rn=pe(),iu=nn(),su=$(),lu=Oe(),au=1/0,sn=rn?rn.prototype:void 0,ln=sn?sn.toString:void 0;function an(a){if(typeof a=="string")return a;if(su(a))return iu(a,an)+"";if(lu(a))return ln?ln.call(a):"";var w=a+"";return w=="0"&&1/a==-au?"-0":w}un.exports=an});var gn=A((Eh,cn)=>{var uu=dn();function du(a){return a==null?"":uu(a)}cn.exports=du});var $e=A((Mh,pn)=>{var cu=$(),gu=Fe(),pu=tn(),fu=gn();function hu(a,w){return cu(a)?a:gu(a,w)?[a]:pu(fu(a))}pn.exports=hu});var we=A((Ah,fn)=>{var mu=Oe(),yu=1/0;function vu(a){if(typeof a=="string"||mu(a))return a;var w=a+"";return w=="0"&&1/a==-yu?"-0":w}fn.exports=vu});var ze=A((Ch,hn)=>{var wu=$e(),_u=we();function bu(a,w){w=wu(w,a);for(var e=0,i=w.length;a!=null&&e<i;)a=a[_u(w[e++])];return e&&e==i?a:void 0}hn.exports=bu});var Je=A((Oh,mn)=>{var Eu=ze();function Mu(a,w,e){var i=a==null?void 0:Eu(a,w);return i===void 0?e:i}mn.exports=Mu});var Ye=A((Fh,yn)=>{function Au(a,w){return function(e){return a(w(e))}}yn.exports=Au});var wn=A((Lh,vn)=>{var Cu=Ye(),Ou=Cu(Object.getPrototypeOf,Object);vn.exports=Ou});var En=A((Sh,bn)=>{var Fu=K(),Lu=wn(),Su=Q(),Iu="[object Object]",Tu=Function.prototype,Pu=Object.prototype,_n=Tu.toString,Uu=Pu.hasOwnProperty,Du=_n.call(Object);function Ru(a){if(!Su(a)||Fu(a)!=Iu)return!1;var w=Lu(a);if(w===null)return!0;var e=Uu.call(w,"constructor")&&w.constructor;return typeof e=="function"&&e instanceof e&&_n.call(e)==Du}bn.exports=Ru});var An=A((Ih,Mn)=>{var Nu=K(),ku=$(),xu=Q(),Gu="[object String]";function Wu(a){return typeof a=="string"||!ku(a)&&xu(a)&&Nu(a)==Gu}Mn.exports=Wu});var On=A((Th,Cn)=>{function ju(a,w,e,i){var l=-1,u=a==null?0:a.length;for(i&&u&&(e=a[++l]);++l<u;)e=w(e,a[l],l,a);return e}Cn.exports=ju});var Ln=A((Ph,Fn)=>{function Vu(a){return function(w,e,i){for(var l=-1,u=Object(w),r=i(w),t=r.length;t--;){var s=r[a?t:++l];if(e(u[s],s,u)===!1)break}return w}}Fn.exports=Vu});var In=A((Uh,Sn)=>{var Hu=Ln(),qu=Hu();Sn.exports=qu});var Pn=A((Dh,Tn)=>{function Bu(a,w){for(var e=-1,i=Array(a);++e<a;)i[e]=w(e);return i}Tn.exports=Bu});var Dn=A((Rh,Un)=>{var $u=K(),zu=Q(),Ju="[object Arguments]";function Yu(a){return zu(a)&&$u(a)==Ju}Un.exports=Yu});var Ke=A((Nh,kn)=>{var Rn=Dn(),Ku=Q(),Nn=Object.prototype,Qu=Nn.hasOwnProperty,Zu=Nn.propertyIsEnumerable,Xu=Rn(function(){return arguments}())?Rn:function(a){return Ku(a)&&Qu.call(a,"callee")&&!Zu.call(a,"callee")};kn.exports=Xu});var Gn=A((kh,xn)=>{function ed(){return!1}xn.exports=ed});var Qe=A((_e,ae)=>{var td=z(),od=Gn(),Vn=typeof _e=="object"&&_e&&!_e.nodeType&&_e,Wn=Vn&&typeof ae=="object"&&ae&&!ae.nodeType&&ae,nd=Wn&&Wn.exports===Vn,jn=nd?td.Buffer:void 0,rd=jn?jn.isBuffer:void 0,id=rd||od;ae.exports=id});var Ze=A((xh,Hn)=>{var sd=9007199254740991,ld=/^(?:0|[1-9]\d*)$/;function ad(a,w){var e=typeof a;return w=w==null?sd:w,!!w&&(e=="number"||e!="symbol"&&ld.test(a))&&a>-1&&a%1==0&&a<w}Hn.exports=ad});var Te=A((Gh,qn)=>{var ud=9007199254740991;function dd(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ud}qn.exports=dd});var $n=A((Wh,Bn)=>{var cd=K(),gd=Te(),pd=Q(),fd="[object Arguments]",hd="[object Array]",md="[object Boolean]",yd="[object Date]",vd="[object Error]",wd="[object Function]",_d="[object Map]",bd="[object Number]",Ed="[object Object]",Md="[object RegExp]",Ad="[object Set]",Cd="[object String]",Od="[object WeakMap]",Fd="[object ArrayBuffer]",Ld="[object DataView]",Sd="[object Float32Array]",Id="[object Float64Array]",Td="[object Int8Array]",Pd="[object Int16Array]",Ud="[object Int32Array]",Dd="[object Uint8Array]",Rd="[object Uint8ClampedArray]",Nd="[object Uint16Array]",kd="[object Uint32Array]",U={};U[Sd]=U[Id]=U[Td]=U[Pd]=U[Ud]=U[Dd]=U[Rd]=U[Nd]=U[kd]=!0;U[fd]=U[hd]=U[Fd]=U[md]=U[Ld]=U[yd]=U[vd]=U[wd]=U[_d]=U[bd]=U[Ed]=U[Md]=U[Ad]=U[Cd]=U[Od]=!1;function xd(a){return pd(a)&&gd(a.length)&&!!U[cd(a)]}Bn.exports=xd});var Jn=A((jh,zn)=>{function Gd(a){return function(w){return a(w)}}zn.exports=Gd});var Kn=A((be,ue)=>{var Wd=We(),Yn=typeof be=="object"&&be&&!be.nodeType&&be,Ee=Yn&&typeof ue=="object"&&ue&&!ue.nodeType&&ue,jd=Ee&&Ee.exports===Yn,Xe=jd&&Wd.process,Vd=function(){try{var a=Ee&&Ee.require&&Ee.require("util").types;return a||Xe&&Xe.binding&&Xe.binding("util")}catch{}}();ue.exports=Vd});var et=A((Vh,Xn)=>{var Hd=$n(),qd=Jn(),Qn=Kn(),Zn=Qn&&Qn.isTypedArray,Bd=Zn?qd(Zn):Hd;Xn.exports=Bd});var tr=A((Hh,er)=>{var $d=Pn(),zd=Ke(),Jd=$(),Yd=Qe(),Kd=Ze(),Qd=et(),Zd=Object.prototype,Xd=Zd.hasOwnProperty;function ec(a,w){var e=Jd(a),i=!e&&zd(a),l=!e&&!i&&Yd(a),u=!e&&!i&&!l&&Qd(a),r=e||i||l||u,t=r?$d(a.length,String):[],s=t.length;for(var d in a)(w||Xd.call(a,d))&&!(r&&(d=="length"||l&&(d=="offset"||d=="parent")||u&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Kd(d,s)))&&t.push(d);return t}er.exports=ec});var nr=A((qh,or)=>{var tc=Object.prototype;function oc(a){var w=a&&a.constructor,e=typeof w=="function"&&w.prototype||tc;return a===e}or.exports=oc});var ir=A((Bh,rr)=>{var nc=Ye(),rc=nc(Object.keys,Object);rr.exports=rc});var lr=A(($h,sr)=>{var ic=nr(),sc=ir(),lc=Object.prototype,ac=lc.hasOwnProperty;function uc(a){if(!ic(a))return sc(a);var w=[];for(var e in Object(a))ac.call(a,e)&&e!="constructor"&&w.push(e);return w}sr.exports=uc});var tt=A((zh,ar)=>{var dc=je(),cc=Te();function gc(a){return a!=null&&cc(a.length)&&!dc(a)}ar.exports=gc});var Pe=A((Jh,ur)=>{var pc=tr(),fc=lr(),hc=tt();function mc(a){return hc(a)?pc(a):fc(a)}ur.exports=mc});var cr=A((Yh,dr)=>{var yc=In(),vc=Pe();function wc(a,w){return a&&yc(a,w,vc)}dr.exports=wc});var pr=A((Kh,gr)=>{var _c=tt();function bc(a,w){return function(e,i){if(e==null)return e;if(!_c(e))return a(e,i);for(var l=e.length,u=w?l:-1,r=Object(e);(w?u--:++u<l)&&i(r[u],u,r)!==!1;);return e}}gr.exports=bc});var hr=A((Qh,fr)=>{var Ec=cr(),Mc=pr(),Ac=Mc(Ec);fr.exports=Ac});var yr=A((Zh,mr)=>{var Cc=ye();function Oc(){this.__data__=new Cc,this.size=0}mr.exports=Oc});var wr=A((Xh,vr)=>{function Fc(a){var w=this.__data__,e=w.delete(a);return this.size=w.size,e}vr.exports=Fc});var br=A((em,_r)=>{function Lc(a){return this.__data__.get(a)}_r.exports=Lc});var Mr=A((tm,Er)=>{function Sc(a){return this.__data__.has(a)}Er.exports=Sc});var Cr=A((om,Ar)=>{var Ic=ye(),Tc=Se(),Pc=Ie(),Uc=200;function Dc(a,w){var e=this.__data__;if(e instanceof Ic){var i=e.__data__;if(!Tc||i.length<Uc-1)return i.push([a,w]),this.size=++e.size,this;e=this.__data__=new Pc(i)}return e.set(a,w),this.size=e.size,this}Ar.exports=Dc});var ot=A((nm,Or)=>{var Rc=ye(),Nc=yr(),kc=wr(),xc=br(),Gc=Mr(),Wc=Cr();function de(a){var w=this.__data__=new Rc(a);this.size=w.size}de.prototype.clear=Nc;de.prototype.delete=kc;de.prototype.get=xc;de.prototype.has=Gc;de.prototype.set=Wc;Or.exports=de});var Lr=A((rm,Fr)=>{var jc="__lodash_hash_undefined__";function Vc(a){return this.__data__.set(a,jc),this}Fr.exports=Vc});var Ir=A((im,Sr)=>{function Hc(a){return this.__data__.has(a)}Sr.exports=Hc});var Pr=A((sm,Tr)=>{var qc=Ie(),Bc=Lr(),$c=Ir();function Ue(a){var w=-1,e=a==null?0:a.length;for(this.__data__=new qc;++w<e;)this.add(a[w])}Ue.prototype.add=Ue.prototype.push=Bc;Ue.prototype.has=$c;Tr.exports=Ue});var Dr=A((lm,Ur)=>{function zc(a,w){for(var e=-1,i=a==null?0:a.length;++e<i;)if(w(a[e],e,a))return!0;return!1}Ur.exports=zc});var Nr=A((am,Rr)=>{function Jc(a,w){return a.has(w)}Rr.exports=Jc});var nt=A((um,kr)=>{var Yc=Pr(),Kc=Dr(),Qc=Nr(),Zc=1,Xc=2;function eg(a,w,e,i,l,u){var r=e&Zc,t=a.length,s=w.length;if(t!=s&&!(r&&s>t))return!1;var d=u.get(a),c=u.get(w);if(d&&c)return d==w&&c==a;var m=-1,n=!0,h=e&Xc?new Yc:void 0;for(u.set(a,w),u.set(w,a);++m<t;){var g=a[m],y=w[m];if(i)var _=r?i(y,g,m,w,a,u):i(g,y,m,a,w,u);if(_!==void 0){if(_)continue;n=!1;break}if(h){if(!Kc(w,function(o,f){if(!Qc(h,f)&&(g===o||l(g,o,e,i,u)))return h.push(f)})){n=!1;break}}else if(!(g===y||l(g,y,e,i,u))){n=!1;break}}return u.delete(a),u.delete(w),n}kr.exports=eg});var Gr=A((dm,xr)=>{var tg=z(),og=tg.Uint8Array;xr.exports=og});var jr=A((cm,Wr)=>{function ng(a){var w=-1,e=Array(a.size);return a.forEach(function(i,l){e[++w]=[l,i]}),e}Wr.exports=ng});var Hr=A((gm,Vr)=>{function rg(a){var w=-1,e=Array(a.size);return a.forEach(function(i){e[++w]=i}),e}Vr.exports=rg});var Jr=A((pm,zr)=>{var qr=pe(),Br=Gr(),ig=qe(),sg=nt(),lg=jr(),ag=Hr(),ug=1,dg=2,cg="[object Boolean]",gg="[object Date]",pg="[object Error]",fg="[object Map]",hg="[object Number]",mg="[object RegExp]",yg="[object Set]",vg="[object String]",wg="[object Symbol]",_g="[object ArrayBuffer]",bg="[object DataView]",$r=qr?qr.prototype:void 0,rt=$r?$r.valueOf:void 0;function Eg(a,w,e,i,l,u,r){switch(e){case bg:if(a.byteLength!=w.byteLength||a.byteOffset!=w.byteOffset)return!1;a=a.buffer,w=w.buffer;case _g:return!(a.byteLength!=w.byteLength||!u(new Br(a),new Br(w)));case cg:case gg:case hg:return ig(+a,+w);case pg:return a.name==w.name&&a.message==w.message;case mg:case vg:return a==w+"";case fg:var t=lg;case yg:var s=i&ug;if(t||(t=ag),a.size!=w.size&&!s)return!1;var d=r.get(a);if(d)return d==w;i|=dg,r.set(a,w);var c=sg(t(a),t(w),i,l,u,r);return r.delete(a),c;case wg:if(rt)return rt.call(a)==rt.call(w)}return!1}zr.exports=Eg});var Kr=A((fm,Yr)=>{function Mg(a,w){for(var e=-1,i=w.length,l=a.length;++e<i;)a[l+e]=w[e];return a}Yr.exports=Mg});var Zr=A((hm,Qr)=>{var Ag=Kr(),Cg=$();function Og(a,w,e){var i=w(a);return Cg(a)?i:Ag(i,e(a))}Qr.exports=Og});var ei=A((mm,Xr)=>{function Fg(a,w){for(var e=-1,i=a==null?0:a.length,l=0,u=[];++e<i;){var r=a[e];w(r,e,a)&&(u[l++]=r)}return u}Xr.exports=Fg});var oi=A((ym,ti)=>{function Lg(){return[]}ti.exports=Lg});var ii=A((vm,ri)=>{var Sg=ei(),Ig=oi(),Tg=Object.prototype,Pg=Tg.propertyIsEnumerable,ni=Object.getOwnPropertySymbols,Ug=ni?function(a){return a==null?[]:(a=Object(a),Sg(ni(a),function(w){return Pg.call(a,w)}))}:Ig;ri.exports=Ug});var li=A((wm,si)=>{var Dg=Zr(),Rg=ii(),Ng=Pe();function kg(a){return Dg(a,Ng,Rg)}si.exports=kg});var di=A((_m,ui)=>{var ai=li(),xg=1,Gg=Object.prototype,Wg=Gg.hasOwnProperty;function jg(a,w,e,i,l,u){var r=e&xg,t=ai(a),s=t.length,d=ai(w),c=d.length;if(s!=c&&!r)return!1;for(var m=s;m--;){var n=t[m];if(!(r?n in w:Wg.call(w,n)))return!1}var h=u.get(a),g=u.get(w);if(h&&g)return h==w&&g==a;var y=!0;u.set(a,w),u.set(w,a);for(var _=r;++m<s;){n=t[m];var o=a[n],f=w[n];if(i)var p=r?i(f,o,n,w,a,u):i(o,f,n,a,w,u);if(!(p===void 0?o===f||l(o,f,e,i,u):p)){y=!1;break}_||(_=n=="constructor")}if(y&&!_){var v=a.constructor,b=w.constructor;v!=b&&"constructor"in a&&"constructor"in w&&!(typeof v=="function"&&v instanceof v&&typeof b=="function"&&b instanceof b)&&(y=!1)}return u.delete(a),u.delete(w),y}ui.exports=jg});var gi=A((bm,ci)=>{var Vg=oe(),Hg=z(),qg=Vg(Hg,"DataView");ci.exports=qg});var fi=A((Em,pi)=>{var Bg=oe(),$g=z(),zg=Bg($g,"Promise");pi.exports=zg});var mi=A((Mm,hi)=>{var Jg=oe(),Yg=z(),Kg=Jg(Yg,"Set");hi.exports=Kg});var vi=A((Am,yi)=>{var Qg=oe(),Zg=z(),Xg=Qg(Zg,"WeakMap");yi.exports=Xg});var Oi=A((Cm,Ci)=>{var it=gi(),st=Se(),lt=fi(),at=mi(),ut=vi(),Ai=K(),ce=He(),wi="[object Map]",ep="[object Object]",_i="[object Promise]",bi="[object Set]",Ei="[object WeakMap]",Mi="[object DataView]",tp=ce(it),op=ce(st),np=ce(lt),rp=ce(at),ip=ce(ut),ne=Ai;(it&&ne(new it(new ArrayBuffer(1)))!=Mi||st&&ne(new st)!=wi||lt&&ne(lt.resolve())!=_i||at&&ne(new at)!=bi||ut&&ne(new ut)!=Ei)&&(ne=function(a){var w=Ai(a),e=w==ep?a.constructor:void 0,i=e?ce(e):"";if(i)switch(i){case tp:return Mi;case op:return wi;case np:return _i;case rp:return bi;case ip:return Ei}return w});Ci.exports=ne});var Di=A((Om,Ui)=>{var dt=ot(),sp=nt(),lp=Jr(),ap=di(),Fi=Oi(),Li=$(),Si=Qe(),up=et(),dp=1,Ii="[object Arguments]",Ti="[object Array]",De="[object Object]",cp=Object.prototype,Pi=cp.hasOwnProperty;function gp(a,w,e,i,l,u){var r=Li(a),t=Li(w),s=r?Ti:Fi(a),d=t?Ti:Fi(w);s=s==Ii?De:s,d=d==Ii?De:d;var c=s==De,m=d==De,n=s==d;if(n&&Si(a)){if(!Si(w))return!1;r=!0,c=!1}if(n&&!c)return u||(u=new dt),r||up(a)?sp(a,w,e,i,l,u):lp(a,w,s,e,i,l,u);if(!(e&dp)){var h=c&&Pi.call(a,"__wrapped__"),g=m&&Pi.call(w,"__wrapped__");if(h||g){var y=h?a.value():a,_=g?w.value():w;return u||(u=new dt),l(y,_,e,i,u)}}return n?(u||(u=new dt),ap(a,w,e,i,l,u)):!1}Ui.exports=gp});var ct=A((Fm,ki)=>{var pp=Di(),Ri=Q();function Ni(a,w,e,i,l){return a===w?!0:a==null||w==null||!Ri(a)&&!Ri(w)?a!==a&&w!==w:pp(a,w,e,i,Ni,l)}ki.exports=Ni});var Gi=A((Lm,xi)=>{var fp=ot(),hp=ct(),mp=1,yp=2;function vp(a,w,e,i){var l=e.length,u=l,r=!i;if(a==null)return!u;for(a=Object(a);l--;){var t=e[l];if(r&&t[2]?t[1]!==a[t[0]]:!(t[0]in a))return!1}for(;++l<u;){t=e[l];var s=t[0],d=a[s],c=t[1];if(r&&t[2]){if(d===void 0&&!(s in a))return!1}else{var m=new fp;if(i)var n=i(d,c,s,a,w,m);if(!(n===void 0?hp(c,d,mp|yp,i,m):n))return!1}}return!0}xi.exports=vp});var gt=A((Sm,Wi)=>{var wp=Le();function _p(a){return a===a&&!wp(a)}Wi.exports=_p});var Vi=A((Im,ji)=>{var bp=gt(),Ep=Pe();function Mp(a){for(var w=Ep(a),e=w.length;e--;){var i=w[e],l=a[i];w[e]=[i,l,bp(l)]}return w}ji.exports=Mp});var pt=A((Tm,Hi)=>{function Ap(a,w){return function(e){return e==null?!1:e[a]===w&&(w!==void 0||a in Object(e))}}Hi.exports=Ap});var Bi=A((Pm,qi)=>{var Cp=Gi(),Op=Vi(),Fp=pt();function Lp(a){var w=Op(a);return w.length==1&&w[0][2]?Fp(w[0][0],w[0][1]):function(e){return e===a||Cp(e,a,w)}}qi.exports=Lp});var zi=A((Um,$i)=>{function Sp(a,w){return a!=null&&w in Object(a)}$i.exports=Sp});var Yi=A((Dm,Ji)=>{var Ip=$e(),Tp=Ke(),Pp=$(),Up=Ze(),Dp=Te(),Rp=we();function Np(a,w,e){w=Ip(w,a);for(var i=-1,l=w.length,u=!1;++i<l;){var r=Rp(w[i]);if(!(u=a!=null&&e(a,r)))break;a=a[r]}return u||++i!=l?u:(l=a==null?0:a.length,!!l&&Dp(l)&&Up(r,l)&&(Pp(a)||Tp(a)))}Ji.exports=Np});var Qi=A((Rm,Ki)=>{var kp=zi(),xp=Yi();function Gp(a,w){return a!=null&&xp(a,w,kp)}Ki.exports=Gp});var Xi=A((Nm,Zi)=>{var Wp=ct(),jp=Je(),Vp=Qi(),Hp=Fe(),qp=gt(),Bp=pt(),$p=we(),zp=1,Jp=2;function Yp(a,w){return Hp(a)&&qp(w)?Bp($p(a),w):function(e){var i=jp(e,a);return i===void 0&&i===w?Vp(e,a):Wp(w,i,zp|Jp)}}Zi.exports=Yp});var ts=A((km,es)=>{function Kp(a){return a}es.exports=Kp});var ns=A((xm,os)=>{function Qp(a){return function(w){return w==null?void 0:w[a]}}os.exports=Qp});var is=A((Gm,rs)=>{var Zp=ze();function Xp(a){return function(w){return Zp(w,a)}}rs.exports=Xp});var ls=A((Wm,ss)=>{var ef=ns(),tf=is(),of=Fe(),nf=we();function rf(a){return of(a)?ef(nf(a)):tf(a)}ss.exports=rf});var us=A((jm,as)=>{var sf=Bi(),lf=Xi(),af=ts(),uf=$(),df=ls();function cf(a){return typeof a=="function"?a:a==null?af:typeof a=="object"?uf(a)?lf(a[0],a[1]):sf(a):df(a)}as.exports=cf});var cs=A((Vm,ds)=>{function gf(a,w,e,i,l){return l(a,function(u,r,t){e=i?(i=!1,u):w(e,u,r,t)}),e}ds.exports=gf});var ps=A((Hm,gs)=>{var pf=On(),ff=hr(),hf=us(),mf=cs(),yf=$();function vf(a,w,e){var i=yf(a)?pf:mf,l=arguments.length<3;return i(a,hf(w,4),e,l,ff)}gs.exports=vf});var ms=A((qm,Me)=>{var wf=Je(),_f=En(),fs=An(),hs=ps(),ht=typeof window<"u";function bf(a,w="ERROR"){console.log("[service/dotenv][".concat(w,"] ").concat(a))}function Ef(a){return a==="True"||a==="true"?!0:a==="False"||a==="false"?!1:a}function re(a){return Array.isArray(a)?hs(a,(w,e,i)=>(w[i]=re(e),w),[]):_f(a)?hs(a,(w,e,i)=>(w[i]=re(e),w),{}):fs(a)&&a.split(",").length>1?a.split(","):fs(a)?Ef(a):a}function Re(a,w){if(a){let e=wf(a,w,a[w]);return e!==void 0?re(e):void 0}}var ft=class{constructor(){this.allowedOnClient=[],this.allowedOnEditClient=[],this.getAllForWindow=this.getAllForWindow.bind(this)}getForClient(w,e=void 0){let i=Re(window.env,w),l=Re(window.env,w);return i!==void 0?i:l!==void 0?l:re(e)}getForServer(w,e=void 0){let i=Re(window.env,w),l=Re(process.env,w);return i!==void 0?i:l!==void 0?l:re(e)}getAllForClient(){return re({...window.env,...window.env})}getAllForWindow(w){["allowedOnClient","allowedOnEditClient"].forEach(i=>{this[i]&&!Array.isArray(this[i])&&bf("EnvVars.".concat(i," must be an array of environment variable key strings"))});let e=this.allowedOnClient;return w&&(e=e.concat(this.allowedOnEditClient)),e&&e.reduce((i,l)=>{let u=this.getForServer(l);return i[l]=u,i},{})}getAllForServer(){return re({...process.env,...window.env})}},Z=new ft;function Mf(a={}){Z.allowedOnClient=a.allowedOnClient||[],Z.allowedOnEditClient=a.allowedOnEditClient||[]}Me.exports.configure=Mf;Me.exports.get=ht?Z.getForClient:Z.getForServer;Me.exports.getAll=ht?Z.getAllForClient:Z.getAllForServer;Me.exports.getAllForWindow=ht?Z.getForClient:Z.getAllForWindow});var vs=A((ys,mt)=>{(function(a){typeof ys=="object"&&typeof mt<"u"?mt.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).IAS=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadScriptFromUrl=void 0;var i=a("./promiseWithTimeout");e.loadScriptFromUrl=function(l,u,r,t){return r===void 0&&(r=document),t===void 0&&(t=!0),(0,i.promiseWithTimeout)(5e3,new Promise(function(s,d){var c,m,n=r.createElement("script");if(n.setAttribute("data-nscript","beforeInteractive"),document.getElementById(u))d("Element name ".concat(u," already exists in the document."));else try{var h="",g=(h=1<l.split("//").length?l:((m=((c=r.location)==null?void 0:c.protocol)==="https:")!==null&&m?"https://":"http://").concat(l),r.getElementsByTagName("script")[0]);if(n.id=u,n.type="text/javascript",n.src=h,n.async=t,n.addEventListener("load",function(){s(n)}),g==null||!g.parentNode)throw new Error("Could not insert script.");g.parentNode.insertBefore(n,g)}catch(y){console.log("Error in loading script from ".concat(n.src),y),d(y)}}))}},{"./promiseWithTimeout":8}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],9:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],10:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(a,w,e){"use strict";e.__esModule=!0;var i,l=a("./isMobile");for(i in l)e.hasOwnProperty(i)||(e[i]=l[i]);a=a("./isMobile"),e.default=a.default},{"./isMobile":12}],12:[function(a,w,e){"use strict";e.__esModule=!0;function i(p){return p!==void 0&&p.platform==="MacIntel"&&typeof p.maxTouchPoints=="number"&&1<p.maxTouchPoints&&typeof MSStream>"u"}var l=/iPhone/i,u=/iPod/i,r=/iPad/i,t=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,m=/Silk/i,n=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,y=/BB10/i,_=/Opera Mini/i,o=/\b(CriOS|Chrome)(?:.+)Mobile/i,f=/Mobile(?:.+)Firefox\b/i;e.default=function(p){var v,b={userAgent:"",platform:"",maxTouchPoints:0};p||typeof navigator>"u"?typeof p=="string"?b.userAgent=p:p&&p.userAgent&&(b={userAgent:p.userAgent,platform:p.platform,maxTouchPoints:p.maxTouchPoints||0}):b={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var M=(p=b.userAgent).split("[FBAN");return(M=(p=M[1]!==void 0?M[0]:p).split("Twitter"))[1]!==void 0&&(p=M[0]),v=p,(p={apple:{phone:(M=function(O){return O.test(v)})(l)&&!M(n),ipod:M(u),tablet:!M(l)&&(M(r)||i(b))&&!M(n),universal:M(t),device:(M(l)||M(u)||M(r)||M(t)||i(b))&&!M(n)},amazon:{phone:M(c),tablet:!M(c)&&M(m),device:M(c)||M(m)},android:{phone:!M(n)&&M(c)||!M(n)&&M(s),tablet:!M(n)&&!M(c)&&!M(s)&&(M(m)||M(d)),device:!M(n)&&(M(c)||M(m)||M(s)||M(d))||M(/\bokhttp\b/i)},windows:{phone:M(n),tablet:M(h),device:M(n)||M(h)},other:{blackberry:M(g),blackberry10:M(y),opera:M(_),firefox:M(f),chrome:M(o),device:M(g)||M(y)||M(_)||M(f)||M(o)},any:!1,phone:!1,tablet:!1}).any=p.apple.device||p.android.device||p.windows.device||p.other.device,p.phone=p.apple.phone||p.android.phone||p.windows.phone,p.tablet=p.apple.tablet||p.android.tablet||p.windows.tablet,p}},{}],13:[function(g,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(_,o){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,p){f.__proto__=p}:function(f,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(f[v]=p[v])}))(_,o)},function(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function f(){this.constructor=_}i(_,o),_.prototype=o===null?Object.create(o):(f.prototype=o.prototype,new f)}),r=this&&this.__assign||function(){return(r=Object.assign||function(_){for(var o,f=1,p=arguments.length;f<p;f++)for(var v in o=arguments[f])Object.prototype.hasOwnProperty.call(o,v)&&(_[v]=o[v]);return _}).apply(this,arguments)},t=(Object.defineProperty(e,"__esModule",{value:!0}),e.IAS=void 0,g("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),s=g("@turnercode/digital-ads-utilities/dist/Version"),d=g("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),c=g("@turnercode/digital-ads-utilities/dist/localization"),m=g("ismobilejs"),n=g("./version.json"),h=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],g=(l=t.AAdFuelModule,u(y,l),y);function y(_){var o=l.call(this,_,"Integral Ad Science Module",new s.Version(n.major,n.minor,n.revision,n.family),"ias","color: #d2b000; padding: 2px",t.ModuleFlags.EnableForDomestic|t.ModuleFlags.EnableForForeign|t.ModuleFlags.RunWithoutAdFuel,h)||this;return o.config=_,o.enabled=!0,o.iasActive=!1,o.slotsAdded=!1,o.registeredSlots={},o.adSlots=[],o.init=function(){return new Promise(function(f,p){o.logger.info("Initializing Integral Ad Science Module..."),o.enabled&&(o.logger.info("Initializing Module: ",o.config),(0,d.loadScriptFromUrl)("cdn.adsafeprotected.com/iasPET.1.js","ias").then(function(v){o.iasActive=!0;var b=(0,c.isIntl)()?o.config.ACCOUNT_IDS.INTL:o.config.ACCOUNT_IDS.DOM;o.logger.info("Pub Ids: ",o.config.ACCOUNT_IDS.DOM,o.config.ACCOUNT_IDS.INTL),o.logger.info("Setting iasPET.pubId: ",b),window.__iasPET.pubId=b,window.IAS=window.IAS||{},window.IAS.getTargetingForVideo=o.getTargetingForVideo,f()}).catch(function(v){o.logger.error("There was an error loading the Integral Ad Science script.",v)}).finally(function(){window.AdFuel?window.AdFuel.setModuleReady(o.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG)})})),f()})},o.getTargetingForVideo=function(f){return f===void 0&&(f="cnn.com_politics_carousel_t1"),new Promise(function(p,v){o.logger.log("Getting Video targeting...");var b={adSlotId:"video1",size:[1,1],type:"video",adUnitPath:f||""};window.__iasPET.queue.push({adSlots:[b],dataHandler:function(M){M||(o.logger.warn("No IAS Targeting For Video"),v(new Error("No Targeting Returned")));try{var O=JSON.parse(M),S=r(r(r(r({},O),O.brandSafety),O.slots.video1),O.custom);delete S.brandSafety,delete S.slots,delete S.custom,o.logger.info("IAS Video Targeting",S),p(S)}catch(T){o.logger.error("Error Parsing IAS Targeting: ",T),v(T)}}})})},o.preQueue=function(f){return new Promise(function(p,v){var b;if((b=!(o!=null&&o.iasActive))!==null&&b)p({name:o.MODULE_LOG_TAG,data:"not active"});else{o.logger.info("IAS preQueue fired.");var M=Math.floor(1e3*Math.random()).toString(),O=!1;if(!o.slotsAdded&&0<f.length){for(var S=0,T=f;S<T.length;S++){var F=T[S],P=(o.logger.info("---------- Queue WrappedSlot: ",F),F.unWrappedSlot),N={};!o.registeredSlots[P.rktr_slot_id]&&P.rktr_slot_id!=="page"&&0<P.sizes.length&&(o.registeredSlots[P.rktr_slot_id]=!0,N={adSlotId:P.rktr_slot_id,size:P.sizes.map(function(D){return(Array.isArray(D)?D[0]:"")==="fluid"?[1,1]:D}),adUnitPath:"/8663477/"+P.rktr_ad_id},o.logger.info("---------- Queue iasSlot: ",N),o.adSlots.push(N)),P.rktr_slot_id!=="page"&&Object.assign(F.programmatic,{ias:r({},N)})}window.IASFallbackTimeout=window.IASFallbackTimeout||{},window.IASFallbackTimeout[M]=setTimeout(function(){O||(M!==void 0&&delete window.IASFallbackTimeout[M],p({name:o.MODULE_LOG_TAG,data:M}),O=!0)},(0,m.default)().any?o.config.DEFAULT_MOBILE_TIMEOUT||1e3:o.config.DEFAULT_DESKTOP_TIMEOUT||750),window.__iasPET.queue.push({adSlots:o.adSlots,dataHandler:function(D){D||(o.logger.warn("No IAS Targeting",M),O)||(clearTimeout(window.IASFallbackTimeout[M]),delete window.IASFallbackTimeout[M],p({name:o.MODULE_LOG_TAG,data:"No IAS targeting for ".concat(M)}),O=!0);try{var R=JSON.parse(D),j=r(r({},R),{queueId:M});o.logger.info("Setting IAS Targeting...",{targetData:j}),window.__iasPET.setTargetingForGPT(),Object.entries(R.slots).forEach(function(V){var q,B=V[0],ge=V[1];for(q in ge)window.AdFuel.addSlotLevelTarget(B,q,ge[q])}),O||(clearTimeout(window.IASFallbackTimeout[M]),delete window.IASFallbackTimeout[M],p({name:o.MODULE_LOG_TAG,data:R}),O=!0)}catch(V){o.logger.error("Error Parsing IAS targeting for queueId ".concat(M),V,D),v({err:V})}}}),0<window.__iasPET.queue.length&&typeof window.__iasPET.start=="function"&&(o.logger.info("Manually starting IAS queue processes for queue: ",M),window.__iasPET.start())}else O||(p({name:o.MODULE_LOG_TAG,data:"No wrapped slots"}),O=!0)}})},o.logger.info("IAS Module constructed"),o}new(e.IAS=g)(((u=window.AdFuelOptions)==null?void 0:u.IAS)||{DEBUG:!0,ACCOUNT_IDS:{DOM:0,INTL:0},DEFAULT_DESKTOP_TIMEOUT:1e3,DEFAULT_MOBILE_TIMEOUT:750})},{"./version.json":14,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6,"@turnercode/digital-ads-utilities/dist/localization":7,ismobilejs:11}],14:[function(a,w,e){w.exports={family:"TS",major:5,minor:0,revision:14}},{}]},{},[13])(13)})});var _s=A((ws,yt)=>{(function(a){typeof ws=="object"&&typeof yt<"u"?yt.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).FWProgrammatic=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],9:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],10:[function(c,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(n,h){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(g,y){g.__proto__=y}:function(g,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(g[_]=y[_])}))(n,h)},function(n,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function g(){this.constructor=n}i(n,h),n.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.FWProgrammatic=void 0,c("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),t=c("@turnercode/digital-ads-utilities/dist/Version"),s=c("@turnercode/digital-ads-utilities/dist/CookieHelper"),d=c("./version.json"),c=(l=r.AAdFuelModule,u(m,l),m);function m(n){var h=l.call(this,n,"FW Programmatic Module",new t.Version(d.major,d.minor,d.revision,d.family),"fwp","color: #d2b000; padding: 2px",r.ModuleFlags.RunWithoutAdFuel|r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign)||this;return h.config=n,h.isInitialized=!1,h.enabled=!0,h.targetingSet=!1,h.addSATOCookie=function(g){h.logger.log("Adding SATO cookie... ",{turnerDomain:g}),g={cookieName:"sato",cookieValue:1,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"},{key:"Domain",value:g}],secure:!1},s.CookieHelper.setCookie(g),h.logger.log("Added SATO cookie.")},h.addPixels=function(g){var y,_;!s.CookieHelper.hasCookie("sato")&&g.consentGranted?(y=["https://ads.stickyadstv.com/user-matching?id=185&_fw_gdpr=".concat(g.gdprApplies,"&_fw_gdpr_consent=").concat(g.consentString||""),"https://ads.stickyadstv.com/auto-user-sync"],window.WM&&window.WM.getHHIDTargeting&&(_=window.WM.getHHIDTargeting()).sendHHID==="true"&&_.wmhhid!==null&&32<=_.wmhhid.length&&(h.logger.log("Adding Freewheel pixel for vcid2 to pixel collection."),_=_.wmhhid,y.push("https://bea4.v.fwmrm.net/ad/u?token=b8ce708402a6286faf64c964294f2046&nw=48804&dpid=127719&puid=".concat(_))),h.logger.log("Adding Pixels..."),y.forEach(function(o){var f=document.createElement("script");f.src=o,h.logger.log("Adding Pixel: ",o),document.head.appendChild(f)}),h.addSATOCookie(g.turnerDomain)):h.logger.log("Not adding pixels. Has SATO cookie or consent not granted.",{hasCookie:s.CookieHelper.hasCookie("sato"),consentGranted:g.consentGranted})},h.init=function(){return new Promise(function(g,y){var _,o,f,p,v;h.logger.info("Initializing FW Programmatic Module..."),h.enabled&&(h.logger.info("Initializing Module: ",h.config),_=window.WM.UserConsent.getRegion()==="gdpr"?1:0,o=typeof window.__tcfapi=="function"?(o=(o=window.WM)==null?void 0:o.UserConsent)==null?void 0:o.getTcfAPIstring():"",f=(f=(f=window.WM)==null?void 0:f.UserConsent)==null?void 0:f.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),v="cnn.com",(p=/.*?\.(.*?\..*?)$/.exec(window.location.hostname))&&0<p.length&&(v=p[1]),h.logger.log("Calling addPixels: ",{turnerDomain:v,gdprApplies:_,consentGranted:f,consentString:o}),h.addPixels({turnerDomain:v,gdprApplies:_,consentGranted:f,consentString:o}),window.AdFuel?(window.AdFuel.setModuleReady(h.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(h.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(h.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(h.MODULE_LOG_TAG)}),g())})},h.logger.info("FW Programmatic Module constructed"),h}new(e.FWProgrammatic=c)(((u=window.AdFuelOptions)==null?void 0:u.FWP)||window.FWPConfig||{DEBUG:!1})},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(a,w,e){w.exports={family:"TS",major:2,minor:0,revision:7}},{}]},{},[10])(10)})});var Es=A((bs,vt)=>{(function(a){typeof bs=="object"&&typeof vt<"u"?vt.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Guid=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadScriptFromUrl=void 0;var i=a("./promiseWithTimeout");e.loadScriptFromUrl=function(l,u,r,t){return r===void 0&&(r=document),t===void 0&&(t=!0),(0,i.promiseWithTimeout)(5e3,new Promise(function(s,d){var c,m,n=r.createElement("script");if(n.setAttribute("data-nscript","beforeInteractive"),document.getElementById(u))d("Element name ".concat(u," already exists in the document."));else try{var h="",g=(h=1<l.split("//").length?l:((m=((c=r.location)==null?void 0:c.protocol)==="https:")!==null&&m?"https://":"http://").concat(l),r.getElementsByTagName("script")[0]);if(n.id=u,n.type="text/javascript",n.src=h,n.async=t,n.addEventListener("load",function(){s(n)}),g==null||!g.parentNode)throw new Error("Could not insert script.");g.parentNode.insertBefore(n,g)}catch(y){console.log("Error in loading script from ".concat(n.src),y),d(y)}}))}},{"./promiseWithTimeout":8}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],9:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],10:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(n,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(g,y){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(_,o){_.__proto__=o}:function(_,o){for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(_[f]=o[f])}))(g,y)},function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function _(){this.constructor=g}i(g,y),g.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.Guid=void 0,n("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),t=n("@turnercode/digital-ads-utilities/dist/Version"),s=n("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),d=n("@turnercode/digital-ads-utilities/dist/CookieHelper"),c=n("./version.json"),m=["data-store","ads-contextual","ads-person-prof","ads-person","content-person-prof","content-person","measure-ads","measure-content","measure-market","product-develop"],n=(l=r.AAdFuelModule,u(h,l),h.prototype.includeGuidScript=function(){var g=this;return new Promise(function(y){(0,s.loadScriptFromUrl)("www.ugdturner.com/xd.sjs","guid").then(function(){g.logger.info("Exposing window.turner_getGuid"),window.turner_getGuid=g.getGuid,y()})})},h.prototype.getGuid=function(){return d.CookieHelper.readCookie("ug")||""},h);function h(g){var y=l.call(this,g,"GUID Module",new t.Version(c.major,c.minor,c.revision,c.family),"guid","color: #d2b000; padding: 2px",r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign|r.ModuleFlags.RunWithoutAdFuel,m)||this;return y.config=g,y.enabled=!0,y.targetingSet=!1,y.init=function(){return new Promise(function(_,o){var f,p,v,b;y.logger.info("Initializing GUID Module..."),y.enabled&&(y.logger.info("Initializing Module: ",y.config),f=((f=(f=window.WM)==null?void 0:f.UserConsent)==null?void 0:f.getRegion())!=="global"||!1,p=((p=(p=window.WM)==null?void 0:p.UserConsent)==null?void 0:p.isInGdprRegion())||!1,v=((v=(v=window.WM)==null?void 0:v.UserConsent)==null?void 0:v.inUserConsentState(m,{id:"GUID"}))||!1,b=((b=(b=window.WM)==null?void 0:b.UserConsent)==null?void 0:b.isOptanonLoaded())||!1,(f&&(p&&b||!p)&&v||!f)&&y.includeGuidScript(),window.AdFuel?window.AdFuel.setModuleReady(y.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(y.MODULE_LOG_TAG)}),_())})},y.preDispatch=function(_){return new Promise(function(o,f){y.logger.info("GUID preDispatch fired.");var p,v=y.getGuid();y.logger.info("Got GUID:",v),y.targetingSet||(y.targetingSet=!0,y.logger.info("Adding GUID Targeting..."),window.AdFuel?window.AdFuel.addPageLevelTarget("guid",v):(p=window.googletag)!=null&&p.cmd.push(function(){var b;(b=window.googletag)!=null&&b.pubads().setTargeting("guid",v)})),o({name:"GUID",guid:v})})},y.logger.info("Guid Module constructed"),y}new(e.Guid=n)(((u=window.AdFuelOptions)==null?void 0:u.GUID)||{DEBUG:!1})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(a,w,e){w.exports={family:"TS",major:5,minor:0,revision:13}},{}]},{},[11])(11)})});var As=A((Ms,wt)=>{(function(a){typeof Ms=="object"&&typeof wt<"u"?wt.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).TransId=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],9:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],10:[function(d,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(m,n){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(h,g){h.__proto__=g}:function(h,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(h[y]=g[y])}))(m,n)},function(m,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function h(){this.constructor=m}i(m,n),m.prototype=n===null?Object.create(n):(h.prototype=n.prototype,new h)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionId=void 0,d("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),t=d("@turnercode/digital-ads-utilities/dist/Version"),s=d("./version.json"),d=(l=r.AAdFuelModule,u(c,l),c.prototype.getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round(new Date().getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},c.prototype.init=function(){var m=this;return new Promise(function(n,h){var g;window.turner_getTransactionId=m.getTransactionID,window.cnnad_getTransactionId=m.getTransactionID,typeof window.turner_getTransactionId!="function"?m.logger.warn("turner_getTransactionId failed."):(g=window.turner_getTransactionId(),m.logger.info("Received: ".concat(g)),window.AdFuel?(window.AdFuel.setModuleReady(m.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(m.MODULE_LOG_TAG),window.AdFuel.addPageLevelTarget("transId",g)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(m.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(m.MODULE_LOG_TAG),window.AdFuel.addPageLevelTarget("transId",g)}))})},c);function c(){return l.call(this,null,"TransactionId",new t.Version(s.major,s.minor,s.revision,s.family),"transid","color: #d2b000;padding: 2px;",r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign|r.ModuleFlags.RunWithoutAdFuel)||this}new(e.TransactionId=d)},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(a,w,e){w.exports={family:"TS",major:5,minor:0,revision:13}},{}]},{},[10])(10)})});var Os=A((Cs,_t)=>{(function(a){typeof Cs=="object"&&typeof _t<"u"?_t.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Audience=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],9:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],10:[function(h,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(_,o){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,p){f.__proto__=p}:function(f,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(f[v]=p[v])}))(_,o)},function(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function f(){this.constructor=_}i(_,o),_.prototype=o===null?Object.create(o):(f.prototype=o.prototype,new f)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.Audience=void 0,h("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),t=h("@turnercode/digital-ads-utilities/dist/localization"),s=h("@turnercode/digital-ads-utilities/dist/Version"),d=h("@turnercode/digital-ads-utilities/dist/getUrlParam"),c=h("@turnercode/digital-ads-utilities/dist/CookieHelper"),m=h("./version.json"),n=["data-store","data-share","data-sell","ads-contextual","ads-person-prof","ads-person","vendor"],h=(l=r.AAdFuelModule,u(g,l),g);function g(_){var o=l.call(this,_,"Audience and User Identity Module",new s.Version(m.major,m.minor,m.revision,m.family),"aui","color: #d2b000; padding: 2px",r.ModuleFlags.RunWithoutAdFuel|r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign,n)||this;return o.config=_,o.enabled=!0,o.ssaiActive=!1,o.cookieDomainArray=["cnn.com","cnn.com"],o.domainRegex=/.*?\.(.*?\..*?)$/,o.flagsAreSet=!1,o.datidIsSet=!1,o.ukidIsSet=!1,o.init=function(){return new Promise(function(f,p){var v,b;o.logger.info("Initializing Audience and User Identity Module..."),o.enabled&&(o.logger.info("Initializing Module: ",o.config),o.cookieDomainArray=o.domainRegex.exec(window.location.hostname)||[],o.logger.info("Cookie Domain Array: ",o.cookieDomainArray),o.cookieDomain=o.cookieDomainArray&&0<o.cookieDomainArray.length&&o.cookieDomainArray[1]||"cnn.com",b=o.cookieDomain.match(/\./g),o.logger.info("Dot Matches: ",{dotMatches:b,length:b==null?void 0:b.length}),o.audienceDomain=o.cookieDomainArray.input||o.cookieDomainArray[0]||"cnn.com",o.audienceDomain.includes("beam.discomax.com")&&(v=o.audienceDomain.split("."),o.logger.info("aTemp: ",v),v=v.slice(Math.max(v.length-4,0)),o.logger.info("aDomainTemp: ",v),o.audienceDomain=v.join(".").replace("beam","api")),b&&1<b.length&&(b=(v=o.cookieDomain.split(".")).slice(Math.max(v.length-2,0)),o.logger.info("cDomainTemp: ",b),o.cookieDomain=b.join(".")),o.logger.info("Cookie Domain: ",o.cookieDomain),o.logger.info("Audience Domain: ",o.audienceDomain),window.WM=window.WM||{},window.WM.getDatIdTargeting=o.getDatIdTargeting.bind(o),window.WM.getAllCDPFlags=o.getAllCDPFlags.bind(o),window.WM.buildCDPFlags=o.buildCDPFlags.bind(o),((0,t.isIntl)()&&o.config.SITE_VENDORS.INTL.includes("ID5")||!(0,t.isIntl)()&&o.config.SITE_VENDORS.DOM.includes("ID5"))&&(o.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),o.getDatIdTargeting(),window.AdFuel?window.AdFuel.setModuleReady(o.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG)}),o.addScripts(),f())})},o.start=function(){return new Promise(function(f,p){window.WM.getUMTOCookies=o.getUMTOCookies,window.AdFuelUtils=window.AdFuelUtils||{},window.AdFuelUtils.getUMTOCookies=o.getUMTOCookies,f()})},o.buildCDPFlags=function(f,p,v){return f=c.CookieHelper.readCookie(f)==="true"?"t":"f",p=c.CookieHelper.readCookie(p)==="true"?"t":"f",v=c.CookieHelper.readCookie(v)?"t":"f","".concat(f).concat(p).concat(v)},o.getAllCDPFlags=function(){var f=[];return f.push("lr"+o.buildCDPFlags("isInAuthTokenExperiment","sendAuthToken2","tok_lr2")),f.filter(function(p){return!p.includes("xxf")}).join("-")},o.buildFlag=function(f){o.logger.info("Building Flag for Cookie: ",f);var p="f";return p=f.send&&typeof f.id=="string"&&c.CookieHelper.hasCookie(f.id)&&1<=(c.CookieHelper.readCookie(f.id)||"").length?"t":p},o.getFlags=function(){var f=[{name:"LiveRamp",id:"tok_lr2",send:!(0,t.isIntl)()},{name:"The Trade Desk UID",id:"glp_ggw",send:!0}],p=[""];return f.forEach(function(v){p.push(o.buildFlag(v))}),o.logger.info("Assembling Flags: ",p),"".concat(p.join(""))},o.getDatIdTargeting=function(){return c.CookieHelper.hasCookie("datid")&&c.CookieHelper.readCookie("datid")!==null?(o.logger.info("Setting datid",{datid:c.CookieHelper.readCookie("datid")}),o.datid=c.CookieHelper.readCookie("datid")||"",window.WM.getDatId=function(){return c.CookieHelper.readCookie("datid")},{datid:o.datid}):c.CookieHelper.hasCookie("WMUKID_STABLE")&&c.CookieHelper.readCookie("WMUKID_STABLE")!==null?(o.logger.info("Setting datid to WMUKID_STABLE",{ukid:c.CookieHelper.readCookie("WMUKID_STABLE")}),o.datid=c.CookieHelper.readCookie("WMUKID_STABLE")||"",window.WM.getDatId=function(){return c.CookieHelper.readCookie("WMUKID_STABLE")},{datid:o.datid}):(o.logger.info("Could not find datid or WMUKID_STABLE"),{datid:""})},o.getUMTOCookies=function(){var f=((f=(f=window.WM)==null?void 0:f.UserConsent)==null?void 0:f.getRegion())!=="global"||!1,p=((p=(p=window.WM)==null?void 0:p.UserConsent)==null?void 0:p.isInGdprRegion())||!1,v=((v=(v=window.WM)==null?void 0:v.UserConsent)==null?void 0:v.getUserConsentAdvertisingState())||!1,b=((b=(b=window.WM)==null?void 0:b.UserConsent)==null?void 0:b.isOneTrustLoaded())||!1,M=[];return o.logger.log("Checking consent..."),f&&(p&&b||!p)&&v||!f?(o.logger.log("Getting UMTO cookies"),o.logger.log("sendHHID: ",c.CookieHelper.readCookie("sendHHID")),o.logger.log("HHID: ",c.CookieHelper.readCookie("wmhhid")),c.CookieHelper.readCookie("sendHHID")==="true"&&c.CookieHelper.hasCookie("wmhhid")&&c.CookieHelper.readCookie("wmhhid")!==null&&c.CookieHelper.readCookie("wmhhid"),c.CookieHelper.readCookie("bea4")?M.push("_fw_vcid2="+c.CookieHelper.readCookie("bea4")):c.CookieHelper.readCookie("bea4r")&&M.push("_fw_vcid2="+c.CookieHelper.readCookie("bea4r")),c.CookieHelper.readCookie("glp_ggw")&&(o.logger.log("The Trade Desk UID 2.0: ",c.CookieHelper.readCookie("glp_ggw")),M.push("_fw_3P_uid=UID2:"+c.CookieHelper.readCookie("glp_ggw"))),c.CookieHelper.readCookie("zwmc")&&M.push("zwmc="+c.CookieHelper.readCookie("zwmc")),c.CookieHelper.readCookie("ifyr")&&M.push("ifyr="+c.CookieHelper.readCookie("ifyr")),c.CookieHelper.readCookie("hkgc")&&M.push("hkgc="+c.CookieHelper.readCookie("hkgc")),c.CookieHelper.readCookie("goiz")&&M.push("goiz="+c.CookieHelper.readCookie("goiz")),c.CookieHelper.readCookie("kfyn")&&M.push("kfyn="+c.CookieHelper.readCookie("kfyn")),(c.CookieHelper.readCookie("datid")||c.CookieHelper.readCookie("WMUKID_STABLE"))&&(c.CookieHelper.readCookie("datid")?(o.logger.log("Pushing vcid as datid: ",c.CookieHelper.readCookie("datid")),M.push("vcid="+c.CookieHelper.readCookie("datid")),M.push("wmuk="+c.CookieHelper.readCookie("datid"))):c.CookieHelper.readCookie("WMUKID_STABLE")&&(o.logger.log("Pushing vcid as WMUKID_STABLE: ",c.CookieHelper.readCookie("WMUKID_STABLE")),M.push("vcid="+c.CookieHelper.readCookie("WMUKID_STABLE")),M.push("wmuk="+c.CookieHelper.readCookie("WMUKID_STABLE"))))):o.logger.log("No consent.  You shall have no cookies."),M.join("&")},o.isString=function(f){return Object.prototype.toString.call(f)==="[object String]"},o.isURIEncoded=function(f){return!!o.isString(f)&&decodeURIComponent(f)!==f},o.addScripts=function(){var f;o.ssaiActive||(document.readyState==="complete"?(o.addSSAIJavascript(),o.addUMTOCookie(),o.addFWCookie()):(f=o,document.onreadystatechange=function(){document.readyState==="complete"&&(f.addSSAIJavascript(),f.addUMTOCookie(),f.addFWCookie())}))},o.setLiveRampCookie=function(f){f={cookieName:"orev",cookieValue:f,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"}],secure:!0},c.CookieHelper.setCookie(f)},o.addLiveRampFreewheelPixel=function(f,p){var v;f!==null&&(f="https://idsync.rlcdn.com/712348.gif?partner_uid=".concat(f),(v=document.createElement("script")).src=f,document.head.appendChild(v),p==="G"?o.setLiveRampCookie("B"):o.setLiveRampCookie("F"))},o.addLiveRampGAMPixel=function(f,p,v){f===null&&p===null||(f="https://idsync.rlcdn.com/712551.gif?partner_uid=".concat(f||p),(p=document.createElement("script")).src=f,document.head.appendChild(p),v==="F"?o.setLiveRampCookie("B"):o.setLiveRampCookie("G"))},o.processVendor=function(f){var p,v,b,M=o.config.VENDORS[f];f==="LiveRamp"?(b=c.CookieHelper.hasCookie("orev")?c.CookieHelper.readCookie("orev"):"X",c.CookieHelper.hasCookie("bea4")&&b!=="F"&&b!=="B"&&(o.logger.log("Adding LiveRamp Freewheel Pixel..."),o.addLiveRampFreewheelPixel(c.CookieHelper.readCookie("bea4"),b)),b!=="G"&&b!=="B"&&(o.logger.log("Adding LiveRamp GAM Pixel..."),o.addLiveRampGAMPixel(c.CookieHelper.readCookie("datid"),c.CookieHelper.readCookie("WMUKID_STABLE"),b))):M&&M.COOKIE_NAME&&(!c.CookieHelper.hasCookie("umto")||c.CookieHelper.hasCookie("umto")&&!c.CookieHelper.hasCookie(M.COOKIE_NAME))&&o.cookieDomain!==null&&(o.logger.log("Adding SSAI tag for "+f+" ..."),f==="SpotX"?o.addSpotXCookie(M):f==="AppNexus"?((p=document.createElement("img")).src=M.URL.replace("umto.{{domain}}","umto.".concat(o.audienceDomain)),p.src=p.src.replace(/{{domain}}/g,"".concat(o.cookieDomain)),p.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(p)):f==="PubMatic"?o.addPubMaticUserSync(M):(f==="Freewheel"?(b=(b=M.URL.replace("umto.{{domain}}","umto.".concat(o.audienceDomain))).replace(/{{domain}}/g,o.cookieDomain),o.isURIEncoded(b)||((v=b.split("?"))[v.length-1]=encodeURIComponent(v[v.length-1]),b=v.join("?").replace("user-sync?","user-sync%3F")),(p=document.createElement("img")).src=b):f==="Rubicon"?((v=o.audienceDomain.match(/(.*?)\..*?$/))!=null&&(v=v[1]),(p=document.createElement("img")).src=M.URL.replace(/{{brand}}/g,v)):f==="Telaria"?((p=document.createElement("img")).src=M.URL.replace("umto.{{domain}}","umto.".concat(o.audienceDomain)),p.src=p.src.replace(/{{domain}}/g,o.cookieDomain).replace("&domain","%26domain")):((p=document.createElement("img")).src=M.URL.replace("umto.{{domain}}","umto.".concat(o.audienceDomain)),p.src=p.src.replace(/{{domain}}/g,o.cookieDomain)),p.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(p)),o.logger.log("Added SSAI pixel for "+f))},o.addSSAIJavascript=function(){o.logger.log("Site Vendors: ",o.config);var f=o.config.SITE_VENDORS,p=(0,d.getUrlParam)("forcePubMatic");console.log("Forcing PubMatic: ",p),p&&f.indexOf("PubMatic")<0&&(o.logger.log("PRE- Forcing PubMatic SSAI Vendor Configuration...",{siteVendors:f,config:o.config.VENDORS.PubMatic}),f.push("PubMatic"),o.config.VENDORS.PubMatic=o.config.VENDORS.PubMatic||{URL:"https://ads.pubmatic.com/AdServer/js/userSync.js",COOKIE_NAME:"kfyn"},o.logger.log("POST- Forcing PubMatic SSAI Vendor Configuration...",{siteVendors:f,config:o.config.VENDORS.PubMatic})),(0,t.isIntl)()?f.INTL.forEach(function(v){o.processVendor(v)}):f.DOM.forEach(function(v){o.processVendor(v)}),o.ssaiActive=!0},o.addPubMaticUserSync=function(f,M){M===void 0&&(M={PUBLISHER_ID:{DOM:"161163",INTL:"161163"}});var v="https://image8.pubmatic.com/AdServer/ImgSync?p={{publisherId}}&gdpr={{gdpr}}&gdpr_consent={{gdprConsent}}&us_privacy={{usPrivacy}}&pu=",b=(v=(v=(v=(v=v.replace(/{{publisherId}}/g,(0,t.isIntl)()?M.PUBLISHER_ID.INTL:M.PUBLISHER_ID.DOM)).replace(/{{gdprConsent}}/g,(b=(b=window.WM)==null?void 0:b.UserConsent)!=null&&b.isInGdprRegion()?(b=window.WM)==null?void 0:b.UserConsent.getTcfAPIstring():"")).replace(/{{gdpr}}/g,(b=(b=window.WM)==null?void 0:b.UserConsent)!=null&&b.isInGdprRegion()?"1":"0")).replace(/{{usPrivacy}}/g,(b=(b=window.WM)==null?void 0:b.UserConsent)!=null&&b.isInCcpaRegion()?window.WM&&window.WM.UserConsent?window.WM.UserConsent.getUspAPIstring():"1YNN":""),"https://image4.pubmatic.com/AdServer/SPug?p={{publisherId}}&mpc=4&fp=1&pmc=PM_PMC&&pr="),b="https://image4.pubmatic.com/AdServer/SPug?p={{publisherId}}&mpc=4&fp=1&pmc=PM_PMC&&pr=".replace(/{{publisherId}}/g,(0,t.isIntl)()?M.PUBLISHER_ID.INTL:M.PUBLISHER_ID.DOM),M="https://umto.{{brand}}/user-sync?domain={{brand}}&{{cookieName}}=#PMUID",M=(M=(M=(M=M.replace(/umto\.{{brand}}/g,o.audienceDomain)).replace(/{{brand}}/g,o.cookieDomain)).replace(/{{cookieName}}/g,f.COOKIE_NAME),b+=encodeURIComponent(M),v+=encodeURIComponent(b),(f=o.logger)!=null&&f.log("Adding PubMatic Pixel: ",v),document.createElement("img"));M.src=v,M.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(M)},o.addSpotXCookie=function(f){var p=new XMLHttpRequest;p.onreadystatechange=function(){var v,b;p.readyState===4&&(b=void 0,p.status===200?(b=JSON.parse(p.response).audience_id,v=new Date(Date.now()+31536e6),b={cookieName:f.COOKIE_NAME,cookieValue:b,attributes:[{key:"expires",value:v.toUTCString()},{key:"path",value:"/"}],secure:!0},c.CookieHelper.setCookie(b)):p.status===204?o.logger.log("Not able to check cookie, no audience_id returned"):o.logger.log("No audience_id available"))},p.open("GET",f.URL),p.withCredentials=!0,p.send()},o.addFWCookie=function(){var f,p,v=o.config.VENDORS.Freewheel,b=document.cookie.match(/bea4r?=.*?;/),M=document.cookie.match(/ug=.*?;/);!b&&M&&(b=M[0].replace(/(ug=|;)*/,""),M=Math.pow(16,6),f=Math.pow(16,8),b=b.slice(14),p=Date.now(),f=(Math.ceil(p/1e3)%f).toString(16).slice(0,8),M=(p%M).toString(16).slice(0,6),p=new Date(p+31536e6),v={cookieName:v.COOKIE_NAME+"r",cookieValue:f+M+b,attributes:[{key:"expires",value:p.toUTCString()},{key:"path",value:"/"}],secure:!0},c.CookieHelper.setCookie(v))},o.addUMTOCookie=function(){o.logger.log("Adding UMTO Cookie...");var f={cookieName:"umto",cookieValue:1,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"},{key:"Domain",value:o.cookieDomain},{key:"SameSite",value:"None"}],secure:!0};c.CookieHelper.setCookie(f),o.logger.log("Added UMTO Cookie.")},o.preQueue=function(){return new Promise(function(f,p){function v(){var M,O=o.getDatIdTargeting(),S=(o.logger.log("Checking for targeting..."),o.getFlags());!o.datidIsSet&&O.datid&&(o.logger.info("Setting PPID: ",O.datid),(M=window.googletag)!=null&&M.pubads().setPublisherProvidedId(O.datid),o.datidIsSet=!0),!o.ukidIsSet&&O.datid&&(o.logger.info("Setting wmuk: ",O.datid),(M=window.googletag)!=null&&M.pubads().setTargeting("wmuk",O.datid),o.ukidIsSet=!0),!o.flagsAreSet&&0<S.length&&(o.logger.info("Setting flag targeting: ",S),(M=window.googletag)!=null&&M.pubads().setTargeting("kit_rw",S),o.flagsAreSet=!0),f({name:"Audience and User Identity"})}var b;window.googletag&&typeof window.googletag.pubads=="function"?v():(b=window.googletag)!=null&&b.cmd.push(v)})},o.logger.info("Audience and User Identity Module constructed"),o}var y=new(e.Audience=h)(((u=window.AdFuelOptions)==null?void 0:u.AUI)||window.AUIConfig);window.AdFuelUtils||(window.AdFuelUtils={}),window.AdFuelUtils.getUMTOCookies=function(){return y.getUMTOCookies()}},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/getUrlParam":5,"@turnercode/digital-ads-utilities/dist/localization":6}],11:[function(a,w,e){w.exports={family:"TS",major:2,minor:0,revision:18}},{}]},{},[10])(10)})});var Ls=A((Fs,bt)=>{(function(a){typeof Fs=="object"&&typeof bt<"u"?bt.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Cep=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],9:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],10:[function(d,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(m,n){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(h,g){h.__proto__=g}:function(h,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(h[y]=g[y])}))(m,n)},function(m,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function h(){this.constructor=m}i(m,n),m.prototype=n===null?Object.create(n):(h.prototype=n.prototype,new h)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.Cep=void 0,d("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),t=d("@turnercode/digital-ads-utilities/dist/Version"),s=d("./version.json"),d=(l=r.AAdFuelModule,u(c,l),c.prototype.init=function(){var m=this;return new Promise(function(n){m.logger.log("Initializing the module...",m.site),window.AdFuel?window.AdFuel.setModuleReady(m.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(m.MODULE_LOG_TAG)}),n()})},c.prototype.preQueue=function(m){var n=this;return new Promise(function(h){n.cepTags=window[n.site]&&window[n.site].cep_topics?window[n.site].cep_topics:n.cepTags,h({name:"CEP",tags:n.cepTags})})},c.prototype.preDispatch=function(m){var n=this;return new Promise(function(h){var g;n.targetingSet?h({name:"CEP",tags:n.cepTags}):(g=!(n.targetingSet=!0),Object.keys(n.cepTags).forEach(function(y){0<n.cepTags[y].length&&(n.logger.log("Adding CEP "+y+" Targeting: ",n.cepTags[y]),window.AdFuel?window.AdFuel.addPageLevelTarget(y,n.cepTags[y]):window.googletag.cmd.push(function(){window.googletag.pubads().setTargeting(y,n.cepTags[y])}),g=!0,h({name:"CEP",tags:n.cepTags}))}),g||(h({name:"CEP",tags:n.cepTags}),n.logger.log("No CEP targeting... adding CEP=0..."),window.AdFuel?window.AdFuel.addPageLevelTarget("cep","0"):window.googletag.cmd.push(function(){window.googletag.pubads().setTargeting("cep","0")})))})},c);function c(m){return m=l.call(this,m,"CEP",new t.Version(s.major,s.minor,s.revision,s.family),"cep","color: #d2b000; padding: 2px",r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign|r.ModuleFlags.RunWithoutConsent)||this,m.cepTags={cep_brsf:[],cep_iabt:[],cep_sent:[],cep_tags:[]},m.site=window.AdFuelOptions.ADFUEL?window.AdFuelOptions.ADFUEL.SITE_OBJECT:"",m.targetingSet=!1,m}new(e.Cep=d)({debug:!1})},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(a,w,e){w.exports={family:"TS",major:5,minor:0,revision:11}},{}]},{},[10])(10)})});var Is=A((Ss,Et)=>{(function(a){typeof Ss=="object"&&typeof Et<"u"?Et.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).InViewRefresh=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],9:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],10:[function(d,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(m,n){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(h,g){h.__proto__=g}:function(h,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(h[y]=g[y])}))(m,n)},function(m,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function h(){this.constructor=m}i(m,n),m.prototype=n===null?Object.create(n):(h.prototype=n.prototype,new h)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.InViewRefresh=void 0,d("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),t=d("@turnercode/digital-ads-utilities/dist/Version"),s=d("./version.json"),d=(l=r.AAdFuelModule,u(c,l),c);function c(m){var n=l.call(this,m,"In-View Refresh Module",new t.Version(s.major,s.minor,s.revision,s.family),"ivr","color: #00e1e1; padding: 2px",r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign|r.ModuleFlags.RunWithoutConsent)||this;return n.DISALLOWED_RENDERED_SIZES=["970x66","970x90","970x250"],n.TARGET_DISPLAY_MILLISECONDS=n.config.DEFAULT_DISPLAY_MILLISECONDS,n.TARGET_DISPLAY_PERCENT=n.config.DEFAULT_DISPLAY_PERCENT,n._focused=!0,n._registeredSlots=[],n._renderedCreativeIds={},n._renderedLineItemIds={},n._invalidSlotIds=[],n._viewabilityListenersStarted=!1,n._refreshableInViewSlots={},n.init=function(){return new Promise(function(h,g){n.logger.log("Initializing IVR..."),window.AdFuel?window.AdFuel.setModuleReady(n.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(n.MODULE_LOG_TAG)}),h()})},n.start=function(){return new Promise(function(){n.startViewabilityListeners()})},n.startViewabilityListeners=function(){n._viewabilityListenersStarted||(window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("impressionViewable",function(y){n.logger.log("impressionViewable changed"),n.logger.log("impressionViewable changed");var g=y,y=(y=y.slot)==null?void 0:y.getSlotElementId();n.logger.log("Refreshable In View Slots: ",n._refreshableInViewSlots),n._refreshableInViewSlots[y]!==void 0&&n._refreshableInViewSlots[y].listenersSet?n.logger.log("Refreshable In View Slot listeners have already been set for: ",y,{object:n._refreshableInViewSlots[y]}):(n.logger.log("Refreshable In View Slot listeners have not been set: ",y,{object:n._refreshableInViewSlots[y]}),n.createInViewRefreshObject(g))}),window.googletag.pubads().addEventListener("slotVisibilityChanged",function(h){n.logger.log("slotVisibilityChanged"),n.logger.log("slotVisibilityChanged"),n.visibilityChanged(h)}),window.googletag.pubads().addEventListener("slotRenderEnded",function(h){n.logger.log("slotRenderEnded"),n.logger.log("slotRenderEnded");var y=h,g=y.slot.getSlotElementId(),y=(y.size?Array.isArray(y.size)&&(y.size=y.size.join("x")):y.size="0x0",y.size),_=(_=h.creativeId||h.sourceAgnosticCreativeId)!=null?_:0,o=(o=h.lineItemId||h.sourceAgnosticLineItemId)!=null?o:0,f=n._renderedCreativeIds[g]||[],p=n._renderedLineItemIds[g]||[];n.logger.log("----------Slot: ["+g+"]----------"),n.logger.log("Rendered Size: ",y),n.logger.log("Creative Ids: ",{selected:_,native:h.creativeId,agnostic:h.sourceAgnosticCreativeId}),0<=f.indexOf(_)?(delete n._refreshableInViewSlots[g],n._registeredSlots.splice(n._registeredSlots.indexOf(g),1),n._invalidSlotIds.push(g),n.logger.log("Duplicate Creative ["+_+"] returned for slot ["+g+"].  Stopping refresh.",n._registeredSlots)):0<=n.DISALLOWED_RENDERED_SIZES.indexOf(y)?(delete n._refreshableInViewSlots[g],n._registeredSlots.splice(n._registeredSlots.indexOf(g),1),n._invalidSlotIds.push(g),n.logger.log("Rendered size ["+y+"] for slot ["+g+"] is invalid for IVR.  Stopping refresh.",n._registeredSlots)):(_&&f.indexOf(_)<0&&f.push(_),o&&p.indexOf(o)<0&&p.push(o),n._renderedCreativeIds[g]=f,n._renderedLineItemIds[g]=p,n.logger.log("Rendered Creatives: ",n._renderedCreativeIds[g]),n.logger.log("Rendered LineItems: ",n._renderedLineItemIds[g]))})}),document.addEventListener("visibilitychange",n.visibilityChangeEvent),n._viewabilityListenersStarted=!0,n.logger.log("Listeners Started!"))},n.visibilityChangeEvent=function(h){n.logger.log("Visibility Change Event: ",h),n.logger.log("Relaying to _focusChanged..."),n._focused=!document.hidden,n.focusChanged(h)},n.focusChanged=function(h){n.logger.log("Focus Change Event: ",h),document.hidden?(n.logger.log("Page is hidden.  Destroying all intervals..."),n.destroyInterval()):(n.logger.log("Page is not hidden. Checking Intervals..."),Object.keys(n._refreshableInViewSlots).forEach(function(g){n.logger.log("",{index:g,slot:n._refreshableInViewSlots[g]}),n.getInterval(g)?n.logger.log("Interval exists...",g):(n.logger.log("Creating Interval...",g),n.detectInView())}))},n.visibilityChanged=function(y){var g=y.inViewPercentage||0,y=y.slot.getSlotElementId(),_=n.getInterval(y);g>=n.TARGET_DISPLAY_PERCENT?(n.logger.log("Element ["+y+"] Meets In-View Percentage Requirements",g),n._focused?(n.logger.log("... and page has focus"),_||(n.logger.log("... interval does not exist. Creating Interval..."),n.createInterval(y))):n.logger.log("... but page does not have focus.  Not creating interval.")):(n.logger.log("Element ["+y+"] Does NOT Meet In-View Percentage Requirements",g),_&&(n.logger.log("Found Interval for Element ["+y+"]... Destroying Interval."),n.destroyInterval(y)))},n.getInterval=function(h){return n.logger.log("Getting Interval for: ",h),!(n._refreshableInViewSlots[h]&&n._refreshableInViewSlots[h].timer===null||!n._refreshableInViewSlots[h])&&n._refreshableInViewSlots[h].timer},n.createInterval=function(h){var g,y;n.logger.log("Refreshable In-View Slots: ",n._refreshableInViewSlots),n._refreshableInViewSlots[h]&&(y=typeof(g=n._refreshableInViewSlots[h]).inViewRefreshInterval=="string"?1e3*parseInt(g.inViewRefreshInterval,10):typeof g.inViewRefreshInterval=="number"?1e3*g.inViewRefreshInterval:n.TARGET_DISPLAY_MILLISECONDS,n.logger.log("Slot ".concat(h," interval: ").concat(y)),g.inViewRefreshCounter=n._refreshableInViewSlots[h].inViewRefreshCounter||0,n.logger.log("Creating Interval for: ",h),g.timer=window.setInterval(function(){var _,o,f;n.logger.log("Slot: ",g),g!=null?(typeof g.inViewRefreshCount=="string"&&(g.inViewRefreshCount=parseInt(g.inViewRefreshCount)),0<g.inViewRefreshCount?(g.el=g.el||document.getElementById(h),_=(o=(o=g.el)==null?void 0:o.id)!=null?o:"",g.inViewRefreshCount--,g.inViewRefreshCounter++,0<=g.inViewRefreshCount&&(o=window.googletag.pubads().getSlots().filter(function(p){return p.getSlotElementId()===_})[0],n.logger.log("GoogleSlot: ",o),n.logger.log("Slot ["+_+"] is in view and is being refreshed."),n.logger.log("Starting Targeting Keys: ",o.getTargetingKeys()),n.logger.log("Clearing targeting on slot ["+_+"]...",g),f=o.getTargeting("pos"),o.clearTargeting(),f&&o.setTargeting("pos",f),n.logger.log("Cleared Targeting Keys: ",o.getTargetingKeys()),n.logger.log("Setting rfv count targeting on slot ["+_+"]: ",g.inViewRefreshCounter),o.setTargeting("rfv",g.inViewRefreshCounter.toString()),n._invalidSlotIds.indexOf(_)<0?(n.logger.log("Calling refresh On slot["+_+"]...",g),(f=window.AdFuel)!=null&&f.refresh([_]),n.logger.log("Slot ["+g.el.id+"] is in view, was just refreshed, and still has "+g.inViewRefreshCount+" refreshes remaining.")):n.logger.log("Slot ["+g.el.id+"] is invalid for refresh."))):n.logger.log("Slot ["+h+"] is in view but has no refreshes remaining.",g,g.inViewRefreshCount)):n.logger.log("Slot refresh prevented due to rendered size.")},y),n.logger.log("Done."))},n.destroyInterval=function(h){var g;h?(n.logger.log("Destroying interval for: ",h),g=n._refreshableInViewSlots[h],window.clearInterval((h=g.timer)!=null?h:0),g.timer=null,g.inView=!1):(n.logger.log("Destroying All Intervals"),Object.keys(n._refreshableInViewSlots).forEach(function(y){n.logger.log("Destroying interval for: ",y),g=n._refreshableInViewSlots[y],window.clearInterval((y=g.timer)!=null?y:0),g.timer=null,g.inView=!1}))},n.createInViewRefreshObject=function(g){n.logger.log("Checking Element: ",{event:g});var g=(g=g.slot)==null?void 0:g.getSlotElementId(),y=document.getElementById(g);n._registeredSlots.indexOf(g)!==-1&&n._refreshableInViewSlots[g]?(n.logger.log("Slot is registered with InView Refresh"),n._refreshableInViewSlots[g].inView=!1,n._refreshableInViewSlots[g].el=y,n._refreshableInViewSlots[g].refreshCount=0,n._refreshableInViewSlots[g].listenersSet=!0):n.logger.log("registered with InView Refresh")},n.isInsideBounds=function(h,g,F,_,o,f,p,v){var b=Math.max(F,p),M=Math.min(_,v),O=Math.max(h,o),S=Math.min(g,f),T=0,F=(F<=b&&b<=_&&F<=M&&M<=_&&h<=O&&O<=g&&h<=S&&S<=g&&(T=(M-b)*(S-O)),(f-o)*(v-p));return 0<F?T/F:0},n.getPercentInView=function(b){var g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,y=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,_=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,o=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,p=b.getBoundingClientRect(),f=p.left+document.body.scrollLeft,p=p.top+document.body.scrollTop,v=f+b.clientWidth,b=p+b.clientHeight;return 100*n.isInsideBounds(_,_+g,o,o+y,f,v,p,b)},n.detectInView=function(){n.logger.log("Detecting In View Slots."),Object.keys(n._refreshableInViewSlots).length<1&&n.logger.log("No registered slots have been rendered yet."),Object.keys(n._refreshableInViewSlots).forEach(function(h){var y=n._refreshableInViewSlots[h].el||document.getElementById(h),g=!1,y=(y&&(g=y&&n._focused&&n.getPercentInView(y)>=n.TARGET_DISPLAY_PERCENT&&0<n._refreshableInViewSlots[h].inViewRefreshCount),n.getInterval(h));g&&!y&&n.createInterval(h)})},n.preQueue=function(h){return new Promise(function(g){for(var y=!1,_=0;_<h.length;_++){var o=h[_].unWrappedSlot;o.hasInViewRefresh===!0&&(n.logger.log("Slot has In-View Refresh..."),y=!(o.inViewRefreshCounter=0),n._registeredSlots.push(o.rktr_slot_id))}y&&(n.logger.log("Starting IVR Listeners..."),n.startViewabilityListeners()),g({name:"IVR"})})},n.preDispatch=function(h){return new Promise(function(g){for(var y=0;y<h.length;y++){var _=h[y].unWrappedSlot;_.hasInViewRefresh?(n.logger.log("Slot is configured for in view refresh.  Creating refresh object for slot ["+_.rktr_slot_id+"]"),n._refreshableInViewSlots[_.rktr_slot_id]=_):n.logger.log("Slot is not configured for in view refresh. ["+_.rktr_slot_id+"]")}g({name:"IVR"})})},n.logger.log("InViewRefresh created..."),n}new(e.InViewRefresh=d)(window.IVR||((u=window.AdFuelOptions)==null?void 0:u.IVR)||{DEFAULT_DISPLAY_MILLISECONDS:3e3,DEFAULT_DISPLAY_PERCENT:50,DEBUG:!1})},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(a,w,e){w.exports={family:"TS",major:5,minor:0,revision:12}},{}]},{},[10])(10)})});var Ps=A((Ts,Mt)=>{(function(a){typeof Ts=="object"&&typeof Mt<"u"?Mt.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).MalvertisingDetection=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadScriptFromUrl=void 0;var i=a("./promiseWithTimeout");e.loadScriptFromUrl=function(l,u,r,t){return r===void 0&&(r=document),t===void 0&&(t=!0),(0,i.promiseWithTimeout)(5e3,new Promise(function(s,d){var c,m,n=r.createElement("script");if(n.setAttribute("data-nscript","beforeInteractive"),document.getElementById(u))d("Element name ".concat(u," already exists in the document."));else try{var h="",g=(h=1<l.split("//").length?l:((m=((c=r.location)==null?void 0:c.protocol)==="https:")!==null&&m?"https://":"http://").concat(l),r.getElementsByTagName("script")[0]);if(n.id=u,n.type="text/javascript",n.src=h,n.async=t,n.addEventListener("load",function(){s(n)}),g==null||!g.parentNode)throw new Error("Could not insert script.");g.parentNode.insertBefore(n,g)}catch(y){console.log("Error in loading script from ".concat(n.src),y),d(y)}}))}},{"./promiseWithTimeout":8}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],9:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],10:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(c,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(n,h){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(g,y){g.__proto__=y}:function(g,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(g[_]=y[_])}))(n,h)},function(n,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function g(){this.constructor=n}i(n,h),n.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.MalvertisingDetection=void 0,c("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),t=c("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),s=c("@turnercode/digital-ads-utilities/dist/Version"),d=c("./version.json"),c=(l=r.AAdFuelModule,u(m,l),m.prototype.init=function(){var n=this;return new Promise(function(h,g){n.config.SCRIPT_SRC==""?g("SCRIPT_SRC is not set."):((0,t.loadScriptFromUrl)("".concat(n.config.SCRIPT_SRC),"maldetect").finally(function(){n.logger.info("Setting ready."),window.AdFuel?window.AdFuel.setModuleReady(n.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(n.MODULE_LOG_TAG)})}).catch(function(y){n.logger.error("There was an error loading MalvertisingDetection:",y)}),h())})},m);function m(n){return n=l.call(this,n,"Malvertising Detection",new s.Version(d.major,d.minor,d.revision,d.family),"maldetect","color: #58f53f; padding: 2px",r.ModuleFlags.RunWithoutAdFuel|r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign)||this,n.logger.log("Malvertising Detection constructed..."),n}new(e.MalvertisingDetection=c)(((u=window.AdFuelOptions)==null?void 0:u.MALVERTISING)||{SCRIPT_SRC:""})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(a,w,e){w.exports={family:"TS",major:5,minor:0,revision:11}},{}]},{},[11])(11)})});var Ds=A((Us,At)=>{(function(a){typeof Us=="object"&&typeof At<"u"?At.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Blockthrough=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",t[t.DisableForCanada=32]="DisableForCanada",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((d=window.WM)==null?void 0:d.UserConsent)||((c=window.WBD)==null?void 0:c.UserConsent),this.environmentMatchesFlags=function(){return(0,r.isIntl)()?(!(0,r.isCanada)()||(o.moduleFlags&i.DisableForCanada)!==i.DisableForCanada)&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign:(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=o.userConsentLib)!=null&&f.inUserConsentState(o.consentTags,{id:o.MODULE_NAME})?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):(o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(o.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(o.MODULE_LOG_TAG)}))):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):(o.logger.info("User consent is not granted.",(f=o.userConsentLib)==null?void 0:f.inUserConsentState(o.consentTags)),(f=window.AdFuel)!=null&&f.setModuleLoaded(o.MODULE_LOG_TAG))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){return!o.userConsentLib||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){var p;o._logger.log("Consent Promise with Timeout..."),(p=o.userConsentLib)!=null&&p.isReady()?(o._logger.log("Consent Is Ready..."),(p=o.userConsentLib)!=null&&p.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(p=((p=o.userConsentLib)==null?void 0:p.isOneTrustLoaded())&&!((p=o.userConsentLib)!=null&&p.isOneTrustFailing()))!=null&&p?(o._logger.log("Optanon is Loaded..."),f()):(o._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){o._logger.log("OneTrust is Loaded..."),f()}),document.addEventListener("oneTrustFailed",function(){o._logger.error("OneTrust Failed To Load..."),f()}),document.addEventListener("oneTrustBlocked",function(){o._logger.error("OneTrust Loading Was Blocked..."),f()}))):(o._logger.log("Region is not GDPR..."),f())):o.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),f()})):(console.log("No User Consent..."),f())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(a,w,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],5:[function(a,w,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],6:[function(a,w,e){Object.defineProperty(e,"__esModule",{value:!0}),e.loadScriptFromUrl=void 0;var i=a("./promiseWithTimeout");e.loadScriptFromUrl=function(l,u,r,t){return r===void 0&&(r=document),t===void 0&&(t=!0),(0,i.promiseWithTimeout)(5e3,new Promise(function(s,d){var c,m,n=r.createElement("script");if(n.setAttribute("data-nscript","beforeInteractive"),document.getElementById(u))d("Element name ".concat(u," already exists in the document."));else try{var h="",g=(h=1<l.split("//").length?l:((m=((c=r.location)==null?void 0:c.protocol)==="https:")!==null&&m?"https://":"http://").concat(l),r.getElementsByTagName("script")[0]);if(n.id=u,n.type="text/javascript",n.src=h,n.async=t,n.addEventListener("load",function(){s(n)}),g==null||!g.parentNode)throw new Error("Could not insert script.");g.parentNode.insertBefore(n,g)}catch(y){console.log("Error in loading script from ".concat(n.src),y),d(y)}}))}},{"./promiseWithTimeout":8}],7:[function(a,w,e){Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=e.isCanada=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1,c=new Set(["US","CA"]),m=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;e.isCanada=function(){var n;return(n=(n=(n=window.WM)==null?void 0:n.UserConsent)==null?void 0:n.getGeoCountry())!=null?n:r.countryCode},e.isIntl=function(){var n=!1,h=(0,i.setHostAndPathNames)(),g=(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getGeoCountry&&typeof((g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry)=="function"?(g=(g=window.WM)==null?void 0:g.UserConsent)==null?void 0:g.getGeoCountry():r.countryCode,y=(y=(y=window.WM)==null?void 0:y.UserConsent)!=null&&y.getGeoState&&typeof((y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState)=="function"?(y=(y=window.WM)==null?void 0:y.UserConsent)==null?void 0:y.getGeoState():"",_=0<=h.search(/^(.*\.)?cnn\.com$/);return _&&c.delete("CA"),t.log("Is CNN:",_),t.log("Domestic Country Codes: ",Array.from(c)),t.log("UserConsent Location: ",{state:y,country:g}),(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),n=!0):0<=h.search(m)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),n=!0):g===""||g===null?(s||(s=!0,t.log("No country code. Using Domestic PubIds.")),n=!1):c.has(g)?s||(s=!0,t.log("Domestic site or country code. Using Domestic PubIds."),n=!1):0<=h.search(/^.*(money|\.cnn)\./)?(0<=h.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),s||(s=!0,t.log("International country code. Using International PubIds.")),n=!0):0<=h.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate International PubIds if available.")),d=n=!0):(s||(s=!0,t.log("International country code but domestic site. Using International PubIds if available.")),n=!0),n},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(a,w,e){Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],9:[function(a,w,e){Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],10:[function(l,w,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(5,0,102,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(m,w,e){var i,l,u=this&&this.__extends||(i=function(h,g){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(y,_){y.__proto__=_}:function(y,_){for(var o in _)Object.prototype.hasOwnProperty.call(_,o)&&(y[o]=_[o])}))(h,g)},function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function y(){this.constructor=h}i(h,g),h.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.Blockthrough=void 0,m("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),t=m("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),s=m("@turnercode/digital-ads-utilities/dist/Version"),d=m("./version.json"),c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],m=(l=r.AAdFuelModule,u(n,l),n.prototype.init=function(){var h=this;return new Promise(function(g,y){(0,t.loadScriptFromUrl)("warnermediagroup-com.videoplayerhub.com/galleryloader.js","btScript").finally(function(){h.logger.info("Setting ready."),window.AdFuel?window.AdFuel.setModuleReady(h.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(h.MODULE_LOG_TAG)})}).catch(function(_){h.logger.error("There was an error loading the Blockthrough script.",_)}),g()})},n);function n(h){h===void 0&&(h=r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign|r.ModuleFlags.RunWithoutAdFuel);var g=l.call(this,null,"Blockthrough",new s.Version(d.major,d.minor,d.revision,d.family),"bt","color: #d2b000; padding: 2px",h,c)||this;return g.preDispatch=function(y){return new Promise(function(_,o){var f;g.logger.info("BLOCKTHROUGH: preDispatch was fired."),window.AdFuelUtils||(window.AdFuelUtils={isBlockerEnabled:!1,isReinsertionAllowed:!1,getPermissionToReinsert:function(p){}}),window.AdFuelUtils.isBlockerEnabled=(f=(f=window.BT)==null?void 0:f.BLOCKER_ENABLED)!=null&&f,window.AdFuelUtils.isReinsertionAllowed=(f=(f=window.BT)==null?void 0:f.REINSERTION_ALLOWED)!=null&&f,window.AdFuelUtils.getPermissionToReinsert=function(p){window.BT&&window.BT.getPermissionToReinsert(function(v){v&&p()})},_()})},console.log("ModuleFlags: ",{DOM:r.ModuleFlags.EnableForDomestic,INTL:r.ModuleFlags.EnableForForeign,ADF:r.ModuleFlags.RunWithoutAdFuel}),g.logger.info("Created Blockthrough Module"),g}new(e.Blockthrough=m)(r.ModuleFlags.EnableForDomestic|r.ModuleFlags.EnableForForeign|r.ModuleFlags.RunWithoutAdFuel)},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(a,w,e){w.exports={family:"TS",major:5,minor:0,revision:13}},{}]},{},[11])(11)})});var Ns=A((Rs,Ct)=>{(function(a){typeof Rs=="object"&&typeof Ct<"u"?Ct.exports=a():typeof define=="function"&&define.amd?define([],a):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).AdFuel=a()})(function(){return function a(w,e,i){function l(t,s){if(!e[t]){if(!w[t]){var d=typeof I=="function"&&I;if(!s&&d)return d(t,!0);if(u)return u(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}d=e[t]={exports:{}},w[t][0].call(d.exports,function(c){return l(w[t][1][c]||c)},d,d.exports,a,w,e,i)}return e[t].exports}for(var u=typeof I=="function"&&I,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(t,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AAdFuelModule=e.ModuleFlags=void 0;var i,l=t("./Logger"),u=t("./promiseWithTimeout"),r=t("./localization"),t=((t=i=e.ModuleFlags||(e.ModuleFlags={}))[t.None=0]="None",t[t.EnableForDomestic=1]="EnableForDomestic",t[t.EnableForForeign=2]="EnableForForeign",t[t.RunWithoutAdFuel=4]="RunWithoutAdFuel",t[t.RunWithoutConsent=8]="RunWithoutConsent",t[t.HasVideoAPI=16]="HasVideoAPI",Object.defineProperty(s.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),s);function s(d,c,m,n,h,g,y,_){g===void 0&&(g=i.EnableForDomestic|i.EnableForForeign),y===void 0&&(y=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var o=this;this.config=d,this.MODULE_NAME=c,this.MODULE_VERSION=m,this.MODULE_LOG_TAG=n,this.logStyle=h,this.moduleFlags=g,this.consentTags=y,this.MODULE_VIDEO_API_KEY=_,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var f=i.None;return(0,r.isIntl)()&&(f|=i.EnableForForeign),(0,r.isIntl)()||(f|=i.EnableForDomestic),(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic&&(o.moduleFlags&i.EnableForForeign)===i.EnableForForeign?f===(f&i.EnableForDomestic)||f===(f&i.EnableForForeign):(o.moduleFlags&i.EnableForDomestic)===i.EnableForDomestic?f===(f&i.EnableForDomestic):f===(f&i.EnableForForeign)},this.callInit=function(){o.logger.log("Waiting for UserConsent..."),o.waitForUserConsent().then(function(){var f;o.logger.log("Checking Module Flags...",o.moduleFlags),(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent||(f=(f=window.WM)==null?void 0:f.UserConsent)!=null&&f.inUserConsentState(o.consentTags)?(o.moduleFlags&&i.RunWithoutAdFuel)==i.RunWithoutAdFuel?((f=window.AdFuel)!=null&&f.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var p;o.logger.log("Registering with AdFuel..."),(p=window.AdFuel)!=null&&p.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var p;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(p=window.AdFuel)!=null&&p.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)):(o.logger.log("Waiting for AdFuel..."),o.waitForAdFuel().then(function(){var p;(p=window.AdFuel)!=null&&p.registerModule(o)||document.addEventListener("AdFuelCreated",function(){var v;o.logger.log("Registering with AdFuel..."),(v=window.AdFuel)!=null&&v.registerModule(o)}),o.logger.log("Checking Environment..."),o.environmentMatchesFlags()?(o.logger.log("Calling Init..."),o.init().then(function(){var v;window.AdFuel?(o.logger.log("Setting Module Loaded..."),(v=window.AdFuel)!=null&&v.setModuleLoaded(o.MODULE_LOG_TAG)):(o.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var b;o.logger.log("Setting Module Loaded..."),(b=window.AdFuel)!=null&&b.setModuleLoaded(o.MODULE_LOG_TAG)}))})):o.logger.warn("Not initializing ".concat(o.MODULE_NAME," for environmental reasons."),o.moduleFlags)}).catch(function(p){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for AdFuel."),p)})):o.logger.info("User consent is not granted.",(f=(f=window.WM)==null?void 0:f.UserConsent)==null?void 0:f.inUserConsentState(o.consentTags))}).catch(function(f){o.logger.warn("".concat(o.MODULE_NAME," errored waiting for consent."),f)})},this.waitForAdFuel=function(){return(o.moduleFlags&i.RunWithoutAdFuel)===i.RunWithoutAdFuel?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(f){window.AdFuel?f():document.addEventListener("AdFuelCreated",function(){f()})}))},this.waitForUserConsent=function(){var f;return(f=window.WM)==null||!f.UserConsent||(o.moduleFlags&i.RunWithoutConsent)==i.RunWithoutConsent?Promise.resolve():(0,u.promiseWithTimeout)(5e3,new Promise(function(p){var v;o._logger.log("Consent Promise with Timeout..."),(v=(v=window.WM)==null?void 0:v.UserConsent)!=null&&v.isReady()?(o._logger.log("Consent Is Ready..."),(v=(v=window.WM)==null?void 0:v.UserConsent)!=null&&v.isInRegion("gdpr")?(o._logger.log("Region is GDPR..."),(v=(v=(v=window.WM)==null?void 0:v.UserConsent)==null?void 0:v.isOptanonLoaded())!=null&&v?(o._logger.log("Optanon is Loaded..."),p()):(o._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",function(){o._logger.log("Optanon is Loaded..."),p()}))):(o._logger.log("Region is not GDPR..."),p())):(v=window.WM)!=null&&v.UserConsent?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),p()})):(console.log("No User Consent..."),p())}))},this._logger=new l.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}e.AAdFuelModule=t},{"./Logger":3,"./localization":13,"./promiseWithTimeout":15}],2:[function(a,w,e){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.CookieHelper=void 0,i.hasCookie=function(l){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+l+"=")||document.cookie.indexOf(l+"=")===0)},i.setCookie=function(l){var u=l.cookieName+"="+l.cookieValue+";";l.attributes.forEach(function(r){u+=" "+r.key+"="+r.value+";"}),l.secure&&(u+=" Secure"),document.cookie=u},i.readCookie=function(l){var u,r,t=!1,s=null;return(t=typeof localStorage<"u"?!0:t)&&(s=localStorage.getItem(l)),t&&s!==null||(r=(u=l).length+1,s=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(d){return d.trim()}).filter(function(d){return d.substring(0,r)==="".concat(u,"=")}).map(function(d){return decodeURIComponent(d.substring(r))})[0]||null),s},e.CookieHelper=i},{}],3:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevel=void 0,(l=i=e.LogLevel||(e.LogLevel={})).Info="background: green;color: white;",l.Warning="background: orange;color: black",l.Error="background: red;color:white",Object.defineProperty(u.prototype,"isDebugging",{get:function(){var r;return this._debug===void 0&&(r=this.getUrlParam("debug").split(","),this._debug=r[0]==="true"||0<=r.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),u.prototype.info=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.warn=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.error=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.log=function(r){for(var t=1;t<arguments.length;t++)t-1},u.prototype.groupStart=function(r){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(r," - START -----"),this._normalStyle))},u.prototype.groupEnd=function(r){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},u.prototype.timeStart=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupStart(r),console.time(t)},u.prototype.timeEnd=function(r){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(r);this.groupEnd(r),console.timeEnd(t)},u.prototype.getUrlParam=function(r){return typeof document<"u"&&(r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+r+"=([^&#]*)"),document)&&document.location&&document.location.search&&(r=r.exec(document.location.search))?r[1]:""};var i,l=u;function u(r,t,s,d){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=r||"",this._moduleVersion=t||"",this._logKey=s||(r==null?void 0:r.toLowerCase())||"",this._normalStyle=d||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),i.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),i.Info,this._normalStyle))}e.Logger=l},{}],4:[function(a,w,e){"use strict";function i(l){this._tag="ADFUEL",this._tag=l,this.addMark("AdFuel Load START")}Object.defineProperty(e,"__esModule",{value:!0}),e.Performance=void 0,i.prototype.addMark=function(l){typeof window<"u"&&window.performance.mark("[".concat(this._tag,"] ").concat(l))},i.prototype.addMeasure=function(l){typeof window<"u"&&window.performance.measure("[".concat(this._tag,"] ").concat(l),"[".concat(this._tag,"] ").concat(l," START"),"[".concat(this._tag,"] ").concat(l," END"))},i.prototype.getMarks=function(){var l,u=this;return(l=window==null?void 0:window.performance.getEntriesByType("mark").filter(function(r){return r.name.indexOf("[".concat(u._tag,"] "))}))!=null?l:[]},i.prototype.getMeasures=function(){var l,u=this;return(l=window==null?void 0:window.performance.getEntriesByType("measure").filter(function(r){return r.name.indexOf("[".concat(u._tag,"] "))}))!=null?l:[]},e.Performance=i},{}],5:[function(a,w,e){"use strict";function i(l){var u=this;this.logger=l,this.re=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\[\]\.,;:\s@\"]+\.)+[^<>()\[\]\.,;:\s@\"]{2,})/i,this.present=function(){return u.presentInQueryString()||u.presentInHash()||u.presentInReferrer()}}Object.defineProperty(e,"__esModule",{value:!0}),e.PiiFilter=void 0,i.prototype.presentInQueryString=function(){if(document.location.search){var l=document.location.search.search(this.re)+1,u=void 0;try{u=decodeURIComponent(document.location.search).search(this.re)+1}catch{u=l}return l===1||u===1}return!1},i.prototype.presentInHash=function(){if(document.location.hash){var l=document.location.hash.search(this.re)+1,u=void 0;try{u=decodeURIComponent(document.location.hash).search(this.re)+1}catch{u=l}return l||u}return!1},i.prototype.presentInReferrer=function(){if(document.referrer){var l=document.referrer.search(this.re)+1,u=void 0;try{u=decodeURIComponent(document.location.referrer).search(this.re)+1}catch{u=l}return l||u}return!1},i.prototype.filterDFPRequest=function(){if(this.presentInQueryString()||this.presentInHash()||this.presentInReferrer()){if(typeof window<"u"&&window.AdFuel){this.logger.log("Filtering DFP Request due to PII in query string.");for(var l=Object.getOwnPropertyNames(window.AdFuel),u=0;u<l.length;u++);window.googletag=null}return!0}return!1},Object.defineProperty(i.prototype,"qs",{get:function(){return this.presentInQueryString},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hash",{get:function(){return this.presentInHash},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return this.presentInReferrer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isPIIPresent",{get:function(){return this.present},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"filter",{get:function(){return this.filterDFPRequest},enumerable:!1,configurable:!0}),e.PiiFilter=i},{}],6:[function(a,w,e){"use strict";function i(l,u,r,t){var s=this;this.setMajorTo=l,this.setMinorTo=u,this.setRevisionTo=r,this.setFamilyTo=t,this.setfamily=function(d){return s.setFamilyTo=d,s},this.toString=function(){return"".concat(s.major,".").concat(s.minor.toString().padStart(2,"0"),".").concat(s.revision.toString().padStart(3,"0")," ").concat(s.family).trim()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0,Object.defineProperty(i.prototype,"major",{get:function(){var l;return(l=this.setMajorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minor",{get:function(){var l;return(l=this.setMinorTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"revision",{get:function(){var l;return(l=this.setRevisionTo)!=null?l:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"family",{get:function(){var l;return(l=this.setFamilyTo)!=null?l:""},enumerable:!1,configurable:!0}),e.Version=i},{}],7:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateCacheBuster=void 0,e.generateCacheBuster=function(){for(var i="",l=0;l<10;l++)i+=Math.floor(9*Math.random()).toString();return i}},{}],8:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlParam=void 0,e.getUrlParam=function(i){return typeof document<"u"&&(i=i.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+i+"=([^&#]*)"),document)&&document.location&&document.location.search&&(i=i.exec(document.location.search))?i[1]:""}},{}],9:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getViewport=void 0,e.getViewport=function(){var i=0,l=0,l=typeof window<"u"&&window&&window.innerWidth!==void 0?(i=window.innerWidth,window.innerHeight):(typeof document<"u"&&document&&document.documentElement!==void 0&&document.documentElement.clientWidth!==void 0&&document.documentElement.clientWidth!==0?(i=document.documentElement.clientWidth,document.documentElement):(i=document.getElementsByTagName("body")[0].clientWidth,document.getElementsByTagName("body")[0])).clientHeight;return{width:i,height:l,toGpt:[""+i,""+l]}}},{}],10:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasVideo=void 0,e.hasVideo=function(){var i=document.getElementsByTagName("video"),l=document.getElementsByClassName("fave-wrapper"),u=document.getElementsByClassName("top-container");return!!i.length||!!l.length||!!u.length}},{}],11:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForVideo=e.Version=e.PiiFilter=e.Performance=e.toString=e.setHostAndPathNames=e.selectedEdition=e.promiseWithTimeout=e.normalizeUrl=e.noop=e.ModuleFlags=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=e.Logger=e.locationServiceURL=e.loadScriptFromUrl=e.isUSCNN=e.isIntl=e.hasVideo=e.hasUserConsent=e.getUrlParam=e.generateCacheBuster=e.countryCode=e.CookieHelper=e.AAdFuelModule=void 0;var i=a("./AAdFuelModule"),l=(Object.defineProperty(e,"AAdFuelModule",{enumerable:!0,get:function(){return i.AAdFuelModule}}),Object.defineProperty(e,"ModuleFlags",{enumerable:!0,get:function(){return i.ModuleFlags}}),a("./CookieHelper")),u=(Object.defineProperty(e,"CookieHelper",{enumerable:!0,get:function(){return l.CookieHelper}}),a("./getUrlParam")),r=(Object.defineProperty(e,"getUrlParam",{enumerable:!0,get:function(){return u.getUrlParam}}),a("./hasVideo")),t=(Object.defineProperty(e,"hasVideo",{enumerable:!0,get:function(){return r.hasVideo}}),a("./localization")),s=(Object.defineProperty(e,"isIntl",{enumerable:!0,get:function(){return t.isIntl}}),Object.defineProperty(e,"isUSCNN",{enumerable:!0,get:function(){return t.isUSCNN}}),a("./loadScriptFromUrl")),d=(Object.defineProperty(e,"loadScriptFromUrl",{enumerable:!0,get:function(){return s.loadScriptFromUrl}}),a("./Logger")),c=(Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return d.Logger}}),a("./normalizeUrl")),m=(Object.defineProperty(e,"normalizeUrl",{enumerable:!0,get:function(){return c.normalizeUrl}}),a("./promiseWithTimeout")),n=(Object.defineProperty(e,"promiseWithTimeout",{enumerable:!0,get:function(){return m.promiseWithTimeout}}),a("./Performance")),h=(Object.defineProperty(e,"Performance",{enumerable:!0,get:function(){return n.Performance}}),a("./PiiFilter")),g=(Object.defineProperty(e,"PiiFilter",{enumerable:!0,get:function(){return h.PiiFilter}}),a("./setHostAndPathNames")),y=(Object.defineProperty(e,"setHostAndPathNames",{enumerable:!0,get:function(){return g.setHostAndPathNames}}),a("./generateCacheBuster")),_=(Object.defineProperty(e,"generateCacheBuster",{enumerable:!0,get:function(){return y.generateCacheBuster}}),a("./variables")),o=(Object.defineProperty(e,"MODULE_VERSION",{enumerable:!0,get:function(){return _.MODULE_VERSION}}),Object.defineProperty(e,"MODULE_NAME",{enumerable:!0,get:function(){return _.MODULE_NAME}}),Object.defineProperty(e,"MODULE_LOG_TAG",{enumerable:!0,get:function(){return _.MODULE_LOG_TAG}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return _.toString}}),Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return _.noop}}),Object.defineProperty(e,"countryCode",{enumerable:!0,get:function(){return _.countryCode}}),Object.defineProperty(e,"locationServiceURL",{enumerable:!0,get:function(){return _.locationServiceURL}}),Object.defineProperty(e,"selectedEdition",{enumerable:!0,get:function(){return _.selectedEdition}}),Object.defineProperty(e,"hasUserConsent",{enumerable:!0,get:function(){return _.hasUserConsent}}),a("./Version")),f=(Object.defineProperty(e,"Version",{enumerable:!0,get:function(){return o.Version}}),a("./waitForVideo"));Object.defineProperty(e,"waitForVideo",{enumerable:!0,get:function(){return f.waitForVideo}})},{"./AAdFuelModule":1,"./CookieHelper":2,"./Logger":3,"./Performance":4,"./PiiFilter":5,"./Version":6,"./generateCacheBuster":7,"./getUrlParam":8,"./hasVideo":10,"./loadScriptFromUrl":12,"./localization":13,"./normalizeUrl":14,"./promiseWithTimeout":15,"./setHostAndPathNames":16,"./variables":17,"./waitForVideo":18}],12:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadScriptFromUrl=void 0;var i=a("./promiseWithTimeout");e.loadScriptFromUrl=function(l,u,r,t){return r===void 0&&(r=document),t===void 0&&(t=!0),(0,i.promiseWithTimeout)(5e3,new Promise(function(s,d){var c,m,n=r.createElement("script");if(document.getElementById(u))d("Element name ".concat(u," already exists in the document."));else try{var h="",g=(h=1<l.split("//").length?l:((m=((c=r.location)==null?void 0:c.protocol)==="https:")!==null&&m?"https://":"http://").concat(l),r.getElementsByTagName("script")[0]);if(n.id=u,n.type="text/javascript",n.src=h,n.async=t,n.addEventListener("load",function(){s(n)}),g==null||!g.parentNode)throw new Error("Could not insert script.");g.parentNode.insertBefore(n,g)}catch(y){console.log("Error in loading script from ".concat(n.src),y),d(y)}}))}},{"./promiseWithTimeout":15}],13:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIsUSCNN=e.setIsIntl=e.isUSCNN=e.isIntl=void 0;var i=a("./setHostAndPathNames"),l=a("./getUrlParam"),u=a("./Logger"),r=a("./variables"),t=new u.Logger(r.MODULE_NAME,r.MODULE_VERSION.toString(),r.MODULE_LOG_TAG,"color: coral; padding: 2px"),s=!1,d=!1;e.isIntl=function(){var c=!1,m=(0,i.setHostAndPathNames)();return(0,l.getUrlParam)("isIntl")==="true"?(s||(s=!0,t.log("Faking international site. Using International PubIds.")),c=!0):0<=m.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)?(s||(s=!0,t.log("Full international site. Using International PubIds.")),c=!0):r.countryCode===""||r.countryCode===null?(s||(s=!0,t.log("No country code.")),c=!1):r.countryCode!=="US"&&r.countryCode!=="CA"?0<=m.search(/^.*(money|\.cnn)\./)?(0<=m.search(/^.*us\.cnn\.com/)&&(s||t.log("International user but domestic page.  Using alternate international PubIds if available."),d=!0),s||(s=!0,t.log("International country code.")),c=!0):0<=m.search(/^.*us\.cnn\.com/)?(s||(s=!0,t.log("International user but domestic page. Using alternate international PubIds if available.")),d=c=!0):(s||(s=!0,t.log("International country code but domestic site.")),c=!0):s||(s=!0,t.log("Domestic site or country code."),c=!1),c},e.isUSCNN=function(){return(0,e.isIntl)(),t.log("Is User on US.CNN.COM? ",d),d},e.setIsIntl=e.isIntl,e.setIsUSCNN=e.isUSCNN},{"./Logger":3,"./getUrlParam":8,"./setHostAndPathNames":16,"./variables":17}],14:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeUrl=void 0,e.normalizeUrl=function(i){var l=Object.assign({normalizeProtocol:!0,normalizeHttps:!1,normalizeHttp:!0,stripFragment:!0,stripWWW:!0,removeQueryParameters:!0,removeTrailingSlash:!1,removeDirectoryIndex:!1},{}),u=i.trim(),r=i[0]==="/"&&i[1]==="/",t=(!r&&/^\.*\//.test(i)||(u=i.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,"http://")),document.createElement("a"));if(t.href=u,l.normalizeHttps&&l.normalizeHttp)throw new Error("The `normalizeHttp` and `normalizeHttps` options cannot be used together");return l.normalizeHttp&&(t.protocol==="http:"||r)&&(t.protocol="https:"),l.normalizeHttps&&(t.protocol==="https:"||r)&&(t.protocol="http:"),l.stripFragment&&(t.hash=""),t.pathname&&(t.pathname=t.pathname.replace(/((?![https?:]).)\/{2,}/g,function(s,d){return/^(?!\/)/g.test(d)?d+"/":"/"})),t.pathname&&(t.pathname=decodeURI(t.pathname)),t.hostname&&(t.hostname=t.hostname.replace(/\.$/,""),l.stripWWW)&&(t.hostname=t.hostname.replace(/^www\./,"")),l.removeQueryParameters&&(t.search=""),u=t.href,!l.removeTrailingSlash&&t.pathname!=="/"||(u=i.replace(/\/$/,"")),u=r&&!l.normalizeProtocol?i.replace(/^http:\/\//,"//"):u}},{}],15:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseWithTimeout=void 0,e.promiseWithTimeout=function(i,l,u){u===void 0&&(u="The promise timed out.");var r=new Promise(function(t,s){var d=setTimeout(function(){clearTimeout(d),s(u)},i)});return Promise.race([l,r])}},{}],16:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHostAndPathNames=void 0,e.setHostAndPathNames=function(){var i=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return i.href=typeof document<"u"?document.location.href:"",i.hostname}},{}],17:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasUserConsent=e.selectedEdition=e.locationServiceURL=e.countryCode=e.noop=e.toString=e.MODULE_LOG_TAG=e.MODULE_VERSION=e.MODULE_NAME=void 0;var i=l("./Version"),l=l("./CookieHelper"),u=Object.prototype;e.MODULE_NAME="Ad Utilities",e.MODULE_VERSION=new i.Version(1,0,0,"TS"),e.MODULE_LOG_TAG="utils",e.toString=u.toString,e.noop=function(){},e.countryCode=l.CookieHelper.readCookie("countryCode")||((u=(i=l.CookieHelper.readCookie("CG"))==null?void 0:i.substr(0,2))!=null?u:""),e.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",e.selectedEdition=(i=l.CookieHelper.readCookie("SelectedEdition"))!=null?i:"www",e.hasUserConsent=typeof window<"u"&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":6}],18:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForVideo=void 0,e.waitForVideo=function(i){var l=!1,u=new MutationObserver(function(d){var c=document.getElementsByTagName("video"),m=document.getElementsByClassName("fave-wrapper"),n=document.getElementsByClassName("top-container");(c.length||m.length||n.length)&&(l||i(),l=!0,u.disconnect())}),r=(u.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),document.getElementsByTagName("video")),t=document.getElementsByClassName("fave-wrapper"),s=document.getElementsByClassName("top-container");(r.length||t.length||s.length)&&(i(),l=!0,u.disconnect())}},{}],19:[function(t,w,e){"use strict";var i,l=this&&this.__extends||(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(v,b){v.__proto__=b}:function(v,b){for(var M in b)b.hasOwnProperty(M)&&(v[M]=b[M])}),function(v,b){function M(){this.constructor=v}i(v,b),v.prototype=b===null?Object.create(b):(M.prototype=b.prototype,new M)}),u=(Object.defineProperty(e,"__esModule",{value:!0}),t("./Enumerables")),r=t("./Comparers"),t=(s.prototype.toList=function(){return new n(this.toArray())},s.prototype.toDictionary=function(v,b){return f.fromArray(this.toArray(),v,b)},s.prototype.reverse=function(){return new u.ReverseEnumerable(this.asEnumerable())},s.prototype.concat=function(v){for(var b,M=[],O=1;O<arguments.length;O++)M[O-1]=arguments[O];return(b=this.asEnumerable()).concat.apply(b,[v].concat(M))},s.prototype.contains=function(v){return this.any(function(b){return b===v})},s.prototype.where=function(v){return new u.ConditionalEnumerable(this.asEnumerable(),v)},s.prototype.select=function(v){return new u.TransformEnumerable(this.asEnumerable(),v)},s.prototype.selectMany=function(v){return this.select(function(b){return b=v(b),b instanceof Array?new u.ArrayEnumerable(b):b.asEnumerable()}).toArray().reduce(function(b,M){return new u.ConcatEnumerable(b,M)},u.Enumerable.empty())},s.prototype.elementAt=function(v){if(v=this.elementAtOrDefault(v),v===void 0)throw new Error("Out of bounds");return v},s.prototype.except=function(v){return this.asEnumerable().except(v)},s.prototype.first=function(v){if(v=v!==void 0?this.firstOrDefault(v):this.firstOrDefault(),v===void 0)throw new Error("Sequence contains no elements");return v},s.prototype.groupBy=function(v,b){for(var M=this.toArray(),O=new f,S=0;S<M.length;++S){var T=v(M[S]),F=b!==void 0?b(M[S]):M[S];O.containsKey(T)||O.set(T,new n),O.get(T).push(F)}return O.asEnumerable()},s.prototype.last=function(v){if(v=v!==void 0?this.lastOrDefault(v):this.lastOrDefault(),v===void 0)throw new Error("Sequence contains no elements");return v},s.prototype.single=function(v){if(v=v!==void 0?this.singleOrDefault(v):this.singleOrDefault(),v===void 0)throw new Error("Sequence contains no elements");return v},s.prototype.singleOrDefault=function(v){return v!==void 0?this.asEnumerable().singleOrDefault(v):this.asEnumerable().singleOrDefault()},s.prototype.skipWhile=function(v){return this.asEnumerable().skipWhile(v)},s.prototype.takeWhile=function(v){return this.asEnumerable().takeWhile(v)},s.prototype.sequenceEqual=function(v,b){return b!==void 0?this.asEnumerable().sequenceEqual(v,b):this.asEnumerable().sequenceEqual(v)},s.prototype.distinct=function(v){return new u.UniqueEnumerable(this.asEnumerable(),v)},s.prototype.min=function(v){return v!==void 0?new u.TransformEnumerable(this.asEnumerable(),v).min():this.aggregate(function(b,M){return b!==void 0&&b<M?b:M})},s.prototype.orderBy=function(v,b){return new u.OrderedEnumerable(this.asEnumerable(),r.createComparer(v,!0,b))},s.prototype.orderByDescending=function(v){return new u.OrderedEnumerable(this.asEnumerable(),r.createComparer(v,!1,void 0))},s.prototype.max=function(v){return v!==void 0?new u.TransformEnumerable(this.asEnumerable(),v).max():this.aggregate(function(b,M){return b!==void 0&&M<b?b:M})},s.prototype.sum=function(v){return this.aggregate(function(b,M){return b+v(M)},0)},s.prototype.skip=function(v){return new u.RangeEnumerable(this.asEnumerable(),v,void 0)},s.prototype.take=function(v){return new u.RangeEnumerable(this.asEnumerable(),void 0,v)},s.prototype.union=function(v){return new u.UniqueEnumerable(this.concat(v))},s.prototype.aggregate=function(v,b){return b!==void 0?this.asEnumerable().aggregate(v,b):this.asEnumerable().aggregate(v)},s.prototype.any=function(v){return v!==void 0?this.asEnumerable().any(v):this.asEnumerable().any()},s.prototype.all=function(v){return this.asEnumerable().all(v)},s.prototype.average=function(v){return this.asEnumerable().average(v)},s.prototype.count=function(v){return v!==void 0?this.asEnumerable().count(v):this.asEnumerable().count()},s.prototype.elementAtOrDefault=function(v){return this.asEnumerable().elementAtOrDefault(v)},s.prototype.firstOrDefault=function(v){return v!==void 0?this.asEnumerable().firstOrDefault(v):this.asEnumerable().firstOrDefault()},s.prototype.lastOrDefault=function(v){return v!==void 0?this.asEnumerable().lastOrDefault(v):this.asEnumerable().lastOrDefault()},s.prototype.forEach=function(v){return this.asEnumerable().forEach(v)},s.prototype.defaultIfEmpty=function(v){return v!==void 0?this.asEnumerable().defaultIfEmpty(v):this.asEnumerable().defaultIfEmpty()},s.prototype.zip=function(v,b){return this.asEnumerable().zip(v,b)},s);function s(){}e.EnumerableCollection=t,l(c,d=t),c.prototype.asArray=function(){return this.source},c.prototype.toArray=function(){return[].concat(this.source)},c.prototype.toList=function(){return new n(this.toArray())},c.prototype.asEnumerable=function(){return new u.ArrayEnumerable(this.source)},c.prototype.aggregate=function(v,b){return b!==void 0?this.source.reduce(v,b):this.source.reduce(v)},c.prototype.any=function(v){return v!==void 0?this.source.some(v):0<this.source.length},c.prototype.all=function(v){return this.source.every(v)},c.prototype.average=function(v){if(this.count()===0)throw new Error("Sequence contains no elements");for(var b=0,M=0,O=this.source.length;M<O;++M)b+=v(this.source[M]);return b/this.source.length},c.prototype.count=function(v){return(v!==void 0?this.source.filter(v):this.source).length},c.prototype.elementAtOrDefault=function(v){if(v<0)throw new Error("Negative index is forbiden");return this.source[v]},c.prototype.firstOrDefault=function(v){return(v!==void 0?this.source.filter(v):this.source)[0]},c.prototype.groupBy=function(v,b){for(var M=this.asArray(),O=new f,S=0;S<M.length;++S){var T=v(M[S]),F=b!==void 0?b(M[S]):M[S];O.containsKey(T)||O.set(T,new n),O.get(T).push(F)}return O.asEnumerable()},c.prototype.lastOrDefault=function(v){return v!==void 0?(v=this.source.filter(v))[v.length-1]:this.source[this.source.length-1]},c.prototype.forEach=function(v){for(var b=0,M=this.source.length;b<M;++b)v(this.source[b],b)},c.prototype.sequenceEqual=function(v,b){if(b===void 0&&(b=r.strictEqualityComparer()),v instanceof c||v instanceof Array){var M=this.asArray(),O=v instanceof c?v.asArray():v;if(M.length!=O.length)return!1;for(var S=0;S<M.length;++S)if(!b(M[S],O[S]))return!1;return!0}return this.asEnumerable().sequenceEqual(v,b)};var d,y=c;function c(v){v===void 0&&(v=[]);var b=d.call(this)||this;return b.source=v,b}e.ArrayQueryable=y,l(h,m=y),h.prototype.copy=function(){return new h(this.toArray())},h.prototype.asReadOnly=function(){return this},h.prototype.clear=function(){this.source=[]},h.prototype.remove=function(v){for(var b=[],M=0,O=this.source.length;M<O;++M)this.source[M]!==v&&b.push(this.source[M]);this.source=b},h.prototype.removeAt=function(v){if(v<0||this.source[v]===void 0)throw new Error("Out of bounds");return this.source.splice(v,1)[0]},h.prototype.get=function(v){return this.source[v]},h.prototype.push=function(v){return this.source.push(v)},h.prototype.pushRange=function(v){return v instanceof Array||(v=v.toArray()),this.source.push.apply(this.source,v)},h.prototype.pushFront=function(v){return this.source.unshift(v)},h.prototype.pop=function(){return this.source.pop()},h.prototype.popFront=function(){return this.source.shift()},h.prototype.set=function(v,b){if(v<0)throw new Error("Out of bounds");this.source[v]=b},h.prototype.insert=function(v,b){if(v<0||v>this.source.length)throw new Error("Out of bounds");this.source.splice(v,0,b)},h.prototype.indexOf=function(v){return this.source.indexOf(v)};var m,n=h;function h(){return m!==null&&m.apply(this,arguments)||this}e.List=n,l(_,g=y),_.prototype.copy=function(){return new _(this.toArray())},_.prototype.clear=function(){this.source=[]},_.prototype.peek=function(){return this.source[this.source.length-1]},_.prototype.pop=function(){return this.source.pop()},_.prototype.push=function(v){return this.source.push(v)};var g,y=_;function _(){return g!==null&&g.apply(this,arguments)||this}e.Stack=y,l(p,o=t),p.fromArray=function(v,b,M){return new p(v.map(function(O){return{key:b(O),value:M(O)}}))},p.fromJsObject=function(v){return new p(new n(Object.getOwnPropertyNames(v)).select(function(b){return{key:b,value:v[b]}}).toArray())},p.prototype.copy=function(){return new p(this.toArray())},p.prototype.asReadOnly=function(){return this},p.prototype.asEnumerable=function(){return new u.ArrayEnumerable(this.toArray())},p.prototype.toArray=function(){var v=this;return this.getKeys().select(function(b){return{key:b,value:v.dictionary[b]}}).toArray()},p.prototype.clear=function(){this.dictionary={}},p.prototype.containsKey=function(v){return this.dictionary.hasOwnProperty(v)},p.prototype.containsValue=function(v){for(var b=this.getKeysFast(),M=0;M<b.length;++M)if(this.dictionary[b[M]]===v)return!0;return!1},p.prototype.getKeys=function(){var v=this,b=this.getKeysFast();return new n(b.map(function(M){return v.keyType==="number"?parseFloat(M):M}))},p.prototype.getKeysFast=function(){return Object.getOwnPropertyNames(this.dictionary)},p.prototype.getValues=function(){for(var v=this.getKeysFast(),b=new Array(v.length),M=0;M<v.length;++M)b[M]=this.dictionary[v[M]];return new n(b)},p.prototype.remove=function(v){this.containsKey(v)&&delete this.dictionary[v]},p.prototype.get=function(v){if(this.containsKey(v))return this.dictionary[v];throw new Error("Key doesn't exist: "+v)},p.prototype.set=function(v,b){if(this.containsKey(v))throw new Error("Key already exists: "+v);this.setOrUpdate(v,b)},p.prototype.setOrUpdate=function(v,b){this.keyType===void 0&&(this.keyType=typeof v),this.dictionary[v]=b};var o,f=p;function p(v){var b=o.call(this)||this;if(b.clear(),v!==void 0)for(var M=0;M<v.length;++M){var O=v[M];b.set(O.key,O.value)}return b}e.Dictionary=f},{"./Comparers":20,"./Enumerables":21}],20:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strictEqualityComparer=function(){return function(i,l){return i===l}},e.combineComparers=function(i,l){return function(u,r){return i(u,r)||l(u,r)}},e.createComparer=function(i,l,u){return u!==void 0?function(r,t){return u(i(r),i(t))}:l?function(r,t){return r=i(r),t=i(t),r<t?-1:t<r?1:0}:function(r,t){return r=i(r),t=i(t),r<t?1:t<r?-1:0}}},{}],21:[function(d,w,e){"use strict";var i,l=this&&this.__extends||(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(E,C){E.__proto__=C}:function(E,C){for(var L in C)C.hasOwnProperty(L)&&(E[L]=C[L])}),function(E,C){function L(){this.constructor=E}i(E,C),E.prototype=C===null?Object.create(C):(L.prototype=C.prototype,new L)}),u=(Object.defineProperty(e,"__esModule",{value:!0}),d("./Iterators")),r=d("./Comparers"),t=d("./Collections"),s=d("./Utils"),d=(c.prototype.reset=function(){this.source.reset()},c.prototype.next=function(){return this.source.next()},c.prototype.asEnumerable=function(){return this},c.prototype.toArray=function(){var E=[];for(this.reset();this.next();)E.push(this.value());return E},c.prototype.toList=function(){return new t.List(this.toArray())},c.prototype.toDictionary=function(E,C){return t.Dictionary.fromArray(this.toArray(),E,C)},c.prototype.count=function(E){if(E!==void 0)return new y(this,E).count();var C=0;for(this.reset();this.next();)++C;return C>>>0},c.prototype.any=function(E){return E!==void 0?new y(this,E).any():(this.reset(),this.next())},c.prototype.all=function(E){for(this.reset();this.next();)if(!E(this.value()))return!1;return!0},c.prototype.reverse=function(){return new Ne(this.copy())},c.prototype.contains=function(E){return this.any(function(C){return C===E})},c.prototype.sequenceEqual=function(E,C){C===void 0&&(C=r.strictEqualityComparer());var L=E instanceof Array?new Y(E):E.asEnumerable();for(this.reset(),L.reset();this.next();)if(!L.next()||!C(this.value(),L.value()))return!1;return!L.next()},c.prototype.where=function(E){return new y(this.copy(),E)},c.prototype.select=function(E){return new q(this.copy(),E)},c.prototype.selectMany=function(E){return this.select(function(C){return C=E(C),Array.isArray(C)?new Y(C):C.asEnumerable()}).toArray().reduce(function(C,L){return new S(C,L)},n.empty())},c.prototype.skipWhile=function(E){return new f(this.copy(),E)},c.prototype.concat=function(E){for(var C=[],L=1;L<arguments.length;L++)C[L-1]=arguments[L];for(var k=function(Ge){return Ge instanceof Array?new Y(Ge):Ge.asEnumerable()},G=new S(this.copy(),k(E).copy()),te=0,xe=C.length;te<xe;++te)G=new S(G,k(C[te]).copy());return G},c.prototype.defaultIfEmpty=function(E){return new Lt(this,E)},c.prototype.elementAt=function(E){if(E=this.elementAtOrDefault(E),E===void 0)throw new Error("Out of bounds");return E},c.prototype.elementAtOrDefault=function(E){if(E<0)throw new Error("Negative index is forbiden");this.reset();for(var C=-1;this.next()&&++C!==E;);if(C===E)return this.value()},c.prototype.except=function(E){return this.where(function(C){return!E.contains(C)})},c.prototype.first=function(E){if(E=E!==void 0?this.firstOrDefault(E):this.firstOrDefault(),E===void 0)throw new Error("Sequence contains no elements");return E},c.prototype.firstOrDefault=function(E){return E!==void 0?new y(this,E).firstOrDefault():(this.reset(),this.next()?this.value():void 0)},c.prototype.forEach=function(E){this.reset();for(var C=0;this.next();++C)E(this.value(),C)},c.prototype.groupBy=function(E,C){for(var L=this.toArray(),k=new t.Dictionary,G=0;G<L.length;++G){var te=E(L[G]),xe=C!==void 0?C(L[G]):L[G];k.containsKey(te)||k.set(te,new t.List),k.get(te).push(xe)}return k.asEnumerable()},c.prototype.last=function(E){if(E=E!==void 0?this.lastOrDefault(E):this.lastOrDefault(),E===void 0)throw new Error("Sequence contains no elements");return E},c.prototype.lastOrDefault=function(E){return E!==void 0?new y(this,E).lastOrDefault():((E=new Ne(this)).reset(),E.next()?E.value():void 0)},c.prototype.single=function(E){if(E=E!==void 0?this.singleOrDefault(E):this.singleOrDefault(),E===void 0)throw new Error("Sequence contains no elements");return E},c.prototype.singleOrDefault=function(E){if(E!==void 0)return new y(this,E).singleOrDefault();if(this.reset(),this.next()){if(E=this.value(),this.next())throw new Error("Sequence contains more than 1 element");return E}},c.prototype.distinct=function(E){return new P(this.copy(),E)},c.prototype.aggregate=function(E,C){var L=C;if(this.reset(),C===void 0){if(!this.next())throw new Error("Sequence contains no elements");L=E(L,this.value())}for(;this.next();)L=E(L,this.value());return L},c.prototype.min=function(E){return E!==void 0?new q(this,E).min():this.aggregate(function(C,L){return C!==void 0&&C<L?C:L})},c.prototype.orderBy=function(E,C){return new ke(this.copy(),r.createComparer(E,!0,C))},c.prototype.orderByDescending=function(E){return new ke(this.copy(),r.createComparer(E,!1,void 0))},c.prototype.max=function(E){return E!==void 0?new q(this,E).max():this.aggregate(function(C,L){return C!==void 0&&L<C?C:L})},c.prototype.sum=function(E){return this.aggregate(function(C,L){return C+E(L)},0)},c.prototype.average=function(E){if(this.reset(),!this.next())throw new Error("Sequence contains no elements");for(var C=0,L=0;C+=E(this.value()),++L,this.next(););return C/L},c.prototype.skip=function(E){return new R(this.copy(),E,void 0)},c.prototype.take=function(E){return new R(this.copy(),void 0,E)},c.prototype.takeWhile=function(E){return new b(this.copy(),E)},c.prototype.union=function(E){return new P(this.concat(E))},c.prototype.zip=function(E,C){return E=E instanceof Array?new Y(E):E.asEnumerable(),new St(this,E,C)},c);function c(E){this.source=E}e.EnumerableBase=d,l(h,m=d),h.fromSource=function(E){return new(E instanceof Array?Y:h)(E)},h.empty=function(){return h.fromSource([])},h.range=function(E,C,L){if(L===void 0&&(L=!0),C<0)throw new Error("Count must be >= 0");var k=new Array(C);if(L)for(var G=0;G<C;k[G]=E+G++);else for(G=0;G<C;k[G]=E-G++);return new Y(k)},h.repeat=function(E,C){if(C<0)throw new Error("Count must me >= 0");for(var L=new Array(C),k=0;k<C;++k)L[k]=E;return new Y(L)},h.prototype.copy=function(){return new h(this.source.copy())},h.prototype.value=function(){return this.currentValue.isValid()||(this.currentValue.value=this.source.value()),this.currentValue.value},h.prototype.reset=function(){m.prototype.reset.call(this),this.currentValue.invalidate()},h.prototype.next=function(){return this.currentValue.invalidate(),m.prototype.next.call(this)};var m,n=h;function h(E){return E=m.call(this,E)||this,E.currentValue=new s.Cached,E}e.Enumerable=n,l(_,g=n),_.prototype.copy=function(){return new _(this.source.copy(),this._predicate)},_.prototype.next=function(){for(var E;(E=g.prototype.next.call(this))&&!this._predicate(this.value()););return E};var g,y=_;function _(E,C){return E=g.call(this,E)||this,E._predicate=C,E}e.ConditionalEnumerable=y,l(p,o=n),p.prototype.reset=function(){o.prototype.reset.call(this),this._shouldContinueChecking=!0},p.prototype.copy=function(){return new p(this.source.copy(),this._predicate)},p.prototype.next=function(){if(!this._shouldContinueChecking)return o.prototype.next.call(this);for(var E;(E=o.prototype.next.call(this))&&this._predicate(this.value()););return this._shouldContinueChecking=!1,E};var o,f=p;function p(E,C){return E=o.call(this,E)||this,E._predicate=C,E._shouldContinueChecking=!0,E}e.SkipWhileEnumerable=f,l(M,v=n),M.prototype.reset=function(){v.prototype.reset.call(this),this._shouldContinueTaking=!0},M.prototype.copy=function(){return new M(this.source.copy(),this._predicate)},M.prototype.next=function(){return!!(v.prototype.next.call(this)&&this._shouldContinueTaking&&this._predicate(this.value()))||(this._shouldContinueTaking=!1)};var v,b=M;function M(E,C){return E=v.call(this,E)||this,E._predicate=C,E._shouldContinueTaking=!0,E}e.TakeWhileEnumerable=b,l(T,O=n),T.prototype.copy=function(){return new T(this.source.copy(),this._otherSource.copy())},T.prototype.reset=function(){this.source.reset(),this._otherSource.reset(),this._isFirstSourceFinished=!1,this.currentValue.invalidate()},T.prototype.next=function(){this.currentValue.invalidate();var E=(this._isFirstSourceFinished?this._otherSource:this.source).next();return E||this._isFirstSourceFinished?E:(this._isFirstSourceFinished=!0,this.next())},T.prototype.value=function(){return this.currentValue.isValid()||(this.currentValue.value=(this._isFirstSourceFinished?this._otherSource:this.source).value()),this.currentValue.value};var O,S=T;function T(E,C){return E=O.call(this,E)||this,E._otherSource=C,E._isFirstSourceFinished=!1,E}e.ConcatEnumerable=S,l(N,F=n),N.prototype.copy=function(){return new N(this.source.copy(),this._keySelector)},N.prototype.reset=function(){F.prototype.reset.call(this),this._seen={primitive:{number:{},string:{},boolean:{}},complex:[]}},N.prototype.isUnique=function(C){var C=this._keySelector!==void 0?this._keySelector(C):C,L=typeof C;return L in this._seen.primitive?!this._seen.primitive[L].hasOwnProperty(C)&&(this._seen.primitive[L][C]=!0):this._seen.complex.indexOf(C)===-1&&-1<this._seen.complex.push(C)},N.prototype.next=function(){for(var E;(E=F.prototype.next.call(this))&&!this.isUnique(this.value()););return E};var F,P=N;function N(E,C){return E=F.call(this,E)||this,E._keySelector=C,E._seen={primitive:{number:{},string:{},boolean:{}},complex:[]},E}e.UniqueEnumerable=P,l(j,D=n),j.prototype.copy=function(){return new j(this.source.copy(),this._start,this._count)},j.prototype.reset=function(){D.prototype.reset.call(this),this._currentIndex=-1},j.prototype.isValidIndex=function(){var E=this._start!==void 0?this._start:0,C=this._count!==void 0?E+this._count:void 0;return this._currentIndex>=E&&(C===void 0||this._currentIndex<C)},j.prototype.performSkip=function(){for(var E=this._start!==void 0?this._start:0,C=!0;C&&this._currentIndex+1<E;)C=D.prototype.next.call(this),++this._currentIndex;return C},j.prototype.next=function(){return!(this._currentIndex<0&&!this.performSkip())&&(++this._currentIndex,D.prototype.next.call(this))&&this.isValidIndex()},j.prototype.value=function(){if(this.isValidIndex())return D.prototype.value.call(this);throw new Error("Out of bounds")};var D,R=j;function j(E,C,L){var k=this;if(C!==void 0&&C<0||L!==void 0&&L<0)throw new Error("Incorrect parameters");return(k=D.call(this,E)||this)._start=C,k._count=L,k._currentIndex=-1,k}e.RangeEnumerable=R,l(B,V=d),B.prototype.copy=function(){return new B(this.source.copy(),this._transform)},B.prototype.value=function(){return this._currentValue.isValid()||(this._currentValue.value=this._transform(this.source.value())),this._currentValue.value},B.prototype.reset=function(){V.prototype.reset.call(this),this._currentValue.invalidate()},B.prototype.next=function(){return this._currentValue.invalidate(),V.prototype.next.call(this)};var V,q=B;function B(E,C){return E=V.call(this,E)||this,E._transform=C,E._currentValue=new s.Cached,E}e.TransformEnumerable=q,l(W,ge=n),W.prototype.copy=function(){return new W(this.source.copy())},W.prototype.reset=function(){this._elements.invalidate(),this._currentIndex=-1},W.prototype.isValidIndex=function(){return 0<=this._currentIndex&&this._currentIndex<this._elements.value.length},W.prototype.all=function(E){return this.source.all(E)},W.prototype.any=function(E){return E!==void 0?this.source.any(E):this.source.any()},W.prototype.average=function(E){return this.source.average(E)},W.prototype.count=function(E){return E!==void 0?this.source.count(E):this.source.count()},W.prototype.max=function(E){return E!==void 0?this.source.max(E):this.source.max()},W.prototype.min=function(E){return E!==void 0?this.source.min(E):this.source.min()},W.prototype.reverse=function(){return this.source.copy()},W.prototype.sum=function(E){return this.source.sum(E)},W.prototype.next=function(){return this._elements.isValid()||(this._elements.value=this.source.toArray()),++this._currentIndex,this.isValidIndex()},W.prototype.value=function(){if(this._elements.isValid()&&this.isValidIndex())return this._elements.value[this._elements.value.length-1-this._currentIndex];throw new Error("Out of bounds")};var ge,Ne=W;function W(E){return E=ge.call(this,E)||this,E._elements=new s.Cached,E._currentIndex=-1,E}e.ReverseEnumerable=Ne,l(x,Ot=d),x.prototype.isValidIndex=function(){return 0<=this._currentIndex&&this._currentIndex<this._elements.value.length},x.prototype.orderBy=function(E,C){return new x(this.source.copy(),r.createComparer(E,!0,C))},x.prototype.orderByDescending=function(E){return new x(this.source.copy(),r.createComparer(E,!1,void 0))},x.prototype.thenBy=function(E,C){return new x(this.source.copy(),r.combineComparers(this._comparer,r.createComparer(E,!0,C)))},x.prototype.thenByDescending=function(E){return new x(this.source.copy(),r.combineComparers(this._comparer,r.createComparer(E,!1,void 0)))},x.prototype.reset=function(){this._elements.invalidate(),this._currentIndex=-1},x.prototype.copy=function(){return new x(this.source.copy(),this._comparer)},x.prototype.value=function(){if(this._elements.isValid()&&this.isValidIndex())return this._elements.value[this._currentIndex];throw new Error("Out of bounds")},x.prototype.next=function(){return this._elements.isValid()||(this._elements.value=this.toArray()),++this._currentIndex,this.isValidIndex()},x.prototype.toArray=function(){return this.source.toArray().sort(this._comparer)};var Ot,ke=x;function x(E,C){return E=Ot.call(this,E)||this,E._comparer=C,E._elements=new s.Cached,E._currentIndex=-1,E}e.OrderedEnumerable=ke,l(H,Ft=n),H.prototype.toArray=function(){return this.list.toArray()},H.prototype.aggregate=function(E,C){return C!==void 0?this.list.aggregate(E,C):this.list.aggregate(E)},H.prototype.any=function(E){return E!==void 0?this.list.any(E):this.list.any()},H.prototype.all=function(E){return this.list.all(E)},H.prototype.average=function(E){return this.list.average(E)},H.prototype.count=function(E){return E!==void 0?this.list.count(E):this.list.count()},H.prototype.copy=function(){return new H(this.list.asArray())},H.prototype.elementAtOrDefault=function(E){return this.list.elementAtOrDefault(E)},H.prototype.firstOrDefault=function(E){return E!==void 0?this.list.firstOrDefault(E):this.list.firstOrDefault()},H.prototype.lastOrDefault=function(E){return E!==void 0?this.list.lastOrDefault(E):this.list.lastOrDefault()};var Ft,Y=H;function H(E){var C=Ft.call(this,new u.ArrayIterator(E))||this;return C.list=new t.List(E),C}e.ArrayEnumerable=Y,l(X,Ae=d),X.prototype.copy=function(){return new X(this.source.copy(),this._defaultValue)},X.prototype.value=function(){return this._mustUseDefaultValue?this._defaultValue:this.source.value()},X.prototype.next=function(){var E=Ae.prototype.next.call(this);return this._mustUseDefaultValue=this._mustUseDefaultValue===void 0&&!E,this._mustUseDefaultValue||E},X.prototype.reset=function(){Ae.prototype.reset.call(this),this._mustUseDefaultValue=void 0};var Ae,Lt=X;function X(E,C){return E=Ae.call(this,E)||this,E._mustUseDefaultValue=void 0,E._defaultValue=C,E}e.DefaultIfEmptyEnumerable=Lt,l(ee,Ce=d),ee.prototype.copy=function(){return new ee(this.source.copy(),this._otherSource.copy(),this._selector)},ee.prototype.value=function(){return this._currentValue.isValid()||(this._currentValue.value=this._selector(this.source.value(),this._otherSource.value())),this._currentValue.value},ee.prototype.reset=function(){Ce.prototype.reset.call(this),this._otherSource.reset(),this._isOneOfTheSourcesFinished=!1,this._currentValue.invalidate()},ee.prototype.next=function(){return this._currentValue.invalidate(),this._isOneOfTheSourcesFinished||(this._isOneOfTheSourcesFinished=!Ce.prototype.next.call(this)||!this._otherSource.next()),!this._isOneOfTheSourcesFinished};var Ce,St=ee;function ee(E,C,L){return E=Ce.call(this,E)||this,E._otherSource=C,E._isOneOfTheSourcesFinished=!1,E._currentValue=new s.Cached,E._selector=L,E}e.ZippedEnumerable=St},{"./Collections":19,"./Comparers":20,"./Iterators":22,"./Utils":24}],22:[function(a,w,e){"use strict";function i(l){this.source=l,this.reset()}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.copy=function(){return new i(this.source)},i.prototype.reset=function(){this._index=-1},i.prototype.isValidIndex=function(){return 0<=this._index&&this._index<this.source.length},i.prototype.next=function(){return++this._index,this.isValidIndex()},i.prototype.value=function(){if(this.isValidIndex())return this.source[this._index];throw new Error("Out of bounds")},e.ArrayIterator=i},{}],23:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("./Enumerables"),i=(e.Enumerable=i.Enumerable,a("./Iterators")),i=(e.ArrayIterator=i.ArrayIterator,a("./Collections")),i=(e.List=i.List,e.Dictionary=i.Dictionary,e.Stack=i.Stack,a("./Comparers"));e.strictEqualityComparer=i.strictEqualityComparer},{"./Collections":19,"./Comparers":20,"./Enumerables":21,"./Iterators":22}],24:[function(a,w,e){"use strict";function i(){this._isValid=!1}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.invalidate=function(){this._isValid=!1},i.prototype.isValid=function(){return this._isValid},Object.defineProperty(i.prototype,"value",{get:function(){if(this._isValid)return this._value;throw new Error("Trying to get value of invalid cache")},set:function(l){this._value=l,this._isValid=!0},enumerable:!0,configurable:!0}),e.Cached=i},{}],25:[function(a,w,e){"use strict";var i=this&&this.__spreadArray||function(n,h,g){if(g||arguments.length===2)for(var y,_=0,o=h.length;_<o;_++)!y&&_ in h||((y=y||Array.prototype.slice.call(h,0,_))[_]=h[_]);return n.concat(y||Array.prototype.slice.call(h))},l=(Object.defineProperty(e,"__esModule",{value:!0}),e.bf=e.credits=e.getPageAdUnit=e.getCachedRegistries=e.getSlotDetails=e.setModuleLoaded=e.isModuleLoaded=e.setModuleReady=e.isModuleReady=e.moduleStatuses=e.getRocketeerSlots=e.getRegisteredModules=e.getQueuedSlots=e.getPageSlots=e.getExcludedSlotIds=e.getDispatchedSlots=e.getBuiltSlots=e.version=e.registerModule=e.__VERSION__=e.registry=e.setOptions=e.addEvent=e.dispatchQueue=e.enableLazyLoad=e.setBulkTargeting=e.clearSlots=e.removeSlotLevelTarget=e.addSlotLevelTarget=e.removePageLevelTarget=e.addPageLevelTarget=e.queueRegistry=e.refresh=e.destroySlots=e.configure=void 0,a("./presets.js"),a("@turnercode/digital-ads-utilities/dist")),u=a("./processors"),r=a("./system"),t=a("linq-collections"),s=a("./system/MissionControl"),d=a("./version.json"),c=(m.prototype.fireAdFuelCreated=function(){var n=this,h=1500,g=setInterval(function(){if(document.readyState==="interactive"||document.readyState==="complete"){try{n.logger.log("Dispatching AdFuelCreated..."),document.dispatchEvent(new CustomEvent("AdFuelCreated",{detail:{AdFuel:window.AdFuel}}))}catch(y){n.logger.error("Error dispatching AdFuelCreated",y)}clearInterval(g)}else h<1&&clearInterval(g);h--},1)},m.createInstance=function(){this._instance=new m,window.AdFuel=this._instance,(n=this._instance.logger)!=null&&n.warn("New AdFuel instance created.",this._instance.adFuelOptions);var n=Object.assign(r.BaseAdFuelOptions,(n=JSON.parse(JSON.stringify(this._instance.adFuelOptions)))!=null?n:{});this._instance.adFuelOptions=n,this.processLoadedModules()},m.processLoadedModules=function(){if(window.AdFuelModules){for(var n=0,h=window.AdFuelModules;n<h.length;n++){var g=h[n];this._instance.perf.addMark("Registering Module - ".concat(g.MODULE_NAME)),this._instance.registerModule(g)}window.AdFuelModules=void 0}},Object.defineProperty(m,"instance",{get:function(){var n,h=this;return(n=window.WM)!=null&&n.UserConsent&&window.WM.UserConsent.isReady()?window.WM.UserConsent.getRegion()!=="ccpa"&&window.WM.UserConsent.getRegion()==="gdpr"?this._instance||(window.WM.UserConsent.isOneTrustLoaded()?window.WM.UserConsent.getUserConsentAdvertisingState()?this.createInstance():console.warn("Unable to create new instance of AdFuel due to consent restrictions."):(document.addEventListener("oneTrustLoaded",function(){var g;(g=(g=window.WM)==null?void 0:g.UserConsent)!=null&&g.getUserConsentAdvertisingState()?h.createInstance():console.warn("Unable to create new instance of AdFuel due to consent restrictions.")}),document.addEventListener("oneTrustFailed",function(){console.warn("Unable to create new instance of AdFuel due to OneTrust load failure.")}),document.addEventListener("oneTrustBlocked",function(){console.warn("Unable to create new instance of AdFuel due to OneTrust load blocking.")}))):this._instance||this.createInstance():(n=window.WM)!=null&&n.UserConsent||this._instance||(console.warn("No User Consent.  Assuming consent is granted.  User Location switching will be unavailble."),this.createInstance()),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"missionControl",{get:function(){return this._missionControl},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"moduleManager",{get:function(){return this._moduleManager},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"adFuelOptions",{get:function(){var n;return(n=(n=window.AdFuelOptions)==null?void 0:n.ADFUEL)!=null?n:r.BaseAdFuelOptions},set:function(n){window.AdFuelOptions?window.AdFuelOptions.ADFUEL=n:window.AdFuelOptions={ADFUEL:n,USER_CONSENT:{ENABLED:!0}}},enumerable:!1,configurable:!0}),m.prototype.configure=function(n){var h=this;return typeof n=="string"?fetch(n).then(function(g){h.ingestOptions(g.json())}):this.ingestOptions(n),this},m.prototype.ingestOptions=function(n){if("ADFUEL"in n)for(var h in window.AdFuelOptions||(window.AdFuelOptions={ADFUEL:{},USER_CONSENT:{ENABLED:!0}}),n)window.AdFuelOptions&&h in window.AdFuelOptions?Object.assign(window.AdFuelOptions[h],n[h]):window.AdFuelOptions[h]=n[h];else this.adFuelOptions=Object.assign(this.adFuelOptions,n)},Object.defineProperty(m.prototype,"registryOptions",{get:function(){return this._registryOptions},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"perf",{get:function(){return this._perf},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"ver",{get:function(){return this._version.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fetchedRegistries",{get:function(){return this._registryLoader.fetchedRegistries},enumerable:!1,configurable:!0}),m.prototype.lastProcessed=function(){var n;return 0<this.processedData.count()?(n=this.processedData.max(function(h){return h.value.timestamp}),this.processedData.first(function(h){return h.value.timestamp===n}).value):new r.GptProcessData},m.prototype.undispatched=function(){return 0<this.processedData.count()?this.processedData.select(function(n){return n.value}).where(function(n){return!n.dispatched}).where(function(n){var h=!1;return n.wrappedSlots.forEach(function(g){h=h||!!g.gSlot}),h}).toArray():[]},m.prototype.isModuleReady=function(n){return(n=this.registeredModules.get(n).isReady)!=null&&n},m.prototype.setModuleReady=function(n){this.logger.info("Module ".concat(n," is reporting ready.")),this.perf.addMark("Module ".concat(n," is ready.")),this.registeredModules.containsKey(n)?this.registeredModules.get(n).isReady=!0:this.registeredModules.setOrUpdate(n,{moduleName:n,isLoaded:!0,isReady:!0,unWrappedModule:void 0}),this._moduleManager.areAllModulesReady&&this._moduleManager.areAllExpectedModulesLoaded&&this._missionControl.setReady({readyId:"modules"})},m.prototype.isModuleLoaded=function(n){return(n=this.registeredModules.get(n).isLoaded)!=null&&n},m.prototype.setModuleLoaded=function(n){this.logger.log("Module ".concat(n," is reporting loaded.")),this.perf.addMark("Module ".concat(n," is loaded.")),this.registeredModules.containsKey(n)?this.registeredModules.get(n).isLoaded=!0:this.registeredModules.setOrUpdate(n,{moduleName:n,isLoaded:!1,isReady:!1,unWrappedModule:void 0})},m.prototype.queueRegistry=function(n,y){y===void 0&&(y={dispatch:this.adFuelOptions.AUTO_DISPATCH||!0}),(g=this.logger)!=null&&g.info("[queueRegistry] Queueing registry...",n,y),this.perf.addMark("Queueing Registry START"),this._initialRequestComplete=0<this.processedData.count(),y.slots&&(y.slots=Array.isArray(y.slots)?y.slots:[y.slots]),y.exclude&&(y.exclude=Array.isArray(y.exclude)?y.exclude:[y.exclude]),this._registryOptions=y,g=Array.isArray(n)?{registry:n}:n;var g,y=Object.assign({},this.adFuelOptions,y);return g.registry?this._registryLoader.loadRegistryFromJson(g.registry,y):this._registryLoader.loadRegistryFromUrl(n,y),this},m.prototype.flushCmdQueue=function(){for(this.logger.log("Flushing command",this._cmdQueue.length);0<this._cmdQueue.length;){var n=this._cmdQueue.shift();n&&(n(),this.logger.log("Command flushed."))}},m.prototype.dispatchQueue=function(n){var h=this;return n===void 0&&(n={}),this.undispatched().forEach(function(g){h.logger.log("[dispatchQueue] Dispatching Data: ",g),h._requestProcessor.dispatch(g)}),this},m.prototype.destroySlots=function(n){var h,g,y=this,_=(n?Array.isArray(n)||(n=[n]):n=[],this.logger.log("[ADFUEL] START ---------- destroySlots::slotsToDestroy:",n),new Set),o=[],f=[];if(0<n.length){if(this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::Searching registries for matching candidates..."),this.processedData.getValues().forEach(function(p){o=Array.from(new Set(o.concat(p.wrappedSlots.where(function(v){return n!==void 0&&(n==null?void 0:n.includes(v.slotId))&&v.isBuilt}).toArray())))}),0<o.length)try{this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::INTERIM - RegistrySlotWrappers...",o),f=((g=(h=window.googletag)==null?void 0:h.pubads().getSlots())==null?void 0:g.map(function(p){if(y.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::INTERIM - Googletag Slot:",p.getSlotElementId()),n!=null&&n.includes(p.getSlotElementId()))return p}).filter(function(p){return p!=null}))||[],this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::INTERIM - GoogleTag Candidates",f),f.forEach(function(p){p&&_.add(p)})}catch(p){this.logger.error("There was an error in DestroySlots.",p)}else this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::INTERIM - registrySlotWrappers array was empty.");this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::FINAL CANDIDATES:",_)}else this.logger.log("[ADFUEL] ---------- destroySlots[ALL]::Getting all built slots..."),this.processedData.getValues().forEach(function(p){o=o.concat(p.wrappedSlots.where(function(v){return v.isBuilt}).toArray())}),this.logger.log("[ADFUEL] ---------- destroySlots[ALL]::Registry Slot Wrappers:",o),(typeof((h=window.googletag)==null?void 0:h.pubads)=="function"?(g=window.googletag)==null?void 0:g.pubads().getSlots():[]).forEach(function(p){_.add(p)}),this.logger.log("[ADFUEL] ---------- destroySlots[ALL]::CANDIDATES:",_);return 0<n.length&&o.length!==n.length?this.logger.warn("Slot numbers do not match. Not destroying slots: ",o,n):(this.logger.log("[ADFUEL] ---------- destroySlots::Matching Registry Slot Wrappers: ",o),o.forEach(function(p){y.logger.log("[ADFUEL] ---------- destroySlots::Clearing GSlot from Wrapper: ",p),y.perf.addMark("Destroying Slot ".concat(p.slotId)),p.gSlot=void 0}),this.logger.log("[ADFUEL] ---------- destroySlots::Updated Registry Slot Wrappers: ",{registrySlotWrappers:o}),this.logger.log("[ADFUEL] ---------- destroySlots::handoffToSlotProcessor:",_),this._slotProcessor.destroySlots(Array.from(_)),Array.from(document.getElementsByClassName("adfuel-rendered")).forEach(function(p){(n!=null&&n.includes(p.id)||(n==null?void 0:n.length)===0)&&(y.logger.log("[ADFUEL] ---------- DestroySlots::Removing Class from Element:",p),p.classList.remove("adfuel-rendered"))})),this},m.prototype.addPageLevelTarget=function(n,h){return h=Array.isArray(h)?h:[h],this._targetProcessor.addPageLevelTargets(n,h),this.logger.log("Adding page level target ".concat(n)),this.perf.addMark("Adding Page-Level Target - ".concat(n)),this},m.prototype.removePageLevelTarget=function(n,h){var g=[];return h&&(g=Array.isArray(h)?h:[h]),this._targetProcessor.removePageLevelTargets(n,g),this.perf.addMark("Removing Page-Level Target - ".concat(n)),this},m.prototype.addSlotLevelTarget=function(n,h,g){var y=Array.isArray(g)?g:[g];return this._targetProcessor.addSlotLevelTargets(n,h,y),this.logger.log("Adding slot-level target slotId: ".concat(n,", targetKey: ").concat(h),g),this.perf.addMark("Adding Slot-Level Target - ".concat(h)),this},m.prototype.removeSlotLevelTarget=function(n,h,g){var y=[];return g&&(y=Array.isArray(g)?g:[g]),this._targetProcessor.removeSlotLevelTargets(n,h,y),this.perf.addMark("Removing Slot-Level Target - ".concat(h)),this},m.prototype.registerModule=function(n){return this.logger.info("Registering module: ".concat(n.MODULE_NAME,".")),this.perf.addMark("Registering Module - ".concat(n.MODULE_NAME)),this._moduleManager.registerModule(n),this},m.prototype.moduleStatuses=function(){var n=[];return this.registeredModules.forEach(function(h){n.push({name:h.value.moduleName,isReady:h.value.isReady,isLoaded:h.value.isLoaded})}),n},m.prototype.getSlotsForRefresh=function(n){var h,g=[];if(0<(n=n===void 0?[]:n).length)for(var y=this,_=0,o=n;_<o.length;_++)(function(p){var v=(h=y.processedData.firstOrDefault(function(b){return b.value.wrappedSlots.any(function(M){return p.includes(M.slotId)&&M.isBuilt})}))==null?void 0:h.value.wrappedSlots.firstOrDefault(function(b){return p.includes(b.slotId)&&b.isBuilt});v&&g.push(v)})(o[_]);else{var f=[];this.processedData.where(function(p){return p.value.wrappedSlots.any(function(v){return v.isBuilt})}).forEach(function(p){f.concat(p.value.wrappedSlots.where(function(v){return v.isBuilt}).toArray())}),f&&g.concat(f)}return g},m.prototype.refresh=function(n,h){var g=this,y=(h===void 0&&(h=0),this.moduleManager.callPreRefresh(this.lastProcessed().wrappedSlots),new t.List),y=n&&!["ALL","all","*","All"].includes(n)?(Array.isArray(n)||(n=[n]),new t.List(this.getSlotsForRefresh(n))):new t.List(this.lastProcessed().wrappedSlots.toArray());return this.lastProcessed().wrappedSlots?(n=function(){var _;0<y.count()&&0<h?(_=setInterval(function(){g._requestProcessor.refresh(y),g.moduleManager.callPostRefresh(y)},1e3*h),y.forEach(function(o){g._refreshers.containsKey(o.slotId)&&clearInterval(g._refreshers.get(o.slotId)),g._refreshers.setOrUpdate(o.slotId,_)})):0<y.count()&&h===0?g._requestProcessor.refresh(y):g.logger.warn("There is nothing to refresh.",y)},this._initialRequestComplete?n():this._waitingFunctions.push(n)):(n=this.logger)!=null&&n.warn("There are no slots defined. Has the registry been loaded?"),this},m.prototype.waitFor=function(n){return this.missionControl.register({readyId:n}),this},m.prototype.makeReady=function(n){return this.missionControl.setReady({readyId:n}),this},m.prototype.version=function(){return this._version},m.prototype.getBuiltSlots=function(){var n=[];return this.processedData.forEach(function(h){h.value.wrappedSlots.any(function(g){return g.isBuilt})&&n.push({timeStamp:h.value.timestamp,slots:h.value.wrappedSlots.where(function(g){return g.isBuilt}).toArray()})}),n},m.prototype.getDispatchedSlots=function(){return this.lastProcessed().wrappedSlots.where(function(n){return n.hasBeenDisplayed}).toArray()},m.prototype.getExcludedSlots=function(){return this.lastProcessed().wrappedSlots.where(function(n){return n.isExcluded}).toArray()},m.prototype.getPageSlots=function(){return this.lastProcessed().wrappedSlots.where(function(n){return n.isBuilt}).select(function(n){return n.gSlot}).toArray()},m.prototype.getQueuedSlots=function(){return this.lastProcessed().wrappedSlots.where(function(n){return!n.isBuilt}).toArray()},m.prototype.getRegisteredModules=function(){return this.registeredModules.select(function(n){return n.value.unWrappedModule}).toArray()},m.prototype.getRocketeerSlots=function(){return this._registry.slots},m.prototype.getPageAdUnit=function(){return this._pageAdUnit},Object.defineProperty(m.prototype,"pageAdUnit",{get:function(){return this._pageAdUnit},set:function(n){this._pageAdUnit=n},enumerable:!1,configurable:!0}),m.prototype.clearSlots=function(n){return this._slotProcessor.clearSlots(n),this},m.prototype.setBulkTargeting=function(n){return this._targetProcessor.setBulkTargeting(n),this},m.prototype.enableLazyLoad=function(n){return n.fetch=n.fetch||500,n.render=n.render||200,n.scaling=n.scaling||2,this.perf.addMark("Enabling Lazy Load"),this.logger.log("#################### Enabling Lazy Load"),this._googleApi.enableLazyLoad(n),this},m.prototype.getSlotDetails=function(n){var h,g=this.lastProcessed().wrappedSlots.firstOrDefault(function(y){return y.slotId===n});if(g)return{adUnitPath:(h=(h=g.gSlot)==null?void 0:h.getAdUnitPath())!=null?h:"UNKNOWN",slotTargeting:g.targeting,programmatic:g.programmatic,response:(h=g.gSlot)==null?void 0:h.getResponseInformation()};this.logger.log("Couldn't find details for slot: ".concat(n))},m.prototype.getCachedRegistries=function(){var n=new Map;return this.processedData.forEach(function(h){n.set(h.value.url,i([h.value.registry],h.value.registry.slots,!0))}),n},m);function m(){var n=this;this._version=new l.Version(d.major,d.minor,d.revision,d.family),this._googleApi=new r.GoogleApi(this),this._missionControl=new s.MissionControl(this,this._googleApi),this._requestProcessor=new u.RequestProcessor(this,void 0,this._googleApi),this._moduleManager=new r.ModuleManager(this),this._targetProcessor=new u.TargetProcessor(this,this._googleApi,this._requestProcessor),this._slotProcessor=new u.SlotProcessor(this,this._targetProcessor,this._googleApi),this._queueDispatched=!1,this._pageAdUnit="",this._initialRequestComplete=!1,this._waitingFunctions=[],this._refreshers=new t.Dictionary,this.processedData=new t.Dictionary,this._cmdQueue=[],this.registeredModules=new t.Dictionary,this._logger=new l.Logger("AdFuel TS",this._version.toString(),"adfuel","color: #4f86f7; padding: 2px"),this._perf=new l.Performance("ADFUEL TS"),this._gptScriptLoader=new r.GptScriptLoader(this.missionControl,this._logger),this._registryLoader=new r.RegistryLoader(this),this._overlayLoader=new r.OverlayLoader(this),this._gptScriptLoader.loadScript().then(function(){n._googleApi.flushCmdQueue()}),this._missionControl.firstProcessor=this._slotProcessor,this._perf.addMark("AdFuel Load END"),this._perf.addMeasure("AdFuel Load"),this.fireAdFuelCreated(),this._overlayLoader.startConsoleTool(),document.addEventListener("AdFuelRequestComplete",function(){n._initialRequestComplete=!0,n._waitingFunctions.forEach(function(h){h()}),n._waitingFunctions=[]}),window.addEventListener("load",function(){var h,g;n.logger.log("[window.load] Load fired:  AUTO_DISPATCH: ".concat(n.adFuelOptions.AUTO_DISPATCH," queueDispatched: ").concat(n._queueDispatched)),n.adFuelOptions.AUTO_DISPATCH||n._queueDispatched?n.adFuelOptions.AUTO_DISPATCH&&(n.dispatchQueue(),h=1,g=setInterval(function(){0<n.undispatched().length&&(n.logger.warn("[window.load] AdFuel is configured to automatically dispatch the queue on window.load but ".concat(100*h," milliseconds later and there are slots that still are not dispatched.")),n.logger.warn("[window.load] Undispatched: ",n.undispatched()),n.dispatchQueue()),5e3<100*h&&clearInterval(g),h++},100)):n.logger.error("[window.load] AdFuel is not configured to automatically dispatch the queue and the user's code never called AdFuel.dispatchQueue().")}),this.perf.addMark("AdFuel Created")}window.AdFuel=c.instance,e.configure=function(n){return c.instance.configure(n)},e.destroySlots=function(n){return c.instance.destroySlots(n=n===void 0?[]:n)},e.refresh=function(n,h){return c.instance.refresh(n,h)},e.queueRegistry=function(n,h){return c.instance.queueRegistry(n,h)},e.addPageLevelTarget=function(n,h){return c.instance.addPageLevelTarget(n,h)},e.removePageLevelTarget=function(n,h){return c.instance.removePageLevelTarget(n,h)},e.addSlotLevelTarget=function(n,h,g){return c.instance.addSlotLevelTarget(n,h,g)},e.removeSlotLevelTarget=function(n,h,g){return c.instance.removeSlotLevelTarget(n,h,g)},e.clearSlots=function(n){return c.instance.clearSlots(n=n===void 0?[]:n)},e.setBulkTargeting=function(n){return c.instance.setBulkTargeting(n)},e.enableLazyLoad=function(n){return c.instance.enableLazyLoad(n)},e.dispatchQueue=function(n){return c.instance.dispatchQueue(n)},e.addEvent=function(n,h,g){var y="background: red;color:white;",_="background: inherit;color:inherit;";console.error("%c *** DEPRECATED FUNCTION WILL BE REMOVED IN THE NEXT BUILD.  *** %c",y,_),console.error("%c ***              DO NOT USE AdFuel.addEvent()               *** %c",y,_),console.error("%c ***              DO NOT USE AdFuel.addEvent()               *** %c",y,_),console.error("%c ***              DO NOT USE AdFuel.addEvent()               *** %c",y,_),console.error("%c ***              DO NOT USE AdFuel.addEvent()               *** %c",y,_),console.error("%c *** DEPRECATED FUNCTION WILL BE REMOVED IN THE NEXT BUILD.  *** %c",y,_),console.error("%c *** use addEventListener() instead.                         *** %c",y,_),console.error("%c *** No event was added                                      *** %c",y,_)},e.setOptions=function(){var n="background: red;color:white;",h="background: inherit;color:inherit;";console.error("%c *** DEPRECATED FUNCTION WILL BE REMOVED IN THE NEXT BUILD.  *** %c",n,h),console.error("%c ***             DO NOT USE AdFuel.setOptions()              *** %c",n,h),console.error("%c ***             DO NOT USE AdFuel.setOptions()              *** %c",n,h),console.error("%c ***             DO NOT USE AdFuel.setOptions()              *** %c",n,h),console.error("%c ***             DO NOT USE AdFuel.setOptions()              *** %c",n,h),console.error("%c *** DEPRECATED FUNCTION WILL BE REMOVED IN THE NEXT BUILD.  *** %c",n,h),console.error("%c *** No options were set                                     *** %c",n,h)},e.registry={push:function(n,h){console.warn("%c *** This functionality will be removed in future releases. Instead of 'registry.push()', please use AdFuel.queueRegistry() *** %c","background: orange;color:white;","background: inherit;color:inherit;"),c.instance.queueRegistry(n,h)}},e.__VERSION__=function(){return c.instance.version().toString()},e.registerModule=function(n){return c.instance.registerModule(n)},e.version=function(){return c.instance.version()},e.getBuiltSlots=function(){return c.instance.getBuiltSlots()},e.getDispatchedSlots=function(){return c.instance.getDispatchedSlots()},e.getExcludedSlotIds=function(){return c.instance.getExcludedSlots()},e.getPageSlots=function(){return c.instance.getPageSlots()},e.getQueuedSlots=function(){return c.instance.getQueuedSlots()},e.getRegisteredModules=function(){return c.instance.getRegisteredModules()},e.getRocketeerSlots=function(){return c.instance.getRocketeerSlots()},e.moduleStatuses=function(){return c.instance.moduleStatuses()},e.isModuleReady=function(n){return c.instance.isModuleReady(n)},e.setModuleReady=function(n){c.instance.setModuleReady(n)},e.isModuleLoaded=function(n){return c.instance.isModuleLoaded(n)},e.setModuleLoaded=function(n){c.instance.setModuleLoaded(n)},e.getSlotDetails=function(n){return c.instance.getSlotDetails(n)},e.getCachedRegistries=function(){return c.instance.getCachedRegistries()},e.getPageAdUnit=function(){return c.instance.getPageAdUnit()},e.credits=function(){var n="\n\n          \u2591\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557\u2591\u2591\u2591\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n          \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255D\u2588\u2588\u2551\u2591\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255D\u2588\u2588\u2551\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u255A\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255D\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255D\n          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2591\u2588\u2588\u2551\u2591\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2557\u2591\u2591\u2588\u2588\u2551\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2551\u2591\u2591\u2591\u255A\u2588\u2588\u2588\u2588\u2588\u2557\u2591\n          \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u255D\u2591\u2591\u2588\u2588\u2551\u2591\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u255D\u2591\u2591\u2588\u2588\u2551\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2551\u2591\u2591\u2591\u2591\u255A\u2550\u2550\u2550\u2588\u2588\u2557\n          \u2588\u2588\u2551\u2591\u2591\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2551\u2591\u2591\u2591\u2591\u2591\u255A\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557\u2591\u2591\u2591\u2588\u2588\u2551\u2591\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\n          \u255A\u2550\u255D\u2591\u2591\u255A\u2550\u255D\u255A\u2550\u2550\u2550\u2550\u2550\u255D\u2591\u255A\u2550\u255D\u2591\u2591\u2591\u2591\u2591\u2591\u255A\u2550\u2550\u2550\u2550\u2550\u255D\u2591\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u255D\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u255D\u255A\u2550\u255D\u2591\u2591\u2591\u255A\u2550\u255D\u2591\u2591\u2591\u255A\u2550\u2550\u2550\u2550\u2550\u255D\u2591\n          =====================================================================\n          Version: ".concat(c.instance.version().toString(),"\n          Developed by: \n            Joe Lazarski\n            Steve Trofemuk\n\n          Serve ads or die trying!\n  ");console.log(n)},e.bf=function(){console.info("\n  ++++++++++[>+>+++>+++++++>++++++++++<<<<-]>>>>--.+++++++++++++++++++++++.<<++.>+++++++++++++.>-----.---------------.\n  +++++++++++++++++.-----------------.<<.>+.>+++++++++++++.---.---------.-.++++++++.++++++++.----------.>++++++++++.\n  ")}},{"./presets.js":26,"./processors":30,"./system":45,"./system/MissionControl":36,"./version.json":46,"@turnercode/digital-ads-utilities/dist":11,"linq-collections":23}],26:[function(a,w,e){"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]},{}],27:[function(a,w,e){"use strict";var i=this&&this.__awaiter||function(t,s,d,c){return new(d=d||Promise)(function(m,n){function h(_){try{y(c.next(_))}catch(o){n(o)}}function g(_){try{y(c.throw(_))}catch(o){n(o)}}function y(_){var o;_.done?m(_.value):((o=_.value)instanceof d?o:new d(function(f){f(o)})).then(h,g)}y((c=c.apply(t,s||[])).next())})},l=this&&this.__generator||function(t,s){var d,c,m,n={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]},h={next:g(0),throw:g(1),return:g(2)};return typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(_){var o=[y,_];if(d)throw new TypeError("Generator is already executing.");for(;n=h&&o[h=0]?0:n;)try{if(d=1,c&&(m=2&o[0]?c.return:o[0]?c.throw||((m=c.return)&&m.call(c),0):c.next)&&!(m=m.call(c,o[1])).done)return m;switch(c=0,(o=m?[2&o[0],m.value]:o)[0]){case 0:case 1:m=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,c=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(!(m=0<(m=n.trys).length&&m[m.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!m||o[1]>m[0]&&o[1]<m[3]))n.label=o[1];else if(o[0]===6&&n.label<m[1])n.label=m[1],m=o;else{if(!(m&&n.label<m[2])){m[2]&&n.ops.pop(),n.trys.pop();continue}n.label=m[2],n.ops.push(o)}}o=s.call(t,n)}catch(f){o=[6,f],c=0}finally{d=m=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}},u=(Object.defineProperty(e,"__esModule",{value:!0}),e.RequestProcessor=void 0,a("@turnercode/digital-ads-utilities"));function r(t,s,d){this.adFuel=t,this.nextProcessor=s,this.googleApi=d}r.prototype.process=function(t){var s=this;return new Promise(function(d,c){return i(s,void 0,void 0,function(){var m,n=this;return l(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),(m=this.adFuel.logger)!=null&&m.log(" ### START Request Processor ====",t.wrappedSlots.select(function(g){return g.toLogging()}).toArray(),t.options),(m=this.adFuel.perf)!=null&&m.addMark("Processing Request START"),[4,(m=this.googleApi)==null?void 0:m.configurePubAds().then(function(){return i(n,void 0,void 0,function(){var g,y;return l(this,function(_){switch(_.label){case 0:return(t.options.dispatch!==void 0?t.options.dispatch:t.options.AUTO_DISPATCH)&&((g=this.adFuel.logger)!=null&&g.info("RequestProcessor.process is calling Dispatch",t),t.wrappedSlots.where(function(o){return!o.hasBeenDisplayed&&o.isBuilt&&!o.isExcluded}).toList(),this.dispatch(t)),(g=this.adFuel.perf)!=null&&g.addMark("Processing Request END"),(y=this.adFuel.perf)!=null&&y.addMeasure("Processing Request"),(y=this.adFuel.logger)!=null&&y.log("========== [RequestProcessor/process] CALLING POST DISPATCH =========="),[4,this.adFuel.moduleManager.callPostDispatch(t.wrappedSlots)];case 1:return _.sent(),(y=this.adFuel.logger)!=null&&y.log(" ### STOP Request Processor ====",t.wrappedSlots.select(function(o){return o.toLogging()}).toArray(),t.options),this.nextProcessor?d(this.nextProcessor.process(t)):d(t),[2]}})})})];case 1:return h.sent(),[3,3];case 2:return m=h.sent(),c(m),[3,3];case 3:return[2]}})})})},r.prototype.dispatch=function(t){var s,d;return i(this,void 0,void 0,function(){var c,m,n=this;return l(this,function(h){return 0<(c=t.wrappedSlots.where(function(g){return!g.hasBeenDisplayed&&g.isBuilt&&!g.isExcluded}).toList()).count()?(t.dispatched=!0,(s=this.adFuel.logger)!=null&&s.log("[RequestProcessor - dispatch] Setting dispatched to true",t),this.adFuel.processedData.setOrUpdate(t.timestamp,t),(s=this.adFuel.logger)!=null&&s.log("========== [RequestProcessor/dispatch] CALLING PRE DISPATCH =========="),this.adFuel.moduleManager.callPreDispatch(c).then(function(){var g;try{document.dispatchEvent(new CustomEvent("PreDispatchComplete",{detail:{slots:c.count()}}))}catch(y){(g=n.adFuel.logger)!=null&&g.error("Error dispatching custom event: PreDispatchComplete",{error:y})}n.buildGPTObject(t),c.forEach(function(y){var _;(_=n.adFuel.perf)!=null&&_.addMark("[".concat(y.slotId,"] Slot Displayed With Googletag")),googletag.display(y.gSlot),y.hasBeenDisplayed=!0}),(g=n.googleApi)!=null&&g.refreshSlots(c,{dispatch:!0}),(g=n.adFuel.logger)!=null&&g.log("========== [RequestProcessor/dispatch] CALLING POST DISPATCH =========="),n.adFuel.moduleManager.callPostDispatch(c),document.dispatchEvent(new CustomEvent("AdFuelRequestComplete",{detail:{slots:c.select(function(y){return y.unWrappedSlot}).toArray(),options:n.adFuel.registryOptions}}))})):(s=this.adFuel.logger)!=null&&s.log("No slots to dispatch."),m={slotsBuilt:t.wrappedSlots.where(function(g){return g.hasBeenDisplayed&&!g.isExcluded}).toArray(),registry:t.registry,optionsUsed:t.options},window.AdFuelHistory||((d=this.adFuel.logger)!=null&&d.log("Creating AdFuelHistory"),window.AdFuelHistory=[]),(d=this.adFuel.logger)!=null&&d.log("Adding to AdFuelHistory",m),window.AdFuelHistory.push(m),[2]})})},r.prototype.refresh=function(t,s,d){var c;return s===void 0&&(s=!0),d===void 0&&(d=!0),i(this,void 0,void 0,function(){return l(this,function(m){switch(m.label){case 0:return(c=this.adFuel.perf)!=null&&c.addMark("Refresh Called..."),(c=this.adFuel.logger)!=null&&c.log("Refreshing slots",t.select(function(n){return n.toLogging()}).toArray()),s?[4,this.adFuel.moduleManager.callPreRefresh(t)]:[3,2];case 1:m.sent(),m.label=2;case 2:return(c=this.googleApi)!=null&&c.refreshSlots(t,this.adFuel.registryOptions),d?[4,this.adFuel.moduleManager.callPostRefresh(t)]:[3,4];case 3:m.sent(),m.label=4;case 4:return[2]}})})},r.prototype.buildGPTObject=function(t){var s,d,c,m=u.CookieHelper.readCookie("gptgeo");m?(c=m.split("%2C"),d=parseFloat(c[0]),c=parseFloat(c[1]),(s=this.googleApi)!=null&&s.setLocation(d,c),t.registry.child_directed_treatment&&(s=this.googleApi)!=null&&s.setChildDirectedTreatmentTag(t.registry.child_directed_treatment),t.registry.safeframe_config&&((d=this.adFuel.logger)!=null&&d.log("Setting SafeFrame config tag: ",t.registry.safeframe_config),(c=this.googleApi)!=null)&&c.setSafeFrameConfig(t.registry.safeframe_config)):(s=this.adFuel.logger)!=null&&s.log("Unable to retrieve location cookie",m)},e.RequestProcessor=r},{"@turnercode/digital-ads-utilities":11}],28:[function(a,w,e){"use strict";var i=this&&this.__awaiter||function(s,d,c,m){return new(c=c||Promise)(function(n,h){function g(o){try{_(m.next(o))}catch(f){h(f)}}function y(o){try{_(m.throw(o))}catch(f){h(f)}}function _(o){var f;o.done?n(o.value):((f=o.value)instanceof c?f:new c(function(p){p(f)})).then(g,y)}_((m=m.apply(s,d||[])).next())})},l=this&&this.__generator||function(s,d){var c,m,n,h={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},g={next:y(0),throw:y(1),return:y(2)};return typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(_){return function(o){var f=[_,o];if(c)throw new TypeError("Generator is already executing.");for(;h=g&&f[g=0]?0:h;)try{if(c=1,m&&(n=2&f[0]?m.return:f[0]?m.throw||((n=m.return)&&n.call(m),0):m.next)&&!(n=n.call(m,f[1])).done)return n;switch(m=0,(f=n?[2&f[0],n.value]:f)[0]){case 0:case 1:n=f;break;case 4:return h.label++,{value:f[1],done:!1};case 5:h.label++,m=f[1],f=[0];continue;case 7:f=h.ops.pop(),h.trys.pop();continue;default:if(!(n=0<(n=h.trys).length&&n[n.length-1])&&(f[0]===6||f[0]===2)){h=0;continue}if(f[0]===3&&(!n||f[1]>n[0]&&f[1]<n[3]))h.label=f[1];else if(f[0]===6&&h.label<n[1])h.label=n[1],n=f;else{if(!(n&&h.label<n[2])){n[2]&&h.ops.pop(),h.trys.pop();continue}h.label=n[2],h.ops.push(f)}}f=d.call(s,h)}catch(p){f=[6,p],m=0}finally{c=n=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}},u=(Object.defineProperty(e,"__esModule",{value:!0}),e.SlotProcessor=void 0,a("../system")),r=a("linq-collections");function t(s,d,c){c===void 0&&(c=new u.GoogleApi(s)),this.adFuel=s,this.nextProcessor=d,this.googleApi=c}t.prototype.process=function(s){var d=this;return new Promise(function(c,m){return i(d,void 0,void 0,function(){var n,h,g,y,_=this;return l(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),(n=this.adFuel.logger)!=null&&n.info("Entering SlotProcessor.Process()"),(n=this.adFuel.perf)!=null&&n.addMark("SlotProcessor.Process() START"),n=s.wrappedSlots.select(function(f){return f.toLogging()}).toArray(),(h=this.adFuel.logger)!=null&&h.log(" ### START Slot Processor ====",n,s.options),s.wrappedSlots.forEach(function(f){var p;(p=_.adFuel.perf)!=null&&p.addMark("[".concat(f.slotId,"] SlotProcessor.Process()"))}),(h=this.adFuel.logger)!=null&&h.log(" #################### Building Slots: ",s),this.buildSlots(s),[4,this.adFuel.moduleManager.callPostQueue(s.wrappedSlots)];case 1:return o.sent(),(h=this.adFuel.logger)!=null&&h.log(" ### STOP Slot Processor ====",n,s.options),(g=this.adFuel.logger)!=null&&g.log("========== [slotProcessor/process] CALLING PRE DISPATCH =========="),[4,this.adFuel.moduleManager.callPreDispatch(s.wrappedSlots)];case 2:return o.sent(),(g=this.adFuel.perf)!=null&&g.addMark("SlotProcessor.Process() END"),(y=this.adFuel.perf)!=null&&y.addMeasure("SlotProcessor.Process()"),this.nextProcessor?c((y=this.nextProcessor)==null?void 0:y.process(s)):c(s),[3,4];case 3:return y=o.sent(),m(y),[3,4];case 4:return[2]}})})})},t.prototype.buildSlots=function(s){var d,c=this,m=((m=this.adFuel.logger)!=null&&m.log("#################### Wrapped Slots: ",s.wrappedSlots.toArray()),s.wrappedSlots.where(function(n){return!n.isBuilt&&!n.hasBeenDisplayed&&n.slotExistsOnPage&&!n.isExcluded}));(d=this.adFuel.logger)!=null&&d.log("#################### Filtered Slots: ",m.toArray()),m.forEach(function(n){var h,g=c.adFuel.processedData.where(function(y){return y.value.url===s.url}).select(function(y){return(y=y.value.wrappedSlots.firstOrDefault(function(_){return _.isBuilt&&_.slotId===n.slotId}))==null?void 0:y.gSlot}).toArray();0<g.length&&g[0]!==void 0&&(h=c.adFuel.logger)!=null&&h.info("#################### Found historic gslot for ".concat(n.slotId),g)}),(d=this.adFuel.logger)!=null&&d.info("Building these slots: ",m.select(function(n){return n.toLogging()}).toArray()),m.where(function(n){return!n.isBuilt}).forEach(function(n){var h;(h=c.adFuel.logger)!=null&&h.info("Building slot for ".concat(n.slotId)),c.buildSlot(n),c.setResponsive(n),n.unWrappedSlot.safeframe_config&&c.googleApi.setSlotSafeFrameConfig(n.gSlot,n.unWrappedSlot.safeframe_config)})},t.prototype.buildSlot=function(s){(d=this.adFuel.logger)!=null&&d.log("Wrapped Slot: ",s);var d="/".concat(this.adFuel.adFuelOptions.NETWORK_ID,"/").concat(s.adUnitMap||s.unWrappedSlot.rktr_ad_id),c=s.slotId,m=((m=this.adFuel.perf)!=null&&m.addMark("Building Slot [".concat(s.slotId,"] adPath ").concat(d," START")),s=this.getSlotIfAlreadyProcessed(s),document.getElementById(s.slotId));if(m!=null&&m.className.includes("adfuel-rendered"))(m=this.adFuel.logger)!=null&&m.warn("".concat(s.slotId," element has already been rendered."));else if(s.isBuilt)(m=this.adFuel.logger)!=null&&m.log("You are trying to build ".concat(s.slotId," but it already exists in processedData."),s);else if(s.isOutOfPage)s.gSlot=this.googleApi.defineOutOfPageSlot(d,c);else{(m=this.adFuel.logger)!=null&&m.log("Defining slot for ".concat(s.slotId),s);try{s.gSlot=this.googleApi.defineSlot(d,s.unWrappedSlot.sizes,c)}catch(n){(m=this.adFuel.logger)!=null&&m.error("Error defining slot: ",n)}(c=this.adFuel.logger)!=null&&c.log("Slot built!",s)}(m=this.adFuel.perf)!=null&&m.addMark("Building Slot [".concat(s.slotId,"] adPath ").concat(d," END")),(c=this.adFuel.perf)!=null&&c.addMeasure("Building Slot [".concat(s.slotId,"] adPath ").concat(d))},t.prototype.getSlotIfAlreadyProcessed=function(s){var d=(d=this.adFuel.processedData.firstOrDefault(function(c){return c.value.wrappedSlots.any(function(m){return m.slotId===s.slotId&&m.isBuilt})}))==null?void 0:d.value.wrappedSlots.firstOrDefault(function(c){return c.slotId===s.slotId&&c.isBuilt});return s=d!=null?d:s},t.prototype.setResponsive=function(s){var d;s.isBuilt&&((d=this.adFuel.perf)!=null&&d.addMark("Setting Responsive Mapping [".concat(s.slotId,"]")),this.googleApi.defineSlotSizeMapping(s.gSlot,s.unWrappedSlot.responsive))},t.prototype.changeSlotId=function(s,d){var c=s.slotId.slice();s.unWrappedSlot.rktr_slot_id=d;try{document.dispatchEvent(new CustomEvent("SlotIdChange",{detail:{asset:s.unWrappedSlot,originalId:c,newId:d}}))}catch(m){(s=this.adFuel.logger)!=null&&s.error("Error dispatching SlotIdChange event.",m)}},t.prototype.destroySlots=function(s){var d;s===void 0&&(s=[]),(d=this.adFuel.logger)!=null&&d.log("[SLOT PROCESSOR] START ---------- destroySlots::slotsToDestroy:",s),(d=this.adFuel.perf)!=null&&d.addMark("Destroying Slots [".concat(JSON.stringify(s.map(function(c){return c.getSlotElementId()})),"]")),(d=this.adFuel.logger)!=null&&d.log("[SLOT PROCESSOR] ---------- destroySlots::handoffToGoogleAPI:",s),this.googleApi.destroySlots(s)},t.prototype.clearSlots=function(s){var d=this;this.googleApi.executeWhenAvailable(function(){var c,m=((m=(m=d.adFuel.lastProcessed())==null?void 0:m.wrappedSlots)!=null?m:new r.List).where(function(n){return s.includes(n.slotId)&&n.isBuilt}).select(function(n){return n.gSlot}).toArray();(c=d.adFuel.perf)!=null&&c.addMark("Clearing Slots [".concat(JSON.stringify(m.map(function(n){return n.getSlotElementId()})),"]")),d.googleApi.clearSlots(m)})},e.SlotProcessor=t},{"../system":45,"linq-collections":23}],29:[function(a,w,e){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var s,d=1,c=arguments.length;d<c;d++)for(var m in s=arguments[d])Object.prototype.hasOwnProperty.call(s,m)&&(t[m]=s[m]);return t}).apply(this,arguments)},l=this&&this.__spreadArray||function(t,s,d){if(d||arguments.length===2)for(var c,m=0,n=s.length;m<n;m++)!c&&m in s||((c=c||Array.prototype.slice.call(s,0,m))[m]=s[m]);return t.concat(c||Array.prototype.slice.call(s))},u=(Object.defineProperty(e,"__esModule",{value:!0}),e.TargetProcessor=void 0,a("@turnercode/digital-ads-utilities/dist/getUrlParam"));function r(t,s,d){d===void 0&&(d=void 0),this.adFuel=t,this._googleApi=s,this.nextProcessor=d,this._slotTargets={},this._pageTargets={}}r.prototype.process=function(t){var s=this;return new Promise(function(d,c){var m,n,h,g,y,_,o,f,p,v,b,M;try{(m=s.adFuel.perf)!=null&&m.addMark("TargetProcessor.Process() START"),(n=s.adFuel.logger)!=null&&n.log(" ### START Target Processor ====",t.wrappedSlots.select(function(O){return O.toLogging()}).toArray(),t.options),(h=s.adFuel.logger)!=null&&h.log("slotTargets",s._slotTargets),(g=s.adFuel.logger)!=null&&g.log("pageTargets",s._pageTargets),s._slotTargets=Object.assign({},s._slotTargets,t.slotTargets),s._pageTargets=Object.assign({},s._pageTargets,t.pageTargets),(y=s.adFuel.logger)!=null&&y.log("slotTargets",s._slotTargets),(_=s.adFuel.logger)!=null&&_.log("pageTargets",s._pageTargets),s.getAdsQaTargeting(),(o=s.adFuel.logger)!=null&&o.log(" ### START BUILDING SLOT TARGETING ====",t),s.buildSlotLevelTargeting(t),(f=s.adFuel.logger)!=null&&f.log(" ### START BUILDING PAGE TARGETING ====",t),s.buildPageLevelTargeting(t),(p=s.adFuel.logger)!=null&&p.log(" ### STOP Target Processor ====",t.wrappedSlots.select(function(O){return O.toLogging()}).toArray(),t.options),(v=s.adFuel.perf)!=null&&v.addMark("TargetProcessor.Process() END"),(b=s.adFuel.perf)!=null&&b.addMeasure("TargetProcessor.Process()"),s.nextProcessor?d((M=s.nextProcessor)==null?void 0:M.process(t)):d(t)}catch(O){c(O)}})},r.prototype.windowObjectName=function(t){var s;return((s=(s=t.options)==null?void 0:s.SITE_OBJECT)!=null?s:(t=(s=(s=t.registry)==null?void 0:s.root)!=null?s:(s=t.registry)==null?void 0:s.site)!=null?t:"").toUpperCase()},r.prototype.buildSlotLevelTargeting=function(t){(s=this.adFuel.logger)!=null&&s.log("Building slot level targeting.",{raw:window.CNN,root:this.windowObjectName(t),data:t});for(var s,d,c,m=function(y){(c=n.adFuel.perf)!=null&&c.addMark("Building Slot-Level Targeting [".concat(y.slotId,"]")),(c=n.adFuel.logger)!=null&&c.log("[TargetProcessor] Building Slot-Level Targeting [".concat(y.slotId,"]"),y);var _,o=(((c=window[n.windowObjectName(t)])==null?void 0:c.slotTargets)||{})[y.slotId]||{},f=((c=n.adFuel.logger)!=null&&c.log("[TargetProcessor] Site Slot Targets [".concat(y.slotId,"]"),o),{pos:[y.posMap]}),p=((c=n.adFuel.logger)!=null&&c.log("[TargetProcessor] posTargets::",f),new Map(y.targeting)),v=(p.delete("pos"),i(i(i(i({},n._slotTargets[y.slotId]),Object.fromEntries(p)),f),o));(c=n.adFuel.logger)!=null&&c.log("[TargetProcessor] slotTargets to be built are: ",v,y);for(_ in v)(function(b){var M,O;y.gSlot?0<(O=(d=v[b].filter(function(S){var T;return(T=!((T=y.requestedSlotTargets[b])!=null&&T.includes(S)))!==null&&T}))!=null?d:[]).length&&((d=n.adFuel.logger)!=null&&d.log("Setting slot targeting: ",{slot:y.slotId,key:b,value:O}),y.gSlot.setTargeting(b,O),y.requestedSlotTargets[b]?(M=y.requestedSlotTargets[b]).push.apply(M,O):y.requestedSlotTargets[b]=l([],O,!0)):(d=n.adFuel.logger)!=null&&d.warn("Slot ".concat(y.slotId," could not find the gslot and goes home disappointed."))})(_);(c=n.adFuel.logger)!=null&&c.log("Built slot targeting:",v,y)},n=this,h=0,g=t.wrappedSlots.where(function(y){return y.isBuilt&&!y.isExcluded}).toArray();h<g.length;h++)m(g[h])},r.prototype.buildPageLevelTargeting=function(t){var s,d,c=this,m=((m=this.adFuel.logger)!=null&&m.log("Building page level targeting.",{root:this.windowObjectName(t),data:window[this.windowObjectName(t)]}),(m=this.adFuel.perf)!=null&&m.addMark("Building Page-Level Targeting"),((m=window[this.windowObjectName(t)])==null?void 0:m.adTargets)||{}),n=((s=this.adFuel.logger)!=null&&s.log("[TargetProcessor] Site Page Targets",m),new Map),h=(Array.isArray((s=t.registry)==null?void 0:s.targeting)&&(s=t.registry)!=null&&s.targeting.forEach(function(o){(_=c.adFuel.logger)!=null&&_.log("[TargetProcessor] Registry Page Target Item: ",o),(_=c.adFuel.logger)!=null&&_.log("[TargetProcessor] Registry Page Target Item Types: ",{first:typeof o[0],second:typeof o[1]});var y,_=o[0]||"undefined",o=o[1];(y=c.adFuel.logger)!=null&&y.log("[TargetProcessor] Registry Page Target KVP: ",{keyName:_,keyValue:o}),n.set(_,o)}),(t=this.adFuel.logger)!=null&&t.log("[TargetProcessor] Registry Targets: ",Object.fromEntries(n)),i(i(i({},this._pageTargets),Object.fromEntries(n)),m));for(d in(s=this.adFuel.logger)!=null&&s.log("pageTargets to be built are: ",h),h)h[d]!=null&&this._googleApi.setTargeting(d,h[d]);(t=this.adFuel.logger)!=null&&t.log("Built page targeting",h)},r.prototype.getAdsQaTargeting=function(){var t,s,d;try{(d=this.adFuel.perf)!=null&&d.addMark("Getting AdsQA Targeting");var c,m,n,h,g=(0,u.getUrlParam)("adsqa");g&&((t=this.adFuel.logger)!=null&&t.log("ADSQA detected."),c=g.split("%3D"),1<g.length?(m=c[0],n=c[1],h=Array.isArray(n)?n:[n],this._pageTargets[m]=h):(s=this.adFuel.logger)!=null&&s.info("ADSQA parsing problem",c))}catch(y){(d=this.adFuel.logger)!=null&&d.error("checkForAdsQA",y)}},r.prototype.removeTargets=function(t,s,d){var c;t===void 0&&(t={}),(c=this.adFuel.perf)!=null&&c.addMark("Removing Targeting [".concat(s,"] ").concat(JSON.stringify(d))),d&&t[s]?t[s]=t[s].filter(function(m){return!d.includes(m)}):delete t[s]},r.prototype.addTargets=function(t,s,d){var c;t[s]=d,(c=this.adFuel.perf)!=null&&c.addMark("Adding Targeting [".concat(s,"] ").concat(JSON.stringify(d))),t[s]?t[s]=l(l([],(c=t[s])!=null?c:[],!0),d.filter(function(m){return!t[s].includes(m)}),!0):t[s]=l([],d,!0)},r.prototype.addPageLevelTargets=function(t,s){this.addTargets(this._pageTargets,t,s)},r.prototype.removePageLevelTargets=function(t,s){this.removeTargets(this._pageTargets,t,s)},r.prototype.addSlotLevelTargets=function(t,s,d){this._slotTargets[t]||(this._slotTargets[t]={}),this.addTargets(this._slotTargets[t],s,d)},r.prototype.removeSlotLevelTargets=function(t,s,d){this.removeTargets(this._slotTargets[t],s,d)},r.prototype.setBulkTargeting=function(t){var s;if(t.slotTargets||t.adTargets){if((s=this.adFuel.perf)!=null&&s.addMark("Setting Bulk Targeting"),t.slotTargets)for(var d=0,c=t.slotTargets;d<c.length;d++){var m=c[d];this.addSlotLevelTargets(m.slotId,m.targetKey,m.targetValues)}if(t.adTargets)for(var n=0,h=t.adTargets;n<h.length;n++){var g=h[n];this.addPageLevelTargets(g.targetKey,g.targetValues)}}else(s=this.adFuel.logger)!=null&&s.error("setBulkTargeting was passed a bad parameter.",t)},e.TargetProcessor=r},{"@turnercode/digital-ads-utilities/dist/getUrlParam":8}],30:[function(a,w,e){"use strict";var i=this&&this.__createBinding||(Object.create?function(u,r,t,s){s===void 0&&(s=t);var d=Object.getOwnPropertyDescriptor(r,t);d&&("get"in d?r.__esModule:!d.writable&&!d.configurable)||(d={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(u,s,d)}:function(u,r,t,s){u[s=s===void 0?t:s]=r[t]}),l=this&&this.__exportStar||function(u,r){for(var t in u)t==="default"||Object.prototype.hasOwnProperty.call(r,t)||i(r,u,t)};Object.defineProperty(e,"__esModule",{value:!0}),l(a("../system/OptionsParser"),e),l(a("./RequestProcessor"),e),l(a("./SlotProcessor"),e),l(a("./TargetProcessor"),e)},{"../system/OptionsParser":39,"./RequestProcessor":27,"./SlotProcessor":28,"./TargetProcessor":29}],31:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AController=void 0,e.AController=function(i){(this.missionControl=i).register(this)}},{}],32:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdFuelOptions=void 0,e.BaseAdFuelOptions={AUTO_DISPATCH:!0,COLLAPSE_EMPTY_DIVS:!0,DEFAULT_TIMEOUT:1200,DEFAULT_DESKTOP_TIMEOUT:1200,DEFAULT_MOBILE_TIMEOUT:800,IFRAME_TITLE:"advertisement",NETWORK_ID:"8663477"}},{}],33:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleApi=void 0;var i=a("@turnercode/digital-ads-utilities/dist/getUrlParam");function l(u){this.adFuel=u,this._pubAdsConfigured=!1,this._commandQueue=[],this._setChildDirectedTreatment=!0}l.prototype.executeWhenAvailable=function(u){var r;this.isAvailable?u():((r=this.adFuel.logger)!=null&&r.warn("It seems googletag is not ready yet. Queuing command...",{apiReady:googletag.apiReady,pubadsReady:googletag.pubadsReady}),(r=window.googletag)!=null&&r.cmd.push(u))},l.prototype.flushCmdQueue=function(){for(;0<this._commandQueue.length;)googletag.cmd.push(this._commandQueue.shift())},Object.defineProperty(l.prototype,"isAvailable",{get:function(){var u;return(u=googletag.apiReady)!=null&&u},enumerable:!1,configurable:!0}),l.prototype.destroySlots=function(u){var r=this;0<u.length?this.executeWhenAvailable(function(){var t;u.forEach(function(s){var d;(d=r.adFuel.logger)!=null&&d.log("[GOOGLEAPI] ---------- destroySlots::Destroying Slot: ".concat(s.getSlotElementId())),(d=r.adFuel.perf)!=null&&d.addMark("Destroying Slot: ".concat(s.getSlotElementId()))}),(t=window.googletag)!=null&&t.destroySlots(u)}):this.executeWhenAvailable(function(){var t;(t=r.adFuel.logger)!=null&&t.log("[GOOGLEAPI] ---------- destroySlots::Destroying All Slots"),(t=r.adFuel.perf)!=null&&t.addMark("Destroying All Slots"),(t=window.googletag)!=null&&t.destroySlots()})},l.prototype.clearSlots=function(u){var r=this;0<(u=u===void 0?[]:u).length?this.executeWhenAvailable(function(){var t;(t=r.adFuel.perf)!=null&&t.addMark("Clearing Slots"),u.forEach(function(s){var d;(d=r.adFuel.perf)!=null&&d.addMark("Clearing Slot: ".concat(s.getSlotElementId()))}),googletag.pubads().clear(u)}):googletag.cmd.push(function(){var t;(t=r.adFuel.perf)!=null&&t.addMark("Clearing All Slots"),googletag.pubads().clear()})},l.prototype.defineOutOfPageSlot=function(s,r){var t,s=googletag.defineOutOfPageSlot(s,r);if(window.googletag&&s)(t=this.adFuel.perf)!=null&&t.addMark("Defined OOP GPT Slot - ".concat(r)),s.addService(window.googletag.pubads());else{if(!window.googletag)throw Error("Googletag not defined.");(t=this.adFuel.logger)!=null&&t.warn("Unable to define slot: ".concat(r))}return s},l.prototype.defineSlot=function(u,r,t){(c=this.adFuel.logger)!=null&&c.info("Building Standard Slot Object adPath:".concat(u," sizes:").concat(r," slotId:").concat(t));for(var s,d,c=void 0,m=[],n=0,h=r;n<h.length;n++){var g=h[n].map(Number);m.push([g[0],g[1]])}try{c=googletag.defineSlot(u,m,t),window.googletag&&c&&((s=this.adFuel.logger)!=null&&s.info("Defined slot: ".concat(t),c),(d=this.adFuel.perf)!=null&&d.addMark("Defined Standard GPT Slot - ".concat(t)),c.addService(window.googletag.pubads()))}catch(y){(r=this.adFuel.logger)!=null&&r.warn("Unable to define slot: ".concat(t),y)}return c},l.prototype.defineSlotSizeMapping=function(u,r){var t,s;u&&(s=u.getSlotElementId(),(t=this.adFuel.logger)!=null&&t.info("Setting Slot size mapping slotId: ".concat(s," responsiveMap: "),r),u.defineSizeMapping(r),(t=this.adFuel.perf)!=null)&&t.addMark("Defined Slot Responsive Mapping - ".concat(u.getSlotElementId()))},l.prototype.setTargeting=function(u,r){var t=this;this.executeWhenAvailable(function(){var s;googletag.pubads().setTargeting(u,r),(s=t.adFuel.perf)!=null&&s.addMark("Defined Page Target - ".concat(u))})},l.prototype.displaySlotById=function(u){var r=this;this.executeWhenAvailable(function(){var t;(t=r.adFuel.perf)!=null&&t.addMark("Displaying Slot - ".concat(u)),googletag.display(u)})},l.prototype.refreshSlots=function(u,r){var t=this,s=r||{maintainCorrelator:!0},d=u.where(function(c){return c.isBuilt}).select(function(c){return c.gSlot}).toArray();0<d.length?this.executeWhenAvailable(function(){var c;(c=t.adFuel.logger)!=null&&c.log("GoogleAPI, Refreshing Slots: ".concat(JSON.stringify(d.map(function(m){return m.getSlotElementId()})))),d.forEach(function(m){var n;(n=t.adFuel.perf)!=null&&n.addMark("Refreshing Slot ".concat(m.getSlotElementId()))}),googletag.pubads().refresh(d,{changeCorrelator:!s.maintainCorrelator})}):this.executeWhenAvailable(function(){var c;(c=t.adFuel.logger)!=null&&c.log("GoogleAPI, Refreshing all slots"),(c=t.adFuel.perf)!=null&&c.addMark("Refreshing All Slots"),googletag.pubads().refresh(void 0,{changeCorrelator:!s.maintainCorrelator})})},l.prototype.configurePubAds=function(){var u=this;return new Promise(function(r){u._pubAdsConfigured?r():(u._pubAdsConfigured=!0,u.executeWhenAvailable(function(){(t=u.adFuel.perf)!=null&&t.addMark("Configuring GPT START"),googletag.pubads().addEventListener("impressionViewable",function(d){var c,m=d.slot.getSlotElementId();(c=u.adFuel.perf)!=null&&c.addMark("[".concat(m,"] Impression Viewable")),(c=u.adFuel.logger)!=null&&c.info("impressionViewable",d),document.dispatchEvent(new CustomEvent("SlotViewable",{detail:d}))}).addEventListener("slotVisibilityChanged",function(d){var c;(c=u.adFuel.logger)!=null&&c.info("slotVisibilityChanged",d),document.dispatchEvent(new CustomEvent("slotVisibilityChanged",{detail:d}))}).addEventListener("slotRenderEnded",function(d){var c,m,n,h,g,y,_,o,f,p,v,b,M,O,S,T=d.slot.getSlotElementId();(c=u.adFuel.perf)!=null&&c.addMark("[".concat(T,"] Slot Render Ended")),(c=u.adFuel.logger)!=null&&c.info("slotRenderEnded",d);try{var F,P=u.adFuel.processedData.getKeys(),N=(n=(m=d.slot)==null?void 0:m.getSlotElementId())!=null?n:"NO ID",D={},R=(P.forEach(function(q){u.adFuel.processedData.get(q).wrappedSlots.forEach(function(B){B.unWrappedSlot.rktr_slot_id===N&&(D=B)})}),(h=u.adFuel.logger)!=null&&h.log("========== Active Slot: ",D),D.responseData={advertiserId:d.advertiserId,campaignId:d.campaignId,creativeId:d.creativeId,isEmpty:d.isEmpty,lineItemId:d.lineItemId,renderedSize:d.size,sourceAgnosticCreativeId:d.sourceAgnosticCreativeId,sourceAgnosticLineItemId:d.sourceAgnosticLineItemId},{asset:d.slot,pos:d.slot?d.slot.getTargeting("pos"):[""],empty:!!d.isEmpty,renderedSize:(g=d.size)!=null?g:"0x0",creativeId:(y=d.sourceAgnosticCreativeId)!=null?y:"0",lineItemId:(_=d.sourceAgnosticLineItemId)!=null?_:"0",serviceName:(o=d.serviceName)!=null?o:"",divId:(p=(f=d.slot)==null?void 0:f.getSlotElementId())!=null?p:"NO ID"}),j=(R.empty&&u.adFuel.adFuelOptions.COLLAPSE_EMPTY_DIVS&&(document.getElementById(R.divId).style.display="none"),d.slot.getTargeting("creativeId")||[]),V=(d.creativeId&&j.indexOf(""+d.creativeId)<0&&j.push(""+d.creativeId),d.slot.getTargeting("lineItemId")||[]);d.lineItemId&&V.indexOf(""+d.lineItemId)<0&&V.push(""+d.lineItemId),R.divId!="NO ID"&&(F=document.getElementById(R.divId),(v=u.adFuel.logger)!=null&&v.log("Getting element for ".concat(R.divId," to set className."),F),F?F.className.includes("adfuel-rendered")||(F.className="".concat(F.className," adfuel-rendered").trim(),(b=u.adFuel.logger)!=null&&b.log("".concat(R.divId," className ").concat(F.className))):(M=u.adFuel.logger)!=null&&M.warn("Could not find element ".concat(R.divId," to set adfuel-rendered in className."))),u.executeWhenAvailable(function(){d.slot.setTargeting("creativeId",j),d.slot.setTargeting("lineItemId",V)}),(O=u.adFuel.logger)!=null&&O.info("Dispatching GPTRenderComplete: ",R),R.divId?(S=document.getElementById(R.divId))!=null&&S.dispatchEvent(new CustomEvent("GPTRenderComplete",{detail:R,bubbles:!0})):document.dispatchEvent(new CustomEvent("GPTRenderComplete",{detail:R}))}catch(q){(T=u.adFuel.logger)!=null&&T.error("Error dispatching custom event: GPTRenderComplete",q)}}).addEventListener("slotOnload",function(d){var c,m=d.slot.getSlotElementId();(c=u.adFuel.perf)!=null&&c.addMark("[".concat(m,"] Slot Loaded")),(c=u.adFuel.logger)!=null&&c.info("slotOnLoad",d),document.dispatchEvent(new CustomEvent("GPTSlotLoaded",{detail:d}))}),(t=u.adFuel.logger)!=null&&t.info("Enabling 'Collapse Empty Divs'"),googletag.pubads().collapseEmptyDivs((t=u.adFuel.adFuelOptions.COLLAPSE_EMPTY_DIVS)==null||t),(t=u.adFuel.logger)!=null&&t.info("Enabling 'Async Rendering'"),googletag.pubads().enableAsyncRendering(),(t=u.adFuel.logger)!=null&&t.info("Enabling 'Single Request'"),googletag.pubads().enableSingleRequest(),(0,i.getUrlParam)("enableInitialLoad")||((t=u.adFuel.logger)!=null&&t.info("Disabling 'Initial Load'"),googletag.pubads().disableInitialLoad());var t=((t=(t=window.WM)==null?void 0:t.UserConsent)==null?void 0:t.isInRegion("global"))===!1,s=(s=(s=window.WM)==null?void 0:s.UserConsent)==null?void 0:s.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);t&&!s&&((t=u.adFuel.logger)!=null&&t.log("Restricting Data Processing..."),googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})),(s=u.adFuel.logger)!=null&&s.info("Enabling 'Services'"),(t=u.adFuel.perf)!=null&&t.addMark("Configuring GPT END"),(s=u.adFuel.perf)!=null&&s.addMeasure("Configuring GPT"),(t=u.adFuel.perf)!=null&&t.addMark("Enabling GPT Services"),googletag.enableServices(),r()}))})},l.prototype.enableLazyLoad=function(u){var r=this;this.executeWhenAvailable(function(){var t;(t=r.adFuel.perf)!=null&&t.addMark("Enabling GPT Lazy Load"),googletag.pubads().enableLazyLoad({fetchMarginPercent:u.fetch,renderMarginPercent:u.render,mobileScaling:u.scaling})})},l.prototype.setChildDirectedTreatmentTag=function(u){var r,t=this;this._setChildDirectedTreatment?(this.executeWhenAvailable(function(){var s;(s=t.adFuel.perf)!=null&&s.addMark("Setting Child-Directed Treatment"),googletag.pubads().setPrivacySettings({childDirectedTreatment:!0,underAgeOfConsent:!0})}),this._setChildDirectedTreatment=!1):(r=this.adFuel.logger)!=null&&r.info("setChidlDirectedTreatment has already been caleld.")},l.prototype.setLocation=function(u,r){var t=this;this.executeWhenAvailable(function(){var s;(s=t.adFuel.perf)!=null&&s.addMark("Setting Location"),googletag.pubads().setLocation(u,r)})},l.prototype.setSafeFrameConfig=function(u){var r=this;this.executeWhenAvailable(function(){var t;(t=r.adFuel.perf)!=null&&t.addMark("Setting SafeFrame Config"),googletag.pubads().setSafeFrameConfig(u)})},l.prototype.setSlotSafeFrameConfig=function(u,r){var t=this;u&&this.executeWhenAvailable(function(){var s;(s=t.adFuel.perf)!=null&&s.addMark("[".concat(u.getSlotElementId(),"] Setting Slot SafeFrame Config")),u.setSafeFrameConfig(r)})},e.GoogleApi=l},{"@turnercode/digital-ads-utilities/dist/getUrlParam":8}],34:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GptProcessData=void 0;var i=a("linq-collections");function l(){this.wrappedSlots=new i.List,this.url="",this.pageTargets={},this.slotTargets={},this.dispatched=!1}l.prototype.build=function(u,r,t,s,d,c){return s===void 0&&(s=""),d===void 0&&(d={}),c===void 0&&(c={}),this.timestamp=new Date().getTime(),this.registry=u,this.wrappedSlots=r,this.options=t,this.url=s,this.pageTargets=d,this.slotTargets=c,this.dispatched=!1,this},l.prototype.clone=function(){return new l().build(this.registry&&JSON.parse(JSON.stringify(this.registry)),new i.List(this.wrappedSlots.toArray()),this.options&&JSON.parse(JSON.stringify(this.options)),"".concat(this.url),JSON.parse(JSON.stringify(this.pageTargets)),JSON.parse(JSON.stringify(this.slotTargets)))},e.GptProcessData=l},{"linq-collections":23}],35:[function(t,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(d,c){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(m,n){m.__proto__=n}:function(m,n){for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(m[h]=n[h])}))(d,c)},function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function m(){this.constructor=d}i(d,c),d.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.GptScriptLoader=void 0,t("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl")),t=t("../system/AController"),t=(l=t.AController,u(s,l),Object.defineProperty(s.prototype,"readyId",{get:function(){return"gptScript"},enumerable:!1,configurable:!0}),s.prototype.loadScript=function(){var d,c=this;return(d=this.perf)!=null&&d.addMark("GPT Script Load START"),(d=this.perf)!=null&&d.addMark("GPT Script Ready START"),(0,r.loadScriptFromUrl)("https://securepubads.g.doubleclick.net/tag/js/gpt.js","GPTScript",this._document).then(function(){var m;(m=c.logger)!=null&&m.info("GPT is loaded."),(m=c.perf)!=null&&m.addMark("GPT Script Load END"),(m=c.perf)!=null&&m.addMeasure("GPT Script Load"),(m=window.googletag)!=null&&m.cmd.push(function(){var n,h=((h=window.googletag)==null?void 0:h.getVersion())||"unknown";(n=c.logger)!=null&&n.info("GPT is ready. Version is ".concat(h)),(n=c.perf)!=null&&n.addMark("GPT Script Ready END"),(h=c.perf)!=null&&h.addMeasure("GPT Script Ready")})})},s);function s(d,c,m,n){n===void 0&&(n=document);var h=l.call(this,d)||this;return h.missionControl=d,h.logger=c,h.perf=m,h._document=n,h.missionControl.setReady(h),h}e.GptScriptLoader=t},{"../system/AController":31,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":12}],36:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MissionControl=void 0;var i=a("linq-collections");function l(u,r){this.adFuel=u,this.googleApi=r,this._ready=new i.Dictionary,this._optanonLoaded=!1,this._consentStatus=!0,this._iabRegion="global",this.processQueue=[]}l.prototype.register=function(u){this._ready.setOrUpdate(u.readyId,!1),(u=this.adFuel.logger)!=null&&u.info("Ready at Register",JSON.parse(JSON.stringify(this._ready))),(u=this.adFuel.perf)!=null&&u.addMark("Ready at Register")},Object.defineProperty(l.prototype,"firstProcessor",{get:function(){return this._firstProcessor},set:function(u){this._firstProcessor=u},enumerable:!1,configurable:!0}),l.prototype.setReady=function(u){var r,t=this;if(u){if((r=this.adFuel.logger)!=null&&r.log("Setting Processor Ready: ",u),!this._ready.containsKey(u.readyId))throw new Error("Key not found in ReadyEngine: ".concat(u.readyId));this._ready.setOrUpdate(u.readyId,!0),(r=this.adFuel.logger)!=null&&r.info("Ready",JSON.parse(JSON.stringify(this._ready)))}if(this.readyToLaunch()){if((u=this.adFuel.perf)!=null&&u.addMark("Ready To Launch"),!this._firstProcessor)throw new Error("All processes are ready, but FirstProcessor is not set.");(r=this.adFuel.perf)!=null&&r.addMark("First Processor - Processing"),this.googleApi.executeWhenAvailable(function(){t.runProcessChain(),t.adFuel.flushCmdQueue()})}},l.prototype.runProcessChain=function(){var u,r=this,t=this.processQueue.shift();(u=this.adFuel.logger)!=null&&u.log("[runProcessChain] ProcessData: ",t),t?((u=this.adFuel.logger)!=null&&u.info("[runProcessChain] Starting chain with this data",t),this.adFuel.moduleManager.callStart(t.wrappedSlots.where(function(s){return s.slotExistsOnPage}).toList()).then(function(){r.adFuel.moduleManager.callPreQueue(t.wrappedSlots.where(function(s){return s.slotExistsOnPage&&!s.isExcluded}).toList()).then(function(){var s;(s=r.adFuel.logger)!=null&&s.info("[runProcessChain] calling first processor..."),r._firstProcessor.process(t).then(function(){t.timestamp=new Date().getTime(),r.adFuel.processedData.setOrUpdate(t.timestamp,t),r.runProcessChain(),r.adFuel.flushCmdQueue()})})}).catch(function(s){var d;(d=r.adFuel.logger)!=null&&d.error("[runProcessChain] There was an error in processing the chain.  Mission Control has aborted liftoff.",s)})):(u=this.adFuel.logger)!=null&&u.info("[runProcessChain] No data to process.")},l.prototype.getSlotIfAlreadyProcessed=function(u){var r=(r=this.adFuel.processedData.firstOrDefault(function(t){return t.value.wrappedSlots.any(function(s){return s.slotId===u.slotId&&s.isBuilt})}))==null?void 0:r.value.wrappedSlots.firstOrDefault(function(t){return t.slotId===u.slotId&&t.isBuilt});return u=r!=null?r:u},l.prototype.isReady=function(u){return this._ready.get(u.readyId)},l.prototype.readyToLaunch=function(){var u,r=this._ready.all(function(t){return t.value===!0});return(u=this.adFuel.logger)!=null&&u.info("Ready to launch ".concat(r),this._ready),r},e.MissionControl=l},{"linq-collections":23}],37:[function(s,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(c,m){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,h){n.__proto__=h}:function(n,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(n[g]=h[g])}))(c,m)},function(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function n(){this.constructor=c}i(c,m),c.prototype=m===null?Object.create(m):(n.prototype=m.prototype,new n)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),e.ModuleManager=e.ModuleWrapper=void 0,s("@turnercode/digital-ads-utilities")),s=s("../system/AController"),t=function(c,m,n,h){m===void 0&&(m=void 0),n===void 0&&(n=!1),h===void 0&&(h=!1),this.moduleName=c,this.unWrappedModule=m,this.isLoaded=n,this.isReady=h},s=(e.ModuleWrapper=t,l=s.AController,u(d,l),Object.defineProperty(d.prototype,"readyId",{get:function(){return"modules"},enumerable:!1,configurable:!0}),d.prototype.executeWhenWindowLoads=function(){var c;(c=this.adFuel.perf)!=null&&c.addMark("Executing Window Processes START"),(c=this.adFuel.perf)!=null&&c.addMark("Executing Window Processes END"),(c=this.adFuel.perf)!=null&&c.addMeasure("Executing Window Processes")},d.prototype.executeWhenDOMLoads=function(){var c;(c=this.adFuel.perf)!=null&&c.addMark("Executing DOM Processes START"),this.adFuel.adFuelOptions.ACTIVE_MODULES?((c=this.adFuel.logger)!=null&&c.log("Are all expected modules loaded? ",{expected:this.adFuel.adFuelOptions.ACTIVE_MODULES,loaded:this.areAllExpectedModulesLoaded}),this.areAllExpectedModulesLoaded?((c=this.adFuel.perf)!=null&&c.addMark("Executing DOM Processes END"),(c=this.adFuel.perf)!=null&&c.addMeasure("Executing DOM Processes")):(c=this.adFuel.logger)!=null&&c.warn("Failed to load all expected modules:",this.adFuel.adFuelOptions.ACTIVE_MODULES)):((c=this.adFuel.logger)!=null&&c.log("~~ ~~ ~~ === === === SETTING MODULE MANAGER READY (A) === === === ~~ ~~ ~~"),this.adFuel.missionControl.setReady(this))},d.prototype.registerModule=function(c){var m,n;this.adFuel.registeredModules.containsKey(c.MODULE_LOG_TAG)?(n=this.adFuel.registeredModules.get(c.MODULE_LOG_TAG)).unWrappedModule=c:((m=this.adFuel.perf)!=null&&m.addMark("Creating ModuleWrapper [".concat(c.MODULE_NAME,"]")),n=new t(c.MODULE_LOG_TAG,c)),(m=this.adFuel.logger)!=null&&m.log("Setting Registered Module: ",{module:c,wrappedModule:n}),this.adFuel.registeredModules.setOrUpdate(c.MODULE_LOG_TAG,n),(m=this.adFuel.logger)!=null&&m.log("Expected Loaded and All Ready?: ",{expected:this.areAllExpectedModulesLoaded,ready:this.areAllModulesReady}),this.areAllExpectedModulesLoaded&&this.areAllModulesReady&&((c=this.adFuel.logger)!=null&&c.info("All modules are loaded and ready, so setting ModuleManager ready."),(n=this.adFuel.perf)!=null&&n.addMark("All Modules Ready"),(m=this.adFuel.logger)!=null&&m.log("~~ ~~ ~~ === === === SETTING MODULE MANAGER READY (B) === === === ~~ ~~ ~~"),this.missionControl.setReady(this))},Object.defineProperty(d.prototype,"areAllExpectedModulesLoaded",{get:function(){for(var c,m,n=0,h=(m=this.adFuel.adFuelOptions.ACTIVE_MODULES)!=null?m:[];n<h.length;n++){var g=h[n];if((c=this.adFuel.logger)!=null&&c.log("moduleLogTag: ",g),!this.adFuel.registeredModules.containsKey(g))return!1}return(m=this.adFuel.logger)!=null&&m.log("notNot: ",!!this.adFuel.adFuelOptions.ACTIVE_MODULES),!!this.adFuel.adFuelOptions.ACTIVE_MODULES},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"areAllModulesReady",{get:function(){return this.adFuel.registeredModules.count()<1||this.adFuel.registeredModules.all(function(c){return c.value.isReady})},enumerable:!1,configurable:!0}),d.prototype.callStart=function(){var c=this;return new Promise(function(m){c.adFuel.registeredModules.where(function(n){return n.value.isReady}).forEach(function(n){var h,g=(g=n.value)==null?void 0:g.unWrappedModule;if(g!=null&&g.start)try{(h=c.adFuel.perf)!=null&&h.addMark("Calling Module Start Process [".concat(n.value.moduleName,"]")),g.start()}catch(y){(h=c.adFuel.logger)!=null&&h.error("Problem calling start for ".concat(g.MODULE_NAME),y)}}),m()})},d.prototype.callPreQueue=function(c){var m=this;return new Promise(function(n){var h,g=c,y=[];m.adFuel.registeredModules.where(function(_){return _.value.isReady}).forEach(function(_){var o,f=_.value.unWrappedModule;f!=null&&f.preQueue&&((o=m.adFuel.perf)!=null&&o.addMark("Calling Module preQueue Process [".concat(_.value.moduleName,"]")),y.push((0,r.promiseWithTimeout)(1500,f.preQueue(g.toArray()).catch(function(p){var v;(v=m.adFuel.logger)!=null&&v.error("MODULE-MANAGER - Problem calling preQueue ".concat(f.MODULE_NAME),p)}),"".concat(f.MODULE_NAME," PreQueue timed out."))))}),(h=m.adFuel.logger)!=null&&h.log("MODULE-MANAGER - PreQueue Callback Promises: ",y),n(Promise.allSettled(y).then(function(_){var o;(o=m.adFuel.logger)!=null&&o.log("MODULE-MANAGER - PreQueue Callback Promises Results: ",_)}).catch(function(_){var o;(o=m.adFuel.logger)!=null&&o.error("MODULE-MANAGER - Error waiting for all promises to resolve:",_)}))})},d.prototype.callPostQueue=function(c){var m=this;return new Promise(function(n){var h,g=c,y=[];m.adFuel.registeredModules.where(function(_){return _.value.isReady}).forEach(function(_){var o,f=_.value.unWrappedModule;f!=null&&f.postQueue&&((o=m.adFuel.perf)!=null&&o.addMark("Calling Module postQueue Process [".concat(_.value.moduleName,"]")),y.push((0,r.promiseWithTimeout)(1500,f.postQueue(g.toArray()).catch(function(p){var v;(v=m.adFuel.logger)!=null&&v.error("Problem calling postQueue ".concat(f.MODULE_NAME),p)}),"".concat(f.MODULE_NAME," PostQueue timed out."))))}),(h=m.adFuel.logger)!=null&&h.log("MODULE-MANAGER - PostQueue Callback Promises: ",y),n(Promise.allSettled(y).then(function(_){var o;(o=m.adFuel.logger)!=null&&o.log("MODULE-MANAGER - PostQueue Callback Promises Results: ",_)}).catch(function(_){var o;(o=m.adFuel.logger)!=null&&o.error("MODULE-MANAGER - Error waiting for all promises to resolve:",_)}))})},d.prototype.callPreDispatch=function(c){var m=this;return new Promise(function(n){var h,g=c,y=[];m.adFuel.registeredModules.where(function(_){return _.value.isReady}).forEach(function(_){var o,f=_.value.unWrappedModule;f!=null&&f.preDispatch&&((o=m.adFuel.perf)!=null&&o.addMark("Calling Module preDispatch Process [".concat(_.value.moduleName,"]")),y.push((0,r.promiseWithTimeout)(1500,f.preDispatch(g.toArray()).catch(function(p){var v;(v=m.adFuel.logger)!=null&&v.error("Problem calling preDispatch ".concat(f.MODULE_NAME),p)}),"".concat(f.MODULE_NAME," PreDispatch timed out."))))}),(h=m.adFuel.logger)!=null&&h.log("MODULE-MANAGER - PreDispatch Callback Promises: ",y),n(Promise.allSettled(y).then(function(_){var o;(o=m.adFuel.logger)!=null&&o.log("MODULE-MANAGER - PreDispatch Callback Promises Results: ",_)}).catch(function(_){var o;(o=m.adFuel.logger)!=null&&o.error("MODULE-MANAGER - Error waiting for all promises to resolve:",_)}))})},d.prototype.callPostDispatch=function(c){var m=this;return new Promise(function(n){var h,g=c,y=[];m.adFuel.registeredModules.where(function(_){return _.value.isReady}).forEach(function(_){var o,f=_.value.unWrappedModule;f!=null&&f.postDispatch&&((o=m.adFuel.perf)!=null&&o.addMark("Calling Module postDispatch Process [".concat(_.value.moduleName,"]")),y.push((0,r.promiseWithTimeout)(1500,f.postDispatch(g.toArray()).catch(function(p){var v;(v=m.adFuel.logger)!=null&&v.error("Problem calling postDispatch ".concat(f.MODULE_NAME),p)}),"".concat(f.MODULE_NAME," PostDispatch timed out."))))}),(h=m.adFuel.logger)!=null&&h.log("MODULE-MANAGER - PostDispatch Callback Promises: ",y),n(Promise.allSettled(y).then(function(_){var o;(o=m.adFuel.logger)!=null&&o.log("MODULE-MANAGER - PostDispatch Callback Promises Results: ",_)}).catch(function(_){var o;(o=m.adFuel.logger)!=null&&o.error("MODULE-MANAGER - Error waiting for all promises to resolve:",_)}))})},d.prototype.callPreRefresh=function(c){var m=this;return new Promise(function(n){var h,g=c,y=[];m.adFuel.registeredModules.where(function(_){return _.value.isReady}).forEach(function(_){var o,f=_.value.unWrappedModule;f!=null&&f.preRefresh&&((o=m.adFuel.perf)!=null&&o.addMark("Calling Module preRefresh Process [".concat(_.value.moduleName,"]")),y.push((0,r.promiseWithTimeout)(1500,f.preRefresh(g.toArray()).catch(function(p){var v;(v=m.adFuel.logger)!=null&&v.error("Problem calling preRefresh ".concat(f.MODULE_NAME),p)}),"".concat(f.MODULE_NAME," PreRefresh timed out."))))}),(h=m.adFuel.logger)!=null&&h.log("MODULE-MANAGER - PreRefresh Callback Promises: ",y),n(Promise.allSettled(y).then(function(_){var o;(o=m.adFuel.logger)!=null&&o.log("MODULE-MANAGER - PreRefreesh Callback Promises Results: ",_)}).catch(function(_){var o;(o=m.adFuel.logger)!=null&&o.error("MODULE-MANAGER - Error waiting for all promises to resolve:",_)}))})},d.prototype.callPostRefresh=function(c){var m=this;return new Promise(function(n){var h,g=c,y=[];m.adFuel.registeredModules.where(function(_){return _.value.isReady}).forEach(function(_){var o,f=_.value.unWrappedModule;f!=null&&f.postRefresh&&((o=m.adFuel.perf)!=null&&o.addMark("Calling Module postRefresh Process [".concat(_.value.moduleName,"]")),y.push((0,r.promiseWithTimeout)(1500,f.postRefresh(g.toArray()).catch(function(p){var v;(v=m.adFuel.logger)!=null&&v.error("Problem calling postRefresh ".concat(f.MODULE_NAME),p)}),"".concat(f.MODULE_NAME," PostRefresh timed out."))))}),(h=m.adFuel.logger)!=null&&h.log("MODULE-MANAGER - PostRefresh Callback Promises: ",y),n(Promise.allSettled(y).then(function(_){var o;(o=m.adFuel.logger)!=null&&o.log("MODULE-MANAGER - PostRefresh Callback Promises Results: ",_)}).catch(function(_){var o;(o=m.adFuel.logger)!=null&&o.error("MODULE-MANAGER - Error waiting for all promises to resolve:",_)}))})},d.prototype.callDestroySlot=function(c){var m=this;return new Promise(function(n){var h,g=c,y=[];m.adFuel.registeredModules.where(function(_){return _.value.isReady}).forEach(function(_){var o,f=_.value.unWrappedModule;f!=null&&f.destroySlots&&((o=m.adFuel.perf)!=null&&o.addMark("Calling Module destroySlots Process [".concat(_.value.moduleName,"]")),y.push((0,r.promiseWithTimeout)(1500,f.destroySlots(g.toArray()).catch(function(p){var v;(v=m.adFuel.logger)!=null&&v.error("Problem calling destroySlots ".concat(f.MODULE_NAME),p)}),"".concat(f.MODULE_NAME," DestroySlot timed out."))))}),(h=m.adFuel.logger)!=null&&h.log("MODULE-MANAGER - DestroySlot Callback Promises: ",y),n(Promise.allSettled(y).then(function(_){var o;(o=m.adFuel.logger)!=null&&o.log("MODULE-MANAGER - DestroySlot Callback Promises Results: ",_)}).catch(function(_){var o;(o=m.adFuel.logger)!=null&&o.error("MODULE-MANAGER - Error waiting for all promises to resolve:",_)}))})},d);function d(c){var m=l.call(this,c.missionControl)||this;return m.adFuel=c,m._windowLoaded=!1,m._domContentLoaded=!1,window.addEventListener("DOMContentLoaded",function(){var n;m._domContentLoaded||((n=m.adFuel.perf)!=null&&n.addMark("DOMContentLoaded"),m.executeWhenDOMLoads(),m._domContentLoaded=!0)}),window.addEventListener("load",function(){var n;m._windowLoaded||((n=m.adFuel.perf)!=null&&n.addMark("window.load"),m.executeWhenWindowLoads(),m._windowLoaded=!0)}),m}e.ModuleManager=s},{"../system/AController":31,"@turnercode/digital-ads-utilities":11}],38:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Monetization=void 0;var i=a("@turnercode/digital-ads-utilities/dist/Logger"),l=a("@turnercode/digital-ads-utilities/dist/getViewport");function u(r){var t,s=this,d=(this.wrappedSlot=r,this.invalidMappings=["_ns_","_nfs_"],this.invalidSegments=[],this.invalidAdUnits=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"],this.monetizedSizes=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],this.concertSizes=["1030x590","620x366","325x508","325x204"],this.isMonetized=!0,this.isSuppressed=!1,this.isOutstream=!1,this.isConcert=!1,this.viewportSizes=[],this.filteredSizes=[],this._logger=new i.Logger("AdFuel T$","Monetization","mon","color: #85BB65; padding: 2px"),this._logger.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"),this._logger.log("$$$$$$$$$$  Monetization for Slot: ",r.slotId),this.posValue=r.posMap,(0,l.getViewport)()),c=this.isSuppressed=!1;this.isConcert=!1,this.isOutstream=0<=r.slotId.indexOf("_out_"),r.slotId==="page"&&(this.isMonetized=!1),this.hasInvalidMapping()&&(this.isMonetized=!1),this.hasInvalidUnitSegment()&&(this.isMonetized=!1),this.hasInvalidAdUnit()&&(this.isMonetized=!1),r.responsive&&0<r.responsive.length&&(c=!0,this._logger.log("$$$$$$$$$$ Client Viewport : ",d),t=r.responsive.filter(function(m){return s._logger.log("$$$$$$$$$$ Slot Viewport : ",m),m=m.unwrapped[0][0],s._logger.log("$$$$$$$$$$ Client Min: ",m),parseInt(m,10)<d.width})[0].sizes,this.viewportSizes=t.sizes.map(function(m){return m.unwrapped}),this.isSuppressed=t.suppressed,this._logger.log("$$$$$$$$$$ Viewport Sizes: ",this.viewportSizes)),this._logger.log("$$$$$$$$$$ Is Responsive/Monetized/Suppressed/Outstream: ",{isResponsive:c,isMonetized:this.isMonetized,isSuppressed:this.isSuppressed,isOutstream:this.isOutstream}),this.isOutstream?(this.isMonetized=!0,c?this.viewportSizes.forEach(function(m){s.filteredSizes.push({unwrapped:m,width:parseInt(m[0],10),height:parseInt(m[1],10)})}):r.sizes.forEach(function(m){s.filteredSizes.push(m)})):this.isMonetized&&!this.isSuppressed&&this.monetizedSizes.forEach(function(m){c?s.viewportSizes.forEach(function(n){0<s.concertSizes.indexOf(n.join("x"))&&(s._logger.log("$$$$$$$$$$ Is size a Concert size?",{size:n.join("x"),index:s.concertSizes.indexOf(n.join("x"))}),s.isConcert=!0),m===n.join("x")&&s.filteredSizes.push({unwrapped:n,width:parseInt(n[0],10),height:parseInt(n[1],10)})}):r.sizes.forEach(function(n){0<s.concertSizes.indexOf(n.unwrapped.join("x"))&&(s._logger.log("$$$$$$$$$$ Is size a Concert size?",{size:n.unwrapped.join("x"),index:s.concertSizes.indexOf(n.unwrapped.join("x"))}),s.isConcert=!0),m===n.unwrapped.join("x")&&s.filteredSizes.push(n)})}),this.filteredSizes.length!==0||this.isOutstream||(this.isMonetized=!1),this._logger.log("$$$$$$$$$$ Is Concert: ",this.isConcert),this.isConcert&&(this.isMonetized=!0,this.concertSizes.forEach(function(h){var h=h.split("x"),n=[0,0],h=(h.forEach(function(g,y){n[y]=parseInt(g,10)}),{unwrapped:h,width:n[0],height:n[1]});s._logger.log("$$$$$$$$$$ Pushing Concert Size to Filtered Sizes:",h),s.filteredSizes.push(h)})),this._logger.log("$$$$$$$$$$ Filtered Sizes: ",this.filteredSizes),this._logger.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$")}u.prototype.hasInvalidMapping=function(){var r=this,t=!1;return this.invalidMappings.forEach(function(s){(r.wrappedSlot.slotId.includes(s)||r.posValue.includes(s))&&(t=!0)}),t},u.prototype.hasInvalidUnitSegment=function(){var r=this,t=!1;return this.invalidSegments.forEach(function(s){r.wrappedSlot.slotId.includes(s)&&(t=!0)}),t},u.prototype.hasInvalidAdUnit=function(){return this.invalidAdUnits.includes(this.wrappedSlot.adUnitMap)},e.Monetization=u},{"@turnercode/digital-ads-utilities/dist/Logger":3,"@turnercode/digital-ads-utilities/dist/getViewport":9}],39:[function(a,w,e){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var s,d=1,c=arguments.length;d<c;d++)for(var m in s=arguments[d])Object.prototype.hasOwnProperty.call(s,m)&&(t[m]=s[m]);return t}).apply(this,arguments)},l=(Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsParser=void 0,a("./SlotWrapper")),u=a("linq-collections");function r(t){this.adFuel=t}r.prototype.processOptions=function(t){(d=this.adFuel.perf)!=null&&d.addMark("Processing Options"),(d=this.adFuel.logger)!=null&&d.log("----slots before processOptions",t.wrappedSlots.select(function(m){return m.toLogging()}).toArray());var s,d=t.options,c=(this.processPageAdUnit(t),d!=null&&d.usePageAdUnit?((s=this.adFuel.logger)!=null&&s.log("Using page ad unit for ad unit mapping."),this.processAdUnitMapping(this.adFuel.pageAdUnit,t)):d!=null&&d.adUnitMap&&this.processAdUnitMapping(d.adUnitMap,t),d!=null&&d.slotMap&&this.processSlotMapping(d.slotMap,t),d!=null&&d.exclude&&this.processExclusions(d.exclude,t),d!=null&&d.slots&&this.processIncludes(d.slots,t),d!=null&&d.posMap&&this.processPosMapping(d.posMap,t),[]);return d!=null&&d.sync?t.wrappedSlots.forEach(function(m){return c.push(m.slotId)}):d!=null&&d.syncSlots&&(Array.isArray(d.syncSlots)||(this.adFuel.adFuelOptions.syncSlots=[d.syncSlots]),c.push.apply(c,d.syncSlots)),t.wrappedSlots.where(function(m){return c.includes(m.slotId)}).forEach(function(m){return m.sync=!0}),(s=this.adFuel.logger)!=null&&s.log("----slots after processOptions",t.wrappedSlots.toArray()),t},r.prototype.processAdUnitMapping=function(t,s){var d,c,m=this;(d=this.adFuel.perf)!=null&&d.addMark("Processing AdUnit Mapping [".concat(JSON.stringify(t),"]")),(d=this.adFuel.logger)!=null&&d.log("Processing AdUnit Mapping ".concat(JSON.stringify(t))),c=JSON.parse(JSON.stringify(typeof t=="string"?{all:t}:t)),(d=this.adFuel.logger)!=null&&d.log("-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= UnitMapClone: ",c),s.wrappedSlots.forEach(function(n){var h;(h=m.adFuel.logger)!=null&&h.log("-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= Checking if slot should be mapped: ",{slot:n,id:n.slotId,unitMapClone:c}),c.all!==void 0?((h=m.adFuel.logger)!=null&&h.log("-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= Mapping Slot to Global: ",c.all),n.adUnitMap=c.all):c[n.slotId]!==void 0&&((h=m.adFuel.logger)!=null&&h.log("-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= Mapping Slot to Specific: ",c[n.slotId]),n.adUnitMap=c[n.slotId])})},r.prototype.processPageAdUnit=function(t){var s;this.adFuel.pageAdUnit===""&&1<t.wrappedSlots.toArray().length&&(t.wrappedSlots.toArray()[0].unWrappedSlot.rktr_ad_id===""?(s=this.adFuel.logger)!=null&&s.error("Could not determine page ad unit.",t.wrappedSlots):((s=this.adFuel.logger)!=null&&s.info("Setting pageAdUnit to:",t.wrappedSlots.toArray()[0].unWrappedSlot.rktr_ad_id),this.adFuel.pageAdUnit=t.wrappedSlots.toArray()[0].unWrappedSlot.rktr_ad_id))},r.prototype.processSlotMapping=function(t,s){(d=this.adFuel.logger)!=null&&d.log("[OptionsParser] Processing Slot Mapping",{slotMap:t,data:s});for(var d,c,m=this,n=0,h=Object.keys(t);n<h.length;n++)(function(g){var y=(c=s.wrappedSlots.firstOrDefault(function(_){return _.slotId===g}))==null?void 0:c.unWrappedSlot;y?s.wrappedSlots.firstOrDefault(function(_){return _.slotId===t[g]})?(c=m.adFuel.logger)!=null&&c.warn("Mapped ".concat(t[g]," slot already exists!")):document.getElementById(t[g])?((c=m.adFuel.logger)!=null&&c.log("[OptionsParser] Creating slot ".concat(g," mapped to ").concat(t[g])),s.wrappedSlots.push(new l.SlotWrapper(i(i({},y),{rktr_slot_id:t[g]})))):(c=m.adFuel.logger)!=null&&c.warn("".concat(t[g]," has no matching element on the page and won't be added to allWrappedSlots.'")):(c=m.adFuel.logger)!=null&&c.warn("Could not find source slot data for ".concat(g," in the registry or allWrappedSlots in processSlotMap."))})(h[n])},r.prototype.processPosMapping=function(t,s){var d,c,m=this;if((d=this.adFuel.perf)!=null&&d.addMark("Processing POS Mapping ".concat(JSON.stringify(t),"]")),(d=this.adFuel.logger)!=null&&d.log("[OptionsParser] Processing POS Mapping",t),typeof t=="string")s.wrappedSlots.forEach(function(g){var y;(y=m.adFuel.logger)!=null&&y.log("[OptionsParser] Setting pos to global:",t),g.posMap=t});else{var n,h=this;for(n in t)(function(g){var y=s.wrappedSlots.firstOrDefault(function(_){return _.slotId===g});if((c=h.adFuel.logger)!=null&&c.log("[OptionsParser] Validating specific pos:",{source:y,key:g}),!y)return(c=h.adFuel.logger)!=null&&c.warn("Cant' find slot ".concat(g," to use as a source in POS Mapping."));y&&((c=h.adFuel.logger)!=null&&c.log("[OptionsParser] Setting pos to specific:",{source:y,key:g}),y.posMap=t[g])})(n)}},r.prototype.processExclusions=function(t,s){var d;(d=this.adFuel.perf)!=null&&d.addMark("Processing Exclusions ".concat(JSON.stringify(t),"]")),Array.isArray(t)||(t=[t]),(d=this.adFuel.logger)!=null&&d.log("#################### Should process exclusions?",0<t.length),t.length<1||((d=this.adFuel.logger)!=null&&d.log("#################### Processing exclusions:",t),(d=this.adFuel.logger)!=null&&d.log("#################### Pre Exclusions: ",s.wrappedSlots),d=s.wrappedSlots.toArray().map(function(c){return t.includes(c.slotId)&&(c.isExcluded=!0),c}),s.wrappedSlots=new u.List(d),(s=this.adFuel.logger)!=null&&s.log("#################### Post Exclusions: ",d))},r.prototype.processIncludes=function(t,s){var d;(d=this.adFuel.perf)!=null&&d.addMark("Processing Slots (inclusions) ".concat(JSON.stringify(t))),Array.isArray(t)||(t=[t]),(d=this.adFuel.logger)!=null&&d.log("#################### Should process inclusions?",0<t.length),t.length<1||((d=this.adFuel.logger)!=null&&d.log("#################### Processing inclusions:",t),(d=this.adFuel.logger)!=null&&d.log("#################### Pre Inclusions: ",s.wrappedSlots),d=s.wrappedSlots.where(function(c){return t.includes(c.slotId)}).toArray().map(function(c){return c.isExcluded=!1,c}),s.wrappedSlots=new u.List(d),(s=this.adFuel.logger)!=null&&s.log("#################### Post Inclusions: ",d))},e.OptionsParser=r},{"./SlotWrapper":43,"linq-collections":23}],40:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayLoader=void 0;var i=a("@turnercode/digital-ads-utilities/dist/localization");function l(u){this.adFuel=u,this._overlaysHidden=!0}Object.defineProperty(l.prototype,"overlaysHidden",{get:function(){return this._overlaysHidden},enumerable:!1,configurable:!0}),l.prototype._togglePageOverlay=function(){var u,r,t,s;(u=this.adFuel.logger)!=null&&u.log("===== OVERLAY LOADER ===== Toggling Page Overlay...",this.overlaysHidden),this.overlaysHidden&&((u=document.createElement("style")).innerHTML="\n        html::-webkit-scrollbar:horizontal { display: none; width: 0; height: 0; }\n        html body::-webkit-scrollbar:horizontal { display: none; width: 0; height: 0; }\n      ",(r=document.createElement("div")).className="pos_overlay",r.id="page_overlay",r.style.position="fixed",r.style.bottom="0",r.style.left="10",r.style.textAlign="left",r.style.padding="5px",r.style.marginBottom="25px",r.style.fontFamily="Verdana",r.style.fontSize="12px",r.style.fontWeight="normal",r.style.lineHeight="12px",r.style.background="rgba(0,50,100,0.7)",r.style.color="#ffffff",r.style.zIndex="2147483000",r.style.overflow="hidden",r.style.overflowY="auto",r.style.overflowX="auto",r.style.width="500px",r.style.height="30vh",(t=document.createElement("ul")).style.listStyleType="none",t.style.margin="0px",t.style.marginTop="5px",t.style.marginBottom="5px",t.style.padding="5px",t.innerHTML=t.innerHTML+'<div style="position: absolute; top: 5px; right: 5px; align: right; text-align: right; display: inline-block;"><a style="cursor: copy; color: white;" onClick="copyPageInfo()">[COPY]</a></div>',s=this.adFuel,["afv","uc","mv","reg"].forEach(function(d){var c,m=document.createElement("li"),n=(m.style.margin="5px",m.style.padding="0px",s.version()),h=s.registeredModules.getKeys(),g=s.fetchedRegistries.keys(),y=((c=s.logger)!=null&&c.log("Version: ",n),(c=s.logger)!=null&&c.log("Modules: ",h),(c=s.logger)!=null&&c.log("Registries: ",g),((c=(c=window.WM)==null?void 0:c.UserConsent)==null?void 0:c.getRegion())||"global"),_=y==="global"?"N/A":JSON.stringify((c=(c=window.WM)==null?void 0:c.UserConsent)==null?void 0:c.getConsentState(),null,2);switch((c=s.logger)!=null&&c.log("Consent Region: -".concat(y,"-")),(c=s.logger)!=null&&c.log("Consent Status: ",_),m.style.direction="ltr",d){case"afv":m.innerHTML='<b style="font-size: 1.25em;">AdFuel v'.concat(n,"</b>");break;case"mv":m.innerHTML='<hr style="margin: 2px; padding: 2px; width: 80%"><b>Modules:</b>',m.innerHTML=m.innerHTML+'<ul style="list-style-type: none; margin: 0px; margin-left: 5px; padding-top: 2px; padding-bottom: 2px;">',h.forEach(function(p){var f,p=s.registeredModules.get(p);m.innerHTML=m.innerHTML+'<li style="margin: 0px; margin-left: 5px;">'.concat((f=p.unWrappedModule)==null?void 0:f.MODULE_NAME," v").concat((f=p.unWrappedModule)==null?void 0:f.MODULE_VERSION,"</li>")}),m.innerHTML=m.innerHTML+"</ul>";break;case"reg":m.innerHTML='<hr style="margin: 2px; padding: 2px; width: 80%"><b>Registries:</b>',m.innerHTML=m.innerHTML+'<ul style="list-style-type: none; margin: 0px; margin-left: 5px; padding-top: 2px; padding-bottom: 2px;">',Array.from(g).forEach(function(o){var f=s.fetchedRegistries.get(o),p=null;f&&(p=f[0]),m.innerHTML=m.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>Name:</b> '.concat(p==null?void 0:p.rktr_id,"</li>"),m.innerHTML=m.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>Website:</b> <a style="color: yellow;" href="'.concat(o,'" target="_blank">').concat(o,"</a></li>"),m.innerHTML=m.innerHTML+'<li style="margin: 0px; margin-left: 5px; padding-bottom: 5px; border-bottom: solid 1px white;"><b>Last Updated:</b> '.concat(p==null?void 0:p.rktr_deployed_date,"<br /></li>")}),m.innerHTML=m.innerHTML+"</ul>";break;case"uc":m.innerHTML='<hr style="margin: 2px; padding: 2px; width: 80%"><b>User Consent:</b>',m.innerHTML=m.innerHTML+'<ul style="list-style-type: none; margin: 0px; margin-left: 5px; padding-top: 2px; padding-bottom: 2px;">',m.innerHTML=m.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>Region:</b> '.concat(y.toUpperCase(),"</li>"),m.innerHTML=m.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>Status:</b> '.concat(_?"Granted":"Denied","</li>"),m.innerHTML=m.innerHTML+"</ul>"}t.appendChild(m)}),r.appendChild(t),window.copyPageInfo=function(){var d=(d=document.getElementById("page_overlay"))==null?void 0:d.innerText.replace("[COPY]","");return console.log("Overlay Text: ",d),navigator.clipboard.writeText(d||""),d},this.showTemporalData(r),document.head.appendChild(u),document.body.appendChild(r))},l.prototype._toggleOverlays=function(){var u,r,t=this;if(this._overlaysHidden){(s=this.adFuel.logger)!=null&&s.log("===== OVERLAY LOADER ===== Showing Overlays..."),this._togglePageOverlay();var s=document.querySelectorAll(".adfuel-rendered");(u=this.adFuel.logger)!=null&&u.log("===== OVERLAY LOADER ===== Ad Slots:",s),c=s.length,s.forEach(function(n){var h=n.id,g=document.getElementById(h)||document.createElement("div"),y=(g.style.position="relative",(f=t.adFuel)==null?void 0:f.processedData),f=y.getKeys(),_={},o=(f.forEach(function(v){var b=y.get(v);(v=t.adFuel.logger)!=null&&v.log("===== OVERLAY LOADER ===== Registry:",b),b.wrappedSlots.forEach(function(M){M.unWrappedSlot.rktr_slot_id===h&&M.isBuilt&&M.gSlot&&((_=M).parentRegistry=b.url)})}),(f=t.adFuel.logger)!=null&&f.log("===== OVERLAY LOADER ===== data: ",{processedData:y,adElement:n,adFuel:Object.keys(t.adFuel),activeSlot:_}),h.substring(h.indexOf("_")+1)),f=document.createElement("div"),p=(f.className="pos_overlay",f.style.position="absolute",f.style.top="0",f.style.left="0",f.style.right="0",f.style.bottom="0",f.style.textAlign="left",f.style.padding="5px",f.style.fontFamily="Verdana",f.style.fontSize="12px",f.style.fontWeight="normal",f.style.lineHeight="12px",f.style.background="rgba(0,100,0,0.7)",f.style.color="#ffffff",f.style.zIndex="2147483000",f.style.resize="both",f.style.overflow="hidden",f.style.overflowY="auto",f.style.overflowX="auto",f.style.width=g.style.width+"px",f.style.height=g.style.height+"px",f.id="overlay_"+h,document.createElement("ul"));p.style.listStyleType="none",p.style.margin="0px",p.style.marginTop="5px",p.style.marginBottom="5px",p.style.padding="5px",p.innerHTML=p.innerHTML+'<div style="position: absolute; top: 5px; right: 5px; display: inline-block; align: right; text-align: right"><a style="cursor: copy; color: white;" onClick="copySlotInfo(\''.concat(h,"')\">[COPY]</a></div>"),["Slot","Details","Response","Programmatic","Bids","Targeting"].forEach(function(v){function b(F){return'<ul style="list-style-type: none; margin: 0px; margin-left: '.concat(F,'px; padding-top: 2px; padding-bottom: 2px;">')}function M(F){return'<li style="direction: ltr; margin-left: '.concat(F,'px; padding: 0px;">')}switch(p.innerHTML=p.innerHTML+M(5),v){case"Slot":p.innerHTML=p.innerHTML+'<b style="font-size: 1.25em;">Slot: '.concat(h,"</b>");break;case"Details":p.innerHTML=p.innerHTML+'<hr style="margin: 2px; padding: 2px; width: 80%"><b>Details:</b>',p.innerHTML=p.innerHTML+b(10),p.innerHTML=p.innerHTML+M(10)+"<b>POS:</b> "+o+"</li>",p.innerHTML=p.innerHTML+M(10)+"<b>AdUnit:</b> "+((_==null?void 0:_.adUnitMap)||(_==null?void 0:_.unWrappedSlot.rktr_ad_id))+"</li>",p.innerHTML=p.innerHTML+M(10)+"<b>Registry:</b> "+(_==null?void 0:_.parentRegistry)+"</li>",p.innerHTML=p.innerHTML+M(10)+"<b>Monetized:</b> "+(_&&_.monetization?_.monetization.isMonetized:"false")+"</li>",p.innerHTML=p.innerHTML+"</ul>";break;case"Response":p.innerHTML=p.innerHTML+'<hr style="margin: 2px; padding: 2px; width: 80%"><b>Response:</b>',p.innerHTML=p.innerHTML+b(10);var O,S=_.responseData;if(S)for(var T in S)T!=="renderedSize"&&(O=S[T])!==null&&(p.innerHTML=p.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>'.concat(T,":</b> ").concat(JSON.stringify(O),"</li>"));p.innerHTML=p.innerHTML+M(10)+"<b>Rendered Size:</b> ".concat(typeof _.responseData.renderedSize!="string"?_.responseData.renderedSize.join("x"):_.responseData.renderedSize,"</li>"),p.innerHTML=p.innerHTML+"</ul>";break;case"Programmatic":p.innerHTML=p.innerHTML+'<hr style="margin: 2px; padding: 2px; width: 80%"><b>Programmatic:</b>',p.innerHTML=p.innerHTML+b(10),Object.keys(_.programmatic).forEach(function(F){var P;switch(p.innerHTML=p.innerHTML+M(10),F){case"a9":(P=t.adFuel.logger)!=null&&P.log("===== OVERLAY LOADER ===== A9: ",_.programmatic.a9),p.innerHTML=p.innerHTML+"<b>A9:</b> ",p.innerHTML=p.innerHTML+b(15),p.innerHTML=p.innerHTML+M(15)+"<b>SlotName:</b> "+_.programmatic.a9.slotName+"</li>",p.innerHTML=p.innerHTML+"</ul>";break;case"ias":(P=t.adFuel.logger)!=null&&P.log("===== OVERLAY LOADER ===== IAS: ",_.programmatic.ias),p.innerHTML=p.innerHTML+"<b>IAS:</b> ",p.innerHTML=p.innerHTML+b(15),p.innerHTML=p.innerHTML+M(15)+"<b>adUnitPath:</b> "+_.programmatic.ias.adUnitPath+"</li>",p.innerHTML=p.innerHTML+"</ul>";break;case"krux":(P=t.adFuel.logger)!=null&&P.log("===== OVERLAY LOADER ===== Krux: ",_.programmatic.krux),p.innerHTML=p.innerHTML+"<b>Krux:</b> ",p.innerHTML=p.innerHTML+b(15),p.innerHTML=p.innerHTML+M(15)+"<b>controlTag:</b> "+((0,i.isIntl)()?_.programmatic.krux.intl_controltag:_.programmatic.krux.dom_controltag)+"</li>",p.innerHTML=p.innerHTML+"</ul>";break;case"prebid":(P=t.adFuel.logger)!=null&&P.log("===== OVERLAY LOADER ===== Prebid: ",_.programmatic.prebid),p.innerHTML=p.innerHTML+"<b>Prebid:</b> ",p.innerHTML=p.innerHTML+b(15),Object.keys(_.programmatic.prebid).forEach(function(N){N!=="bids"&&(p.innerHTML=p.innerHTML+M(15)+"<b>".concat(N.toUpperCase(),":</b><br />"),p.innerHTML=p.innerHTML+b(20),Object.keys(_.programmatic.prebid[N]).forEach(function(D){var R=D!=="keywords"?_.programmatic.prebid[N][D]:JSON.stringify(_.programmatic.prebid[N][D]);p.innerHTML=p.innerHTML+M(20)+"<b>".concat(D,":</b> ").concat(R,"</li>")}),p.innerHTML=p.innerHTML+"</ul>",p.innerHTML=p.innerHTML+"</li>")}),p.innerHTML=p.innerHTML+"</ul>"}p.innerHTML=p.innerHTML+"</li>"}),p.innerHTML=p.innerHTML+"</ul>";break;case"Targeting":p.innerHTML=p.innerHTML+'<hr style="margin: 2px; padding: 2px; width: 80%"><b>Targeting:</b>',p.innerHTML=p.innerHTML+b(10),Object.keys(_.requestedSlotTargets).forEach(function(F){0<_.requestedSlotTargets[F].length?p.innerHTML=p.innerHTML+M(10)+"<b>".concat(F,":</b> ").concat(JSON.stringify(_.requestedSlotTargets[F].join(", ")),"</li>"):(F=t.adFuel.logger)!=null&&F.log("===== OVERLAY LOADER ===== No Slot Targets [".concat(_.slotId,"]"))}),p.innerHTML=p.innerHTML+"</ul>"}p.innerHTML=p.innerHTML+"</li>"}),window.copySlotInfo=function(v){return v=(v=document.getElementById("overlay_"+v))==null?void 0:v.innerText.replace("[COPY]",""),console.log("Overlay Text: ",v),navigator.clipboard.writeText(v||""),v},f.appendChild(p),g.appendChild(f)}),this._overlaysHidden=!1}else{(u=this.adFuel.logger)!=null&&u.log("===== OVERLAY LOADER ===== Removing Overlays...");for(var d=document.querySelectorAll(".pos_overlay"),c=d.length,m=0;m<c;m++)(r=d[m].parentNode)!=null&&r.removeChild(d[m]);this._overlaysHidden=!0}},l.prototype.startConsoleTool=function(){var u,r=this;try{document.addEventListener("keydown",function(t){t.isComposing||t.keyCode===229||t.code==="229"||t.code==="KeyZ"&&t.ctrlKey&&t.shiftKey&&r._toggleOverlays()})}catch(t){(u=this.adFuel.logger)!=null&&u.log("Error Starting Console Tool: ",t)}},l.prototype.getTemporalData=function(){var u=[];return performance.getEntries().forEach(function(r,t){t===0?["connectEnd","connectStart","domComplete","domContentLoadedEventStart","domContentLoadedEventEnd","domInteractive","domainLookupStart","domainLookupEnd","fetchStart","loadEventEnd","loadEventStart","requestStart","responseStart","responseEnd"].forEach(function(s){r[s]!==1&&u.push({name:s,startTime:r[s],duration:0,entryType:"navigation"})}):(0<=r.name.indexOf("ADFUEL")||0<=["gpt-tag-load","gpt-first-ad-request","gpt-first-ad-render"].indexOf(r.name))&&u.push(r)}),u.sort(function(r,t){return r.startTime>t.startTime?1:r.startTime<t.startTime?-1:0}),u},l.prototype.showTemporalData=function(u){var r=document.createElement("div"),t=(r.style.textAlign="left",r.innerHTML="<b>Performance Data:</b>",this.getTemporalData()),s=["name","entryType","startTime","duration"],d=document.createElement("table"),c=(d.border="1",d.style.width="100%",document.createElement("thead")),m=document.createElement("tr"),n=(c.appendChild(m),s.forEach(function(h){var g=document.createElement("td");g.innerHTML=h.toUpperCase(),g.style.padding="5px",g.style.paddingLeft="5px",g.style.paddingRight="5px",g.style.fontSize="1em",g.style.fontWeight="bolder",g.style.textAlign="center",m.appendChild(g)}),document.createElement("tbody"));t.forEach(function(h){var g=document.createElement("tr");g.style.padding="15px",s.forEach(function(y){var _=document.createElement("td");switch(y){case"name":_.innerHTML=h[y].replace("[ADFUEL TS] ","");break;case"startTime":case"duration":_.innerHTML=parseFloat(h[y]).toFixed(4);break;default:_.innerHTML=h[y]}_.style.padding="2px",_.style.paddingLeft="5px",_.style.paddingRight="5px",_.style.fontSize=".8em",_.style.fontWeight="normal",g.appendChild(_)}),n.appendChild(g)}),d.appendChild(c),d.appendChild(n),r.appendChild(d),u.appendChild(r)},e.OverlayLoader=l},{"@turnercode/digital-ads-utilities/dist/localization":13}],41:[function(g,w,e){"use strict";var i,l,u=this&&this.__extends||(i=function(_,o){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,p){f.__proto__=p}:function(f,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(f[v]=p[v])}))(_,o)},function(_,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function f(){this.constructor=_}i(_,o),_.prototype=o===null?Object.create(o):(f.prototype=o.prototype,new f)}),r=this&&this.__awaiter||function(_,o,f,p){return new(f=f||Promise)(function(v,b){function M(T){try{S(p.next(T))}catch(F){b(F)}}function O(T){try{S(p.throw(T))}catch(F){b(F)}}function S(T){var F;T.done?v(T.value):((F=T.value)instanceof f?F:new f(function(P){P(F)})).then(M,O)}S((p=p.apply(_,o||[])).next())})},t=this&&this.__generator||function(_,o){var f,p,v,b={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]},M={next:O(0),throw:O(1),return:O(2)};return typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function O(S){return function(T){var F=[S,T];if(f)throw new TypeError("Generator is already executing.");for(;b=M&&F[M=0]?0:b;)try{if(f=1,p&&(v=2&F[0]?p.return:F[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,F[1])).done)return v;switch(p=0,(F=v?[2&F[0],v.value]:F)[0]){case 0:case 1:v=F;break;case 4:return b.label++,{value:F[1],done:!1};case 5:b.label++,p=F[1],F=[0];continue;case 7:F=b.ops.pop(),b.trys.pop();continue;default:if(!(v=0<(v=b.trys).length&&v[v.length-1])&&(F[0]===6||F[0]===2)){b=0;continue}if(F[0]===3&&(!v||F[1]>v[0]&&F[1]<v[3]))b.label=F[1];else if(F[0]===6&&b.label<v[1])b.label=v[1],v=F;else{if(!(v&&b.label<v[2])){v[2]&&b.ops.pop(),b.trys.pop();continue}b.label=v[2],b.ops.push(F)}}F=o.call(_,b)}catch(P){F=[6,P],p=0}finally{f=v=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}}},s=(Object.defineProperty(e,"__esModule",{value:!0}),e.RegistryLoader=void 0,g("./AController")),d=g("@turnercode/digital-ads-utilities"),c=g("linq-collections"),m=g("../system"),n=g("."),h=g("./OptionsParser"),g=(l=s.AController,u(y,l),Object.defineProperty(y.prototype,"readyId",{get:function(){return"registry"},enumerable:!1,configurable:!0}),y.prototype.loadRegistryFromUrl=function(_,o){var f;return r(this,void 0,void 0,function(){var p,v=this;return t(this,function(b){return(f=this.adFuel.logger)!=null&&f.info("Loading registry JSON from ".concat(_)),typeof _!="string"?(f=this.adFuel.logger)!=null&&f.log("loadRegistryFromUrl was given a Url value that wasn't a string.",console.trace()):(_.slice(2+(_.lastIndexOf(".")-1>>>0))==="js"&&((f=this.adFuel.logger)!=null&&f.warn("The 'min.js' and '.js' registry file formats are deprecated. Please change your code to use the '.json' registry file."),(p=_.split(".")).pop(),_="".concat(p.filter(function(M){return M.toLowerCase()!=="min"}).join("."),".json"),(f=this.adFuel.logger)!=null)&&f.info("Converting input to use '.json' registry file. Converted to: ".concat(_,". ")),_=(0,d.normalizeUrl)(_),(f=this.adFuel.logger)!=null&&f.log("Looking for Registry JSON: ",_),this.fetchedRegistries.has(_)?((f=this.adFuel.logger)!=null&&f.log("Fetching Registry object from Cache"),p=this.fetchedRegistries.get(_),(f=this.adFuel.logger)!=null&&f.log("===== [RegistryLoader/loadRegistryFromUrl] Registry: ",p),this.loadRegistryFromJson(JSON.parse(JSON.stringify(p)),o,_)):((f=this.adFuel.logger)!=null&&f.log("Fetching Registry JSON from CDN"),(f=this.adFuel.perf)!=null&&f.addMark("Loading Registry JSON START"),fetch(_).then(function(M){return M.json()}).then(function(M){return v.fetchedRegistries.set(_,JSON.parse(JSON.stringify(M.registry))),M.registry}).then(function(M){var O;(O=v.adFuel.perf)!=null&&O.addMark("Loading Registry JSON END"),(O=v.adFuel.perf)!=null&&O.addMeasure("Loading Registry JSON"),v.loadRegistryFromJson(M,o,_)}).catch(function(M){var O;throw(O=v.adFuel.logger)!=null&&O.error("Error loading ".concat(_),M),Error(M)}))),[2]})})},y.prototype.loadRegistryFromJson=function(_,o,f){(M=this.adFuel.perf)!=null&&M.addMark("Processing Registry [".concat(_[0].rktr_id,"]")),f=f||"".concat(_[0].rktr_id),(M=this.adFuel.logger)!=null&&M.log("===== [RegistryLoader/loadRegistryFromJson] Registry: ",{registry:_,jsonUrl:f});var p,v=new c.List,b=_[0];b.slots=[],(M=this.adFuel.logger)!=null&&M.log("===== [RegistryLoader/loadRegistryFromJson] Options: ",o);for(var M,O=1;O<_.length;O++)b.slots.push(JSON.parse(JSON.stringify(_[O]))),o.slots&&o.slots.length!==0?0<=o.slots.indexOf(JSON.parse(JSON.stringify(_[O])).rktr_slot_id)&&((p=this.adFuel.logger)!=null&&p.log("===== [RegistryLoader/loadRegistryFromJson] Selective Slot: ",_[O]),v.push(new m.SlotWrapper(JSON.parse(JSON.stringify(_[O]))))):((p=this.adFuel.logger)!=null&&p.log("===== [RegistryLoader/loadRegistryFromJson] All Slots: ",_[O]),v.push(new m.SlotWrapper(JSON.parse(JSON.stringify(_[O])))));M=new n.GptProcessData().build(b,v,o,f),(f=this.adFuel.logger)!=null&&f.log("data variable in loadRegistryfromJson",M),this.loadRegistryFromObject(M)},y.prototype.loadRegistryFromObject=function(_){var o;_=new h.OptionsParser(this.adFuel).processOptions(_),(o=this.adFuel.logger)!=null&&o.info("GptProcessDataObject for processing",_),this.adFuel.missionControl.processQueue.push(_),this.missionControl.setReady(this)},y);function y(_){var o=l.call(this,_.missionControl)||this;return o.adFuel=_,o.fetchedRegistries=new Map,o}e.RegistryLoader=g},{".":45,"../system":45,"./AController":31,"./OptionsParser":39,"@turnercode/digital-ads-utilities":11,"linq-collections":23}],42:[function(a,w,e){"use strict";function i(l){this.unwrapped=l}Object.defineProperty(e,"__esModule",{value:!0}),e.SizeWrapper=void 0,Object.defineProperty(i.prototype,"width",{get:function(){return+this.unwrapped[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return+this.unwrapped[1]},enumerable:!1,configurable:!0}),e.SizeWrapper=i},{}],43:[function(a,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlotWrapper=void 0;var i=a("./Monetization"),l=a("./SizeWrapper"),u=a("./ViewportWrapper");function r(t){this.unWrappedSlot=t,this._sync=!1,this._isExcluded=!1,this._hasBeenDisplayed=!1,this._gslot=void 0,this._monetization={isMonetized:!1,filteredSizes:[],isSuppressed:!1},this._adUnitMap="",this._parentRegistry="",this._responsive=[],this._sizes=[],this._requestedSlotTargets={},this._posMap="",this.programmatic={},this.responseData={advertiserId:void 0,campaignId:void 0,creativeId:void 0,isEmpty:!0,lineItemId:void 0,renderedSize:"",sourceAgnosticCreativeId:void 0,sourceAgnosticLineItemId:void 0},this._adUnitMap=t.rktr_ad_id,this._posMap="";for(var s=0,d=this.targeting;s<d.length;s++){var c=d[s];if(c[0]==="pos"){this._posMap=c[1][0];break}}this.unWrappedSlot.responsive=this.formatResponsiveMapping(t);for(var m=0,n=this.unWrappedSlot.responsive;m<n.length;m++){var h=n[m];this._responsive.push(new u.ViewportWrapper(h))}for(var g=0,y=this.unWrappedSlot.sizes;g<y.length;g++){var _=y[g];this._sizes.push(new l.SizeWrapper(_))}this._monetization=new i.Monetization(this),this._parentRegistry=""}r.prototype.formatResponsiveMapping=function(t){return t.responsive.map(function(s){return s.map(function(d){return d[0]==="suppress"?[]:d.map(function(c){return Array.isArray(c)?c.map(function(m){return typeof m!="string"||m==="fluid"?m:parseInt(m,10)}):typeof c=="string"?parseInt(c,10):c})})})},Object.defineProperty(r.prototype,"slotId",{get:function(){return this.unWrappedSlot.rktr_slot_id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sync",{get:function(){return this._sync},set:function(t){this._sync=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isOutOfPage",{get:function(){return 1<=this.unWrappedSlot.rktr_slot_id.indexOf("_oop")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isBuilt",{get:function(){return!!this._gslot},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isExcluded",{get:function(){return this._isExcluded},set:function(t){this._isExcluded=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasBeenDisplayed",{get:function(){return this._hasBeenDisplayed},set:function(t){this._hasBeenDisplayed=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"slotExistsOnPage",{get:function(){return!!document.getElementById(this.slotId)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gSlot",{get:function(){return this._gslot},set:function(t){this._gslot=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"monetization",{get:function(){return this._monetization},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parentRegistry",{get:function(){return this._parentRegistry},set:function(t){this._parentRegistry=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"adUnitMap",{get:function(){return this._adUnitMap},set:function(t){this._adUnitMap=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"posMap",{get:function(){return this._posMap||""},set:function(t){this._posMap=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"targeting",{get:function(){return this.unWrappedSlot.targeting},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"responsive",{get:function(){return this._responsive},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sizes",{get:function(){return this._sizes},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isSinglton",{get:function(){return this.unWrappedSlot.rktr_slot_id.indexOf("ad_mod")===0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"requestedSlotTargets",{get:function(){return this._requestedSlotTargets},set:function(t){this._requestedSlotTargets=t},enumerable:!1,configurable:!0}),r.prototype.toLogging=function(){return{slotId:this.slotId,isExcluded:this.isExcluded,isBuilt:this.isBuilt,hasBeenDisplayed:this.hasBeenDisplayed,slotExistsOnPage:this.slotExistsOnPage,isOOP:this.isOutOfPage}},e.SlotWrapper=r},{"./Monetization":38,"./SizeWrapper":42,"./ViewportWrapper":44}],44:[function(l,w,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportWrapper=void 0;var i=l("./SizeWrapper"),l=(Object.defineProperty(u.prototype,"viewport",{get:function(){return new i.SizeWrapper(this.unwrapped[0])},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"sizes",{get:function(){for(var r={sizes:[],suppressed:!1},t=0,s=this.unwrapped[1];t<s.length;t++){var d=s[t];Array.isArray(d)?r.sizes.push(new i.SizeWrapper(d)):r.suppressed=!0}return r},enumerable:!1,configurable:!0}),u);function u(r){this.unwrapped=r}e.ViewportWrapper=l},{"./SizeWrapper":42}],45:[function(a,w,e){"use strict";var i=this&&this.__createBinding||(Object.create?function(u,r,t,s){s===void 0&&(s=t);var d=Object.getOwnPropertyDescriptor(r,t);d&&("get"in d?r.__esModule:!d.writable&&!d.configurable)||(d={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(u,s,d)}:function(u,r,t,s){u[s=s===void 0?t:s]=r[t]}),l=this&&this.__exportStar||function(u,r){for(var t in u)t==="default"||Object.prototype.hasOwnProperty.call(r,t)||i(r,u,t)};Object.defineProperty(e,"__esModule",{value:!0}),e.processors=void 0,e.processors=a("../processors/index"),l(a("./MissionControl"),e),l(a("./SlotWrapper"),e),l(a("./ViewportWrapper"),e),l(a("./SizeWrapper"),e),l(a("./GoogleApi"),e),l(a("./GptProcessData"),e),l(a("./RegistryLoader"),e),l(a("./ModuleManager"),e),l(a("./GptScriptLoader"),e),l(a("./OverlayLoader"),e),l(a("./BaseAdFuelOptions"),e)},{"../processors/index":30,"./BaseAdFuelOptions":32,"./GoogleApi":33,"./GptProcessData":34,"./GptScriptLoader":35,"./MissionControl":36,"./ModuleManager":37,"./OverlayLoader":40,"./RegistryLoader":41,"./SizeWrapper":42,"./SlotWrapper":43,"./ViewportWrapper":44}],46:[function(a,w,e){w.exports={family:"Platinum Peacemaker ",major:3,minor:0,revision:49}},{}]},{},[25])(25)})});var J=ms();function Af(){let a=[],w={};for(let[e,i]of Object.entries(w))J.get("TRINITY_CONFIGURATION.international.michonne.features.".concat(i))&&a.push(e);return a}function Cf(){J.get("TRINITY_CONFIGURATION.international.michonne.features.enableIntegralAdScience")&&vs(),J.get("TRINITY_CONFIGURATION.international.michonne.features.enableFreewheelProgrammatic")&&_s(),Es(),As(),Os()}function Of(){J.get("TRINITY_CONFIGURATION.international.michonne.features.enableCep")&&Ls(),J.get("TRINITY_CONFIGURATION.international.michonne.features.enableInViewRefresh")&&Is(),J.get("TRINITY_CONFIGURATION.international.michonne.features.enableMalvertisingDetection")&&Ps(),J.get("TRINITY_CONFIGURATION.international.michonne.features.enableBlockThrough")&&Ds(),Ns()}function Ff(a){let w="default",e=J.get("TRINITY_CONFIGURATION.international.michonne.ads.adfuelOptionsOverrides");return e&&e[w]?{...a,...e}:a}var ks={};ks=J.get("ADFUEL_CONFIGS.espanol");window.AdFuelOptions=Ff(ks);window.AdFuelOptions.ADFUEL.ACTIVE_MODULES=Af();Cf();(function(){window.AdFuelOptions&&Of()})();})();
//# sourceMappingURL=espanol-adfuel-lite.map
